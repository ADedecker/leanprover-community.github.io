---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/81055IstherecodeforXalreadysomewhere.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html">Is there code for X already somewhere?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="183735833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183735833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183735833">Juho Kupiainen (Dec 18 2019 at 10:06)</a>:</h4>
<p>I'm starting this topic so people have a place to ask questions of the form "has someone already coded X, or something close to it?" All such questions are welcome even if you could probably find the answer on your own fairly quickly..</p>

<a name="183736057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183736057" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183736057">Juho Kupiainen (Dec 18 2019 at 10:09)</a>:</h4>
<p>Is there code for <strong>symmetric algebras</strong> <a href="https://en.wikipedia.org/wiki/Symmetric_algebra" target="_blank" title="https://en.wikipedia.org/wiki/Symmetric_algebra">https://en.wikipedia.org/wiki/Symmetric_algebra</a></p>

<a name="183736404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183736404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183736404">Johan Commelin (Dec 18 2019 at 10:15)</a>:</h4>
<p>We have tensor products, but nothing beyond that</p>

<a name="183737888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183737888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183737888">Patrick Massot (Dec 18 2019 at 10:34)</a>:</h4>
<p>Multilinear algebra is pretty high on the TODO list, but not done yet. We'll almost need the alternating and anti-symmetric parts of the story.</p>

<a name="183748363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183748363" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183748363">Kevin Buzzard (Dec 18 2019 at 13:12)</a>:</h4>
<p>There's the question of whether we're allowed to divide by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">k!</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">!</span></span></span></span> as well (the theory can be simplified in characteristic zero).</p>

<a name="183748403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183748403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183748403">Patrick Massot (Dec 18 2019 at 13:13)</a>:</h4>
<p>I guess the mathlib answer is pretty clear, we should follow Bourbaki and never divide anything.</p>

<a name="183774555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183774555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183774555">Chris Hughes (Dec 18 2019 at 18:07)</a>:</h4>
<p>(deleted)</p>

<a name="183823455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183823455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183823455">Sebastien Gouezel (Dec 19 2019 at 07:52)</a>:</h4>
<p>I need the function changing the value of a function at a given point. Something like</p>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm">- `replace_at f i₀ x` is the function equal to `f`, except at `i₀` where it is equal to `x`. -/</span>
<span class="n">def</span> <span class="n">replace_at</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i₀</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">if</span> <span class="n">i</span> <span class="bp">=</span> <span class="n">i₀</span> <span class="k">then</span> <span class="n">x</span> <span class="k">else</span> <span class="n">f</span> <span class="n">i</span>
</pre></div>


<p>Is this already in mathlib?</p>

<a name="183824144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183824144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183824144">Johan Commelin (Dec 19 2019 at 08:07)</a>:</h4>
<p>We really need to be able to write</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">kitchen_sink</span>

<span class="c">/-</span><span class="cm">- `replace_at f i₀ x` is the function equal to `f`, except at `i₀` where it is equal to `x`. -/</span>
<span class="n">def</span> <span class="n">replace_at</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i₀</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">ι</span><span class="o">)</span> <span class="o">:</span> <span class="n">α</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">library_search</span>
</pre></div>


<p>in some scratch file.</p>

<a name="183824149"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183824149" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183824149">Johan Commelin (Dec 19 2019 at 08:07)</a>:</h4>
<p>Don't these <code>mk_all.sh</code> scripts allow us to do that?</p>

<a name="183824343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183824343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183824343">Sebastien Gouezel (Dec 19 2019 at 08:11)</a>:</h4>
<p>Except that here <code>library_search</code> will not help, because it doesn't know what I want to do. For instance, <code>suggest</code> could give me the answer <code>f i</code>. Or  <code>x</code>. Or <code>f i₀</code>. This is really a question where automated tools will not help you, and where you need human beings.</p>

<a name="183825723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183825723" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183825723">Johan Commelin (Dec 19 2019 at 08:37)</a>:</h4>
<p>Well, a list of all existing terms of that type would still be helpful, right?</p>

<a name="183826188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183826188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183826188">Sebastien Gouezel (Dec 19 2019 at 08:45)</a>:</h4>
<p>Of that exact type (i.e., using the same parameters and not a subset of them), up to permutation, yes this would definitely be useful.</p>

<a name="183826243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183826243" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183826243">Marc Huisinga (Dec 19 2019 at 08:46)</a>:</h4>
<p>function.update?</p>

<a name="183826896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183826896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183826896">Sebastien Gouezel (Dec 19 2019 at 08:58)</a>:</h4>
<p>Thanks!</p>

<a name="183827006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183827006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183827006">Sebastien Gouezel (Dec 19 2019 at 09:00)</a>:</h4>
<p>Do you know the name of the following lemma in the library?</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">lt_of_lt_succ_ne</span> <span class="o">{</span><span class="n">j</span> <span class="n">n</span><span class="o">}</span> <span class="o">(</span><span class="n">h₁</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">&lt;</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">(</span><span class="n">h₂</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">≠</span> <span class="n">n</span><span class="o">)</span> <span class="o">:</span> <span class="n">j</span> <span class="bp">&lt;</span> <span class="n">n</span>
</pre></div>


<p>It is called <code>array.push_back_idx</code>. Thanks <code>library_search</code>!</p>

<a name="183827022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183827022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183827022">Mario Carneiro (Dec 19 2019 at 09:01)</a>:</h4>
<p>I believe there is something like that in <code>data.function</code>, I think it is called <code>function.write</code></p>

<a name="183827059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Is%20there%20code%20for%20X%20already%20somewhere%3F/near/183827059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81055IstherecodeforXalreadysomewhere.html#183827059">Mario Carneiro (Dec 19 2019 at 09:01)</a>:</h4>
<p>oh, I see Marc already found it</p>


{% endraw %}

{% include archive_update.html %}