---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/81595card.html
---

## Stream: [maths](index.html)
### Topic: [card](81595card.html)

---


{% raw %}
#### [ Sebastien Gouezel (Feb 03 2019 at 11:04)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157462130):
<p>Is there already a function associating to any set its cardinality if it is finite, and 0 otherwise? This would be to enable me to write</p>
<div class="codehilite"><pre><span></span><span class="bp">∃</span><span class="n">t</span><span class="o">,</span> <span class="n">finite</span> <span class="n">t</span> <span class="bp">∧</span> <span class="n">card</span> <span class="n">t</span> <span class="bp">≤</span> <span class="mi">17</span>
</pre></div>


<p>without type classes trickery to convince Lean that <code>t</code> is a fintype. I know I can write</p>
<div class="codehilite"><pre><span></span><span class="bp">∃</span><span class="n">t</span><span class="o">,</span> <span class="bp">∃</span><span class="n">H</span><span class="o">:</span> <span class="n">finite</span> <span class="n">t</span><span class="o">,</span> <span class="o">(</span><span class="bp">@</span><span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">t</span> <span class="o">(</span><span class="n">finite</span><span class="bp">.</span><span class="n">fintype</span> <span class="n">H</span><span class="o">))</span> <span class="bp">≤</span> <span class="mi">17</span>
</pre></div>


<p>but this is not very readable...</p>

#### [ Mario Carneiro (Feb 03 2019 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157462445):
<p>You can use <code>cardinal.mk</code>, but the result isn't a nat</p>

#### [ Mario Carneiro (Feb 03 2019 at 11:22)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157462712):
<p>It's not hard to define the function you are talking about either... if you define it with enough supporting theorems it seems like a good utility function for mathlib</p>

#### [ Sebastien Gouezel (Feb 03 2019 at 11:39)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463238):
<p>OK, I'll prepare something like that (and interface it with finsets, fintypes, and <a href="http://cardinal.mk" target="_blank" title="http://cardinal.mk">cardinal.mk</a>). For the name, what about <code>set.card</code>?</p>

#### [ Mario Carneiro (Feb 03 2019 at 11:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463414):
<p>it's not really a set thing.. I was just thinking <code>fintype.card'</code></p>

#### [ Mario Carneiro (Feb 03 2019 at 11:44)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463422):
<p>I guess it has type <code>Type -&gt; nat</code></p>

#### [ Mario Carneiro (Feb 03 2019 at 11:48)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463531):
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card&#39;</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">classical</span><span class="bp">;</span> <span class="n">exact</span>
<span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">fintype</span> <span class="n">α</span><span class="o">)</span> <span class="k">then</span> <span class="bp">@</span><span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">choice</span> <span class="n">h</span><span class="o">)</span> <span class="k">else</span> <span class="mi">0</span>
</pre></div>

#### [ Sebastien Gouezel (Feb 03 2019 at 12:16)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157464336):
<p>Well, it's not really a <code>fintype</code> thing either, as it applies to all Types an not just fintypes.</p>

#### [ Mario Carneiro (Feb 03 2019 at 12:23)](https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157464546):
<p>that's true, although it is defined in terms of fintypes and only actually works on fintypes</p>


{% endraw %}
