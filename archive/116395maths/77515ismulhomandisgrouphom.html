---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/77515ismulhomandisgrouphom.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html">is_mul_hom and is_group_hom</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="169357548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169357548" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169357548">Yury G. Kudryashov (Jun 30 2019 at 23:03)</a>:</h4>
<p>Hi, is there any reason why <code>is_group_hom</code> does not extend <code>is_mul_hom</code>?<br>
BTW, they use slightly different <code>map_mul</code> types (explicit vs implicit arguments).</p>

<a name="169361781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169361781" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169361781">Johan Commelin (Jul 01 2019 at 01:22)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> The reason is history. <code>is_mul_hom</code> was added only very recently. And there was no big refactor, as maybe there should have been.</p>

<a name="169373918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169373918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169373918">Yury G. Kudryashov (Jul 01 2019 at 07:25)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Thank you for the explanation.</p>

<a name="169723417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723417">Yury G. Kudryashov (Jul 05 2019 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>  Probably I'll try to merge <code>is_mul_hom</code> with <code>is_group_hom</code> (I mean, make <code>is_group_hom</code> extend <code>is_mul_hom</code>). Which version of <code>map_mul</code> do you prefer: <code>∀ x y, ...</code> or <code>∀ {x y}, ...</code>?</p>

<a name="169723455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723455">Mario Carneiro (Jul 05 2019 at 17:17)</a>:</h4>
<p><code>∀ x y, ...</code></p>

<a name="169723471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723471">Chris Hughes (Jul 05 2019 at 17:17)</a>:</h4>
<p>Personally I don't think they should be different things.</p>

<a name="169723530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723530" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723530">Chris Hughes (Jul 05 2019 at 17:18)</a>:</h4>
<p>It just means you have to duplicate a lot of proofs.</p>

<a name="169723564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723564" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723564">Mario Carneiro (Jul 05 2019 at 17:18)</a>:</h4>
<p>It seems similar to <code>vector_space</code> vs <code>module</code></p>

<a name="169723582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723582" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723582">Mario Carneiro (Jul 05 2019 at 17:19)</a>:</h4>
<p>the definition isn't different, just the constraints</p>

<a name="169723591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723591" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723591">Chris Hughes (Jul 05 2019 at 17:19)</a>:</h4>
<p>But why add constraints?</p>

<a name="169723612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723612" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723612">Mario Carneiro (Jul 05 2019 at 17:19)</a>:</h4>
<p>I'm not saying what is better, and actually I forget what we did for <code>vector_space</code></p>

<a name="169723900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723900">Yury G. Kudryashov (Jul 05 2019 at 17:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> I guess, it improves readability. If you see <code>[group α] [group β] (f : α → β) (h : is_mul_hom f)</code>, you have to know that any <code>is_mul_hom</code> plays nice with <code>1</code> and <code>inv</code> to understand the text. However, <code>(h : is_group_hom f)</code> makes is much easier to read.</p>

<a name="169723927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723927" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723927">Mario Carneiro (Jul 05 2019 at 17:25)</a>:</h4>
<p>it could be a notation</p>

<a name="169723989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169723989" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169723989">Mario Carneiro (Jul 05 2019 at 17:26)</a>:</h4>
<p>I am not a big fan of when "readability" makes my proofs harder</p>

<a name="169724007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169724007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169724007">Mario Carneiro (Jul 05 2019 at 17:26)</a>:</h4>
<p>or I have to do a bunch of boilerplate to support what is effectively notation</p>

<a name="169724155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169724155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169724155">Yury G. Kudryashov (Jul 05 2019 at 17:29)</a>:</h4>
<p>Given instances <code>is_monoid_hom.to_is_mul_hom</code> and <code>is_mul_hom.to_is_monoid_hom [group β]</code>, will Lean enter a loop?</p>

<a name="169724220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169724220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169724220">Mario Carneiro (Jul 05 2019 at 17:30)</a>:</h4>
<p>yes</p>

<a name="169724245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169724245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169724245">Yury G. Kudryashov (Jul 05 2019 at 17:30)</a>:</h4>
<p>Then we have a reason for <code>is_group_hom</code> to exist.</p>

<a name="169724287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169724287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169724287">Mario Carneiro (Jul 05 2019 at 17:31)</a>:</h4>
<p>fair point</p>

<a name="169725650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169725650" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169725650">Johan Commelin (Jul 05 2019 at 17:57)</a>:</h4>
<p>Right... the fact that <code>is_group_hom</code> is just an <code>is_mul_hom</code> is a coincidence.</p>

<a name="169725655"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169725655" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169725655">Johan Commelin (Jul 05 2019 at 17:57)</a>:</h4>
<p>But in case of <code>vector_space</code> I can't think of such a reason. I would be happy to see it go away.</p>

<a name="169728737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169728737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169728737">Yury G. Kudryashov (Jul 05 2019 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> , could you please have another look at <a href="https://github.com/leanprover-community/mathlib/issues/1164" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1164">#1164</a>? It's a step towards making <code>is_group_hom</code> extend <code>is_mul_hom</code>.</p>

<a name="169729007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169729007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169729007">Johan Commelin (Jul 05 2019 at 18:53)</a>:</h4>
<p>Thanks for reminding me <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> <br>
It's on the merge queue now.</p>

<a name="169729072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/169729072" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#169729072">Yury G. Kudryashov (Jul 05 2019 at 18:54)</a>:</h4>
<p>Thanks!</p>

<a name="170799026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/is_mul_hom%20and%20is_group_hom/near/170799026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/77515ismulhomandisgrouphom.html#170799026">Yury G. Kudryashov (Jul 13 2019 at 17:47)</a>:</h4>
<p>Hi, I'm making <code>is_semiring_hom</code> and <code>is_ring_hom</code> extend <code>is_add_monoid_hom</code> etc.<br>
I have a few choices:<br>
1. Add <code>map_mul</code> and friends to the root namespace as <span class="user-mention" data-user-id="112680">@Johan Commelin</span>  suggested <a href="https://github.com/leanprover-community/mathlib/pull/1214#pullrequestreview-260461482" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/1214#pullrequestreview-260461482">here</a>. This way <code>map_add</code> conflicts with <code>multiset.map_add</code> (so I have to explicitly add <code>_root_.map_add</code> or <code>multiset.map_add</code>) and <code>map_inv</code> conflicts with its version for fields.<br>
2. Use <code>is_mul_hom.map_mul</code>, <code>is_monoid_hom.map_one</code>, <code>is_group_hom.map_inv</code>. This way users have to know which class defines <code>map_mul</code> etc.<br>
3. Use <code>export (is_mul_hom) map_mul</code> etc. This way it should be possible to use <code>is_ring_hom.map_add</code> etc unless you want to provide <code>[is_ring_hom f]</code> argument explicitly; then you find out that you need <code>[is_add_hom f]</code>, not <code>[is_ring_hom f]</code>.<br>
4. Manually export substituting arguments. I'd prefer to have a tactic for this but I never tried to write a Lean tactic and failed to find any docs on the <code>meta</code>-specific API (e.g., implemented monads).</p>


{% endraw %}

{% include archive_update.html %}