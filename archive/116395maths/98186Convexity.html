---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/98186Convexity.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html">Convexity</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="160289423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160289423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160289423">Patrick Massot (Mar 08 2019 at 13:37)</a>:</h4>
<p>Because of calculus, I realized we don't have anything about convexity in mathlib. I started something, but filling the holes in the API (including the interval API) will be very tedious, so I'd like feedback before moving on: <a href="https://gist.github.com/PatrickMassot/6b03a8cd63c44cac510e2abeb2ea710f" target="_blank" title="https://gist.github.com/PatrickMassot/6b03a8cd63c44cac510e2abeb2ea710f">https://gist.github.com/PatrickMassot/6b03a8cd63c44cac510e2abeb2ea710f</a></p>

<a name="160289535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160289535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160289535">Patrick Massot (Mar 08 2019 at 13:39)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> do you understand why <a href="https://gist.github.com/PatrickMassot/6b03a8cd63c44cac510e2abeb2ea710f#file-convex-lean-L116-L120" target="_blank" title="https://gist.github.com/PatrickMassot/6b03a8cd63c44cac510e2abeb2ea710f#file-convex-lean-L116-L120">https://gist.github.com/PatrickMassot/6b03a8cd63c44cac510e2abeb2ea710f#file-convex-lean-L116-L120</a> can't be shrinked to one line containing only <code>abel</code>?</p>

<a name="160309536"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160309536" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160309536">Mario Carneiro (Mar 08 2019 at 17:48)</a>:</h4>
<p>I believe Alexander Bentkamp has been working on convexity, although I don't know if he is ready to release anything</p>

<a name="160311922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160311922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160311922">Patrick Massot (Mar 08 2019 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span>?</p>

<a name="160312250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160312250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160312250">Alexander Bentkamp (Mar 08 2019 at 18:22)</a>:</h4>
<p>Yes, I have started working on convexity, too. What I have is only slightly larger than yours so far.</p>

<a name="160312397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160312397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160312397">Alexander Bentkamp (Mar 08 2019 at 18:24)</a>:</h4>
<p>We should probably merge our efforts. My definition is a bit different from yours, but I think they are equivalent.</p>

<a name="160312442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160312442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160312442">Patrick Massot (Mar 08 2019 at 18:25)</a>:</h4>
<p>Could you share your file?</p>

<a name="160312566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160312566" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160312566">Alexander Bentkamp (Mar 08 2019 at 18:27)</a>:</h4>
<p><a href="/user_uploads/3121/w2CfiiYLR8tdi24yaWG6EF_L/convex.lean" target="_blank" title="convex.lean">convex.lean</a></p>

<a name="160312746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160312746" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160312746">Alexander Bentkamp (Mar 08 2019 at 18:29)</a>:</h4>
<p>I have been working along the Isabelle theory on convexity: <a href="http://isabelle.in.tum.de/dist/library/HOL/HOL-Analysis/Convex_Euclidean_Space.html" target="_blank" title="http://isabelle.in.tum.de/dist/library/HOL/HOL-Analysis/Convex_Euclidean_Space.html">http://isabelle.in.tum.de/dist/library/HOL/HOL-Analysis/Convex_Euclidean_Space.html</a></p>

<a name="160314094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160314094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160314094">Patrick Massot (Mar 08 2019 at 18:45)</a>:</h4>
<p>Nice! I think we'll need to define segments anyway. For instance we want to be able to state the mean value inequality in terms of a bound on the derivative on the relevant segment. The chosen definition of <code>is_convex</code> itself is not very import, we will have many equivalent formulations anyway (like in you file). About convexity of intervals, I think we need to fill in the intervals API anyway. And once we get inclusion criterion for all kinds of intervals then the convexity of intervals will come for free (from the caracterisation of convexity by inclusion of segments, and the fact that a segment in R is a closed interval). About half spaces in C, why don't you use the fact that <code>re</code> and <code>im</code> are real-linear forms and use the general result you proved above?</p>

<a name="160314111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160314111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160314111">Patrick Massot (Mar 08 2019 at 18:45)</a>:</h4>
<p>Are you currently working on this, or is it dormant?</p>

<a name="160315313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160315313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160315313">Alexander Bentkamp (Mar 08 2019 at 19:00)</a>:</h4>
<p>I am actively working on this</p>

<a name="160315399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160315399" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160315399">Alexander Bentkamp (Mar 08 2019 at 19:01)</a>:</h4>
<p>Concerning the halfspaces in C, I haven't found lemmas stating that re and im are real-linear forms...</p>

<a name="160315641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160315641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160315641">Patrick Massot (Mar 08 2019 at 19:04)</a>:</h4>
<p>Then let's prove it!</p>

<a name="160315837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160315837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160315837">Alexander Bentkamp (Mar 08 2019 at 19:06)</a>:</h4>
<p>Well, that's essentially what I did, but you are right that we should have a lemma explicitly stating that fact.</p>

<a name="160315891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160315891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160315891">Patrick Massot (Mar 08 2019 at 19:07)</a>:</h4>
<p>Since you are actively working on this, here is what I propose. I'll open a PR adding stuff to <code>intervals.lean</code>, filling the missing intervals and adding all lemmas stating precisely when a non-empty Icc is contained in another interval. Then you can take everything you want from my convexity gist. I really think we want the segment definition, but then I don't care what is the official definition of convexity, as long as we have many lemmas giving caracterisations.</p>

<a name="160315967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160315967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160315967">Patrick Massot (Mar 08 2019 at 19:08)</a>:</h4>
<p>And I say that convexity of all intervals will follow trivially from my interval lemmas</p>

<a name="160316008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160316008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160316008">Alexander Bentkamp (Mar 08 2019 at 19:09)</a>:</h4>
<p>Ok, sounds good.</p>

<a name="160316142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160316142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160316142">Patrick Massot (Mar 08 2019 at 19:10)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/805" target="_blank" title="https://github.com/leanprover-community/mathlib/pull/805">https://github.com/leanprover-community/mathlib/pull/805</a></p>

<a name="160316851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160316851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160316851">Patrick Massot (Mar 08 2019 at 19:20)</a>:</h4>
<p>So you can take this intervals file, remove the corresponding bits from my convexity file, and move from there. Actually I think your symmetric descriptions of segments may be pretty convenient in the ball proofs</p>

<a name="160317200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160317200" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160317200">Patrick Massot (Mar 08 2019 at 19:24)</a>:</h4>
<p>By the way, it means that you should find a way to make sure your proofs of different conditions for convexity also prove the corresponding descriptions of segments. It only means you should state them as conditions about being in a segment, and then transfer to convexity condition.</p>

<a name="160318122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Convexity/near/160318122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/98186Convexity.html#160318122">Patrick Massot (Mar 08 2019 at 19:34)</a>:</h4>
<p>The Isabelle file is really large. I like the way they state that distance to a fixed point is convex instead of hiding it inside the proof of convexity of balls like I did.</p>


{% endraw %}
