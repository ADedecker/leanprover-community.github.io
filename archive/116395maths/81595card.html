---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/81595card.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html">card</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="157462130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157462130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157462130">Sebastien Gouezel (Feb 03 2019 at 11:04)</a>:</h4>
<p>Is there already a function associating to any set its cardinality if it is finite, and 0 otherwise? This would be to enable me to write</p>
<div class="codehilite"><pre><span></span><span class="bp">∃</span><span class="n">t</span><span class="o">,</span> <span class="n">finite</span> <span class="n">t</span> <span class="bp">∧</span> <span class="n">card</span> <span class="n">t</span> <span class="bp">≤</span> <span class="mi">17</span>
</pre></div>


<p>without type classes trickery to convince Lean that <code>t</code> is a fintype. I know I can write</p>
<div class="codehilite"><pre><span></span><span class="bp">∃</span><span class="n">t</span><span class="o">,</span> <span class="bp">∃</span><span class="n">H</span><span class="o">:</span> <span class="n">finite</span> <span class="n">t</span><span class="o">,</span> <span class="o">(</span><span class="bp">@</span><span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">t</span> <span class="o">(</span><span class="n">finite</span><span class="bp">.</span><span class="n">fintype</span> <span class="n">H</span><span class="o">))</span> <span class="bp">≤</span> <span class="mi">17</span>
</pre></div>


<p>but this is not very readable...</p>

<a name="157462445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157462445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157462445">Mario Carneiro (Feb 03 2019 at 11:14)</a>:</h4>
<p>You can use <code>cardinal.mk</code>, but the result isn't a nat</p>

<a name="157462712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157462712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157462712">Mario Carneiro (Feb 03 2019 at 11:22)</a>:</h4>
<p>It's not hard to define the function you are talking about either... if you define it with enough supporting theorems it seems like a good utility function for mathlib</p>

<a name="157463238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463238" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157463238">Sebastien Gouezel (Feb 03 2019 at 11:39)</a>:</h4>
<p>OK, I'll prepare something like that (and interface it with finsets, fintypes, and <a href="http://cardinal.mk" target="_blank" title="http://cardinal.mk">cardinal.mk</a>). For the name, what about <code>set.card</code>?</p>

<a name="157463414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463414" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157463414">Mario Carneiro (Feb 03 2019 at 11:44)</a>:</h4>
<p>it's not really a set thing.. I was just thinking <code>fintype.card'</code></p>

<a name="157463422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157463422">Mario Carneiro (Feb 03 2019 at 11:44)</a>:</h4>
<p>I guess it has type <code>Type -&gt; nat</code></p>

<a name="157463531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157463531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157463531">Mario Carneiro (Feb 03 2019 at 11:48)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="n">noncomputable</span> <span class="n">def</span> <span class="n">fintype</span><span class="bp">.</span><span class="n">card&#39;</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">classical</span><span class="bp">;</span> <span class="n">exact</span>
<span class="k">if</span> <span class="n">h</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="o">(</span><span class="n">fintype</span> <span class="n">α</span><span class="o">)</span> <span class="k">then</span> <span class="bp">@</span><span class="n">fintype</span><span class="bp">.</span><span class="n">card</span> <span class="n">α</span> <span class="o">(</span><span class="n">classical</span><span class="bp">.</span><span class="n">choice</span> <span class="n">h</span><span class="o">)</span> <span class="k">else</span> <span class="mi">0</span>
</pre></div>

<a name="157464336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157464336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157464336">Sebastien Gouezel (Feb 03 2019 at 12:16)</a>:</h4>
<p>Well, it's not really a <code>fintype</code> thing either, as it applies to all Types an not just fintypes.</p>

<a name="157464546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157464546" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157464546">Mario Carneiro (Feb 03 2019 at 12:23)</a>:</h4>
<p>that's true, although it is defined in terms of fintypes and only actually works on fintypes</p>

<a name="157480635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157480635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157480635">Kenny Lau (Feb 03 2019 at 20:32)</a>:</h4>
<p><code>roption</code> anyone?</p>

<a name="157480910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157480910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157480910">Chris Hughes (Feb 03 2019 at 20:40)</a>:</h4>
<p>No point. It still won't be computable, since you need stronger than a proposition. I wouldn't mind the idea of a roption for fintype instead of Prop though.</p>

<a name="157481029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/card/near/157481029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/81595card.html#157481029">Chris Hughes (Feb 03 2019 at 20:44)</a>:</h4>
<p>Not sure that would work actually.</p>


{% endraw %}
