---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/95273freemodule.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html">free module</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="158484975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158484975" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158484975">Reid Barton (Feb 13 2019 at 22:56)</a>:</h4>
<p><code>The module `lc α β` of linear combinations over `β` (`α` is the scalar ring)</code><br>
This is what I would call the free module on a set, right?</p>

<a name="158485001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485001" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485001">Kenny Lau (Feb 13 2019 at 22:57)</a>:</h4>
<p>Unfortunately there <code>\b</code> needs to be a module or something</p>

<a name="158485012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485012">Reid Barton (Feb 13 2019 at 22:57)</a>:</h4>
<p>oh, I see...</p>

<a name="158485015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485015">Kenny Lau (Feb 13 2019 at 22:57)</a>:</h4>
<p>if you want module over a set you would want either <code>direct_sum</code> or <code>finsupp</code></p>

<a name="158485030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485030" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485030">Reid Barton (Feb 13 2019 at 22:57)</a>:</h4>
<p>Okay, I was wondering if there was something more specific than <code>direct_sum</code>.</p>

<a name="158485080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485080">Reid Barton (Feb 13 2019 at 22:58)</a>:</h4>
<p>Actually, in my case the set does happen to be a module</p>

<a name="158485086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485086">Kenny Lau (Feb 13 2019 at 22:58)</a>:</h4>
<p>then very good</p>

<a name="158485116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485116">Reid Barton (Feb 13 2019 at 22:58)</a>:</h4>
<p>the module structure on <code>lc</code> is the one that doesn't use the module structure on <code>\b</code> right?</p>

<a name="158485122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485122">Reid Barton (Feb 13 2019 at 22:58)</a>:</h4>
<p>because it's <code>finsupp.to_module</code></p>

<a name="158485130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485130" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485130">Kenny Lau (Feb 13 2019 at 22:58)</a>:</h4>
<p>nothing uses the module structure on <code>\b</code></p>

<a name="158485133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485133">Kenny Lau (Feb 13 2019 at 22:59)</a>:</h4>
<p>it's just <code>lc</code> that requires it</p>

<a name="158485233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485233" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485233">Reid Barton (Feb 13 2019 at 23:00)</a>:</h4>
<p>oh wait, I lied. I have a subset of a module, not a module. Never mind</p>

<a name="158485237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485237">Kenny Lau (Feb 13 2019 at 23:00)</a>:</h4>
<p>sadness</p>

<a name="158485778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485778">Reid Barton (Feb 13 2019 at 23:09)</a>:</h4>
<p>Do we already have <code>M → (R →ₗ[R] M)</code>?</p>

<a name="158485865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485865">Kenny Lau (Feb 13 2019 at 23:11)</a>:</h4>
<p>how about <code>M \equiv\_l (R \to\_l[R] M)</code></p>

<a name="158485889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158485889" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158485889">Reid Barton (Feb 13 2019 at 23:11)</a>:</h4>
<p>I think specializing <code>direct_sum</code> to the free module on a set would be worthwhile</p>

<a name="158487391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158487391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158487391">Reid Barton (Feb 13 2019 at 23:42)</a>:</h4>
<p>Here's what I ended up writing. I'm sure it could be golfed more.</p>
<div class="codehilite"><pre><span></span><span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span>

<span class="n">def</span> <span class="n">lself</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="o">(</span><span class="n">R</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="n">M</span><span class="o">)</span> <span class="err">≃ₗ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="n">M</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">f</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">r</span><span class="o">,</span> <span class="n">r</span> <span class="err">•</span> <span class="n">m</span><span class="o">,</span>
    <span class="n">add</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">intros</span><span class="bp">;</span> <span class="n">apply</span> <span class="n">add_smul</span><span class="o">,</span>
    <span class="n">smul</span> <span class="o">:=</span> <span class="k">by</span> <span class="n">intros</span><span class="bp">;</span> <span class="n">symmetry</span><span class="bp">;</span> <span class="n">apply</span> <span class="n">smul_smul</span> <span class="o">},</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="k">begin</span>
    <span class="n">ext</span> <span class="n">r</span><span class="o">,</span>
    <span class="n">convert</span> <span class="o">(</span><span class="n">f</span><span class="bp">.</span><span class="n">smul</span> <span class="n">r</span> <span class="mi">1</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
    <span class="n">change</span> <span class="n">f</span> <span class="n">r</span> <span class="bp">=</span> <span class="n">f</span> <span class="o">(</span><span class="n">r</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">),</span>
    <span class="n">rw</span> <span class="n">mul_one</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">one_smul</span> <span class="bp">_</span> <span class="n">m</span><span class="o">,</span>
  <span class="n">add</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">rfl</span><span class="o">,</span>
  <span class="n">smul</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">r</span> <span class="n">f</span><span class="o">,</span> <span class="n">rfl</span> <span class="o">}</span>
</pre></div>

<a name="158487569"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158487569" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158487569">Johannes Hölzl (Feb 13 2019 at 23:46)</a>:</h4>
<p>can you use <code>smul_right</code> for as <code>inv_fun</code>?</p>

<a name="158487968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158487968" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158487968">Reid Barton (Feb 13 2019 at 23:53)</a>:</h4>
<p>oh, nice</p>

<a name="158488416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158488416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158488416">Reid Barton (Feb 14 2019 at 00:00)</a>:</h4>
<p>edited</p>

<a name="158488533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158488533" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158488533">Reid Barton (Feb 14 2019 at 00:03)</a>:</h4>
<blockquote>
<p>oh wait, I lied. I have a subset of a module, not a module. Never mind</p>
</blockquote>
<p>Except actually I can also just use the entire module.</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">projective</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">R</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">M</span> <span class="bp">→</span><span class="err">ₗ</span><span class="o">[</span><span class="n">R</span><span class="o">]</span> <span class="n">lc</span> <span class="n">R</span> <span class="n">M</span><span class="o">),</span> <span class="o">(</span><span class="n">lc</span><span class="bp">.</span><span class="n">total</span> <span class="n">R</span> <span class="n">M</span><span class="o">)</span><span class="bp">.</span><span class="n">comp</span> <span class="n">f</span> <span class="bp">=</span> <span class="n">linear_map</span><span class="bp">.</span><span class="n">id</span>
</pre></div>

<a name="158488549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158488549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158488549">Reid Barton (Feb 14 2019 at 00:03)</a>:</h4>
<p>is this definition too weird</p>

<a name="158504691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504691">Johan Commelin (Feb 14 2019 at 05:53)</a>:</h4>
<p>I don't think mathematicians will recognise it</p>

<a name="158504709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504709">Johan Commelin (Feb 14 2019 at 05:53)</a>:</h4>
<p>I think <code>lc</code> is somewhat unintuitive to use there</p>

<a name="158504757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504757" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504757">Reid Barton (Feb 14 2019 at 05:54)</a>:</h4>
<p>do you mean because of the weird name, or because the definition itself is weird in a math way</p>

<a name="158504763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504763" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504763">Johan Commelin (Feb 14 2019 at 05:54)</a>:</h4>
<p>I guess both <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>

<a name="158504839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504839" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504839">Reid Barton (Feb 14 2019 at 05:56)</a>:</h4>
<p>I agree it's not very recognizable, and doing similar things for injective or flat modules will probably be worse</p>

<a name="158504920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504920">Reid Barton (Feb 14 2019 at 05:58)</a>:</h4>
<p>On the other hand the usual definitions become not very pretty due to unbundled objects</p>

<a name="158504964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158504964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158504964">Reid Barton (Feb 14 2019 at 06:00)</a>:</h4>
<p>maybe I should give in and use category theory</p>

<a name="158505007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158505007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158505007">Johan Commelin (Feb 14 2019 at 06:00)</a>:</h4>
<p>I guess if it was called <code>formal_lin_comb</code> and didn't require <code>\b</code> to be a subset of a module, then it would be better.</p>

<a name="158505031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158505031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158505031">Johan Commelin (Feb 14 2019 at 06:01)</a>:</h4>
<p>Or at least the docstring could say that we are talking of formal linear combinations</p>

<a name="158505512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158505512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158505512">Mario Carneiro (Feb 14 2019 at 06:12)</a>:</h4>
<p>I am confused by this conversation. How can <code>lc A B</code> be a module if <code>B</code> isn't a module?</p>

<a name="158505777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158505777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158505777">Mario Carneiro (Feb 14 2019 at 06:18)</a>:</h4>
<p>Oh, I see, the B and A get flipped in the definition</p>

<a name="158505825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158505825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158505825">Mario Carneiro (Feb 14 2019 at 06:19)</a>:</h4>
<p>In <code>finsupp</code>, we have</p>
<div class="codehilite"><pre><span></span><span class="n">def</span> <span class="n">to_module</span> <span class="o">{</span><span class="n">R</span><span class="o">:</span><span class="n">ring</span> <span class="n">γ</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_group</span> <span class="n">β</span><span class="o">]</span> <span class="o">[</span><span class="n">module</span> <span class="n">γ</span> <span class="n">β</span><span class="o">]</span> <span class="o">:</span> <span class="n">module</span> <span class="n">γ</span> <span class="o">(</span><span class="n">α</span> <span class="bp">→</span><span class="err">₀</span> <span class="n">β</span><span class="o">)</span>
</pre></div>


<p>I think this can be an instance now, and that can replace/generalize much of <code>lc</code></p>

<a name="158510322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510322">Kevin Buzzard (Feb 14 2019 at 07:56)</a>:</h4>
<p>That definition of projective is no weirder than Neil's definition of a localisation or mathlib's definition of a compact topological space</p>

<a name="158510346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510346" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510346">Kevin Buzzard (Feb 14 2019 at 07:57)</a>:</h4>
<p>Who cares about weird definitions, use the definition that works best and write a useful interface relating it to other definitions people use in practice</p>

<a name="158510431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510431">Kevin Buzzard (Feb 14 2019 at 07:59)</a>:</h4>
<p>I remember the first time I tried to use continuous functions, about a year ago, to prove something like multiplication by an element of a topological group was continuous. I thought "I can prove this from first principles" and started unfolding everything. Then Kenny saw what I was doing and said "you're not supposed to do it like that" and it began to dawn on me how this whole thing is supposed to work</p>

<a name="158510625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510625">Kevin Buzzard (Feb 14 2019 at 08:02)</a>:</h4>
<p>We shouldn't ever really care about which definition we're using, we just need good docs which point us to all the theorems saying that the internal definition is equivalent to whichever definition we find is most convenient for us at the time. I don't even have a definition of projective in my head. I have 3 definitions and would claim that something is true "by definition" when I mean "by the definition which is most convenient for me at this point"</p>

<a name="158510722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510722">Kevin Buzzard (Feb 14 2019 at 08:03)</a>:</h4>
<p>I have a proposition-definition of projective. "The following three concepts are equivalent -- so let's say a module is projective if it satisfies any one of them"</p>

<a name="158510777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510777">Kevin Buzzard (Feb 14 2019 at 08:04)</a>:</h4>
<p>I'm happy to add Reid's more exotic one to the list</p>

<a name="158510778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510778">Mario Carneiro (Feb 14 2019 at 08:04)</a>:</h4>
<p>In <a href="https://en.wikipedia.org/wiki/Projective_module" target="_blank" title="https://en.wikipedia.org/wiki/Projective_module">https://en.wikipedia.org/wiki/Projective_module</a> it seems like all the definitions involve quantifying over all modules</p>

<a name="158510804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510804">Mario Carneiro (Feb 14 2019 at 08:05)</a>:</h4>
<p>you didn't list any of wikipedia's definitions, but I like yours better</p>

<a name="158510807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510807">Kevin Buzzard (Feb 14 2019 at 08:05)</a>:</h4>
<p>I was told "direct summand of a free" was the definition once</p>

<a name="158510821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510821">Kevin Buzzard (Feb 14 2019 at 08:05)</a>:</h4>
<p>I was told "locally free" was the definition once</p>

<a name="158510865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510865">Kevin Buzzard (Feb 14 2019 at 08:06)</a>:</h4>
<p>Ie all localisations were free modules</p>

<a name="158510876"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510876" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510876">Kevin Buzzard (Feb 14 2019 at 08:06)</a>:</h4>
<p>Neither of these involve quantifying over all modules</p>

<a name="158510891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510891">Mario Carneiro (Feb 14 2019 at 08:07)</a>:</h4>
<p>direct summand of free quantifies over all modules</p>

<a name="158510894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510894">Mario Carneiro (Feb 14 2019 at 08:07)</a>:</h4>
<p>dunno what locally free means</p>

<a name="158510902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510902">Kevin Buzzard (Feb 14 2019 at 08:07)</a>:</h4>
<p>It means that for all prime ideals P of R, M tensor R_P is free</p>

<a name="158510905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510905">Johan Commelin (Feb 14 2019 at 08:07)</a>:</h4>
<p>Just like you can localise rings, you can also localise modules (and you get a module over the localised ring)</p>

<a name="158510950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510950">Mario Carneiro (Feb 14 2019 at 08:08)</a>:</h4>
<p>I guess with localizations it's a large quantification if you use Neil's localization and small if you use Kenny's localization</p>

<a name="158510957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510957" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510957">Kevin Buzzard (Feb 14 2019 at 08:08)</a>:</h4>
<p>In ZFC we only use one universe</p>

<a name="158510961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510961" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510961">Mario Carneiro (Feb 14 2019 at 08:08)</a>:</h4>
<p>yeah, then it's an impredicative definition</p>

<a name="158510962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510962" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510962">Kevin Buzzard (Feb 14 2019 at 08:08)</a>:</h4>
<p>And so one definition of localisation I have been using for decades is</p>

<a name="158510978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510978">Mario Carneiro (Feb 14 2019 at 08:09)</a>:</h4>
<p>not that it's usually a big problem, but sometimes it complicates size arguments</p>

<a name="158510980"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510980" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510980">Kevin Buzzard (Feb 14 2019 at 08:09)</a>:</h4>
<p>That all surjections in M's universe split</p>

<a name="158510984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158510984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158510984">Kevin Buzzard (Feb 14 2019 at 08:09)</a>:</h4>
<p>Hmm</p>

<a name="158511025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511025">Kevin Buzzard (Feb 14 2019 at 08:10)</a>:</h4>
<p>Or is that R's universe?</p>

<a name="158511035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511035">Mario Carneiro (Feb 14 2019 at 08:10)</a>:</h4>
<p>the surjections aren't in a universe, they are bounded by the given modules</p>

<a name="158511045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511045" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511045">Mario Carneiro (Feb 14 2019 at 08:11)</a>:</h4>
<p>but I guess the N and M in the commutative triangle live in some universe</p>

<a name="158511049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511049">Kevin Buzzard (Feb 14 2019 at 08:11)</a>:</h4>
<p>I was going to say that by some general nonsense one can deduce that if all surjections in a sensible universe split then all surjections spilt</p>

<a name="158511054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511054">Mario Carneiro (Feb 14 2019 at 08:11)</a>:</h4>
<p>yes, that should be the case, but you want to start from a small definition to prove that</p>

<a name="158511055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511055" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511055">Kevin Buzzard (Feb 14 2019 at 08:11)</a>:</h4>
<p>But I'm suddenly not sure what the sensible universe is</p>

<a name="158511099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511099">Mario Carneiro (Feb 14 2019 at 08:12)</a>:</h4>
<p>I think it's the universe of P, the projective module itself</p>

<a name="158511101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511101">Kevin Buzzard (Feb 14 2019 at 08:12)</a>:</h4>
<p>Because in this silly place R and M can be in different universes</p>

<a name="158511119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511119">Mario Carneiro (Feb 14 2019 at 08:12)</a>:</h4>
<p>I'm not sure what happens if a large ring acts on a small module</p>

<a name="158511129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511129" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511129">Kevin Buzzard (Feb 14 2019 at 08:13)</a>:</h4>
<p>It can happen</p>

<a name="158511133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511133" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511133">Kevin Buzzard (Feb 14 2019 at 08:13)</a>:</h4>
<p>R + S is a ring</p>

<a name="158511140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511140" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511140">Kevin Buzzard (Feb 14 2019 at 08:13)</a>:</h4>
<p>Making S a projective R module</p>

<a name="158511146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511146">Kevin Buzzard (Feb 14 2019 at 08:13)</a>:</h4>
<p>So take R and S rings in different universes</p>

<a name="158511194"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511194" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511194">Kevin Buzzard (Feb 14 2019 at 08:14)</a>:</h4>
<p>S is projective because it's clearly locally free :-)</p>

<a name="158511198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511198">Mario Carneiro (Feb 14 2019 at 08:14)</a>:</h4>
<p>clearly</p>

<a name="158511205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511205" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511205">Kevin Buzzard (Feb 14 2019 at 08:14)</a>:</h4>
<p>It's free rank 1 over Spec (S) and free rank 0 over Spec(R)</p>

<a name="158511214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511214">Mario Carneiro (Feb 14 2019 at 08:15)</a>:</h4>
<p>I wonder if the function <code>f</code> in Reid's definition should be data</p>

<a name="158511219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511219">Kevin Buzzard (Feb 14 2019 at 08:15)</a>:</h4>
<p>I'm not qualified to answer that</p>

<a name="158511220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511220">Mario Carneiro (Feb 14 2019 at 08:15)</a>:</h4>
<p>The commutative diagram suggests non-uniqueness, so maybe not</p>

<a name="158511225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511225">Mario Carneiro (Feb 14 2019 at 08:15)</a>:</h4>
<p>is it "canonical"?</p>

<a name="158511229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511229">Kevin Buzzard (Feb 14 2019 at 08:15)</a>:</h4>
<p>No</p>

<a name="158511275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511275">Kevin Buzzard (Feb 14 2019 at 08:16)</a>:</h4>
<p>I'm glad to see you're learning the lingo</p>

<a name="158511294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511294">Mario Carneiro (Feb 14 2019 at 08:17)</a>:</h4>
<p>huh, I just noticed that all 5 of the wikipedia definitions involve some existence statement</p>

<a name="158511349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511349">Mario Carneiro (Feb 14 2019 at 08:18)</a>:</h4>
<p>oh, I get it, Reid's definition is the "dual basis" one</p>

<a name="158511369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511369" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511369">Kevin Buzzard (Feb 14 2019 at 08:18)</a>:</h4>
<p>All surjections split is one definition of a projective module</p>

<a name="158511385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511385" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511385">Kevin Buzzard (Feb 14 2019 at 08:19)</a>:</h4>
<p>Reid is using the universal surjection</p>

<a name="158511389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511389">Kevin Buzzard (Feb 14 2019 at 08:19)</a>:</h4>
<p>If that splits, they all do</p>

<a name="158511477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511477">Kevin Buzzard (Feb 14 2019 at 08:21)</a>:</h4>
<p>I say this without any clear understanding of the details, which I'm currently trying to work out :-)</p>

<a name="158511554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511554">Mario Carneiro (Feb 14 2019 at 08:22)</a>:</h4>
<p>My understanding is that <code>lc</code> is dumb and ever since the multiple-rings-on-a-module thing the previous definition of modules over <code>finsupp</code> is typeclassable, and can replace <code>lc</code> as the theory of free modules</p>

<a name="158511581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511581">Mario Carneiro (Feb 14 2019 at 08:23)</a>:</h4>
<p>and we want <code>projective</code>, and to prove that free modules are projective</p>

<a name="158511644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511644">Kevin Buzzard (Feb 14 2019 at 08:24)</a>:</h4>
<p>I can't work out the details :-/</p>

<a name="158511680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511680">Kevin Buzzard (Feb 14 2019 at 08:25)</a>:</h4>
<p>My posts just above starting at "all surjections split" sound appealing but I can't make them rigorous</p>

<a name="158511758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511758">Kevin Buzzard (Feb 14 2019 at 08:27)</a>:</h4>
<p>I'm finally at a computer. Reid's definition is related to "A module P is projective if and only if there is another module Q such that the direct sum of P and Q is a free module. "</p>

<a name="158511814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511814">Kevin Buzzard (Feb 14 2019 at 08:28)</a>:</h4>
<p>If F is a module with a surjection F -&gt; M, then this R-module map has a one-sided inverse if and only if "F is isomorphic to M plus kernel of the surjection"</p>

<a name="158511840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511840">Kevin Buzzard (Feb 14 2019 at 08:29)</a>:</h4>
<p>This is not quite rigorous -- one should say the isomorphism between F and the direct sum identifies the surjection F -&gt; M with the projection</p>

<a name="158511851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511851" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511851">Kevin Buzzard (Feb 14 2019 at 08:29)</a>:</h4>
<p>Reid's definition is that M is projective iff a certain surjection from a certain explicit free module splits</p>

<a name="158511906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511906">Kevin Buzzard (Feb 14 2019 at 08:30)</a>:</h4>
<p>so it's equivalent to saying that M is a direct summand of that very explicit free module</p>

<a name="158511940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511940">Kevin Buzzard (Feb 14 2019 at 08:31)</a>:</h4>
<p>I guess that's a key thing that should be flagged for people who might not know this stuff back to front -- if M and N are modules and we have a surjection M -&gt; N, then this surjection splitting is equivalent to M being isomorphic to N + kernel and the surjection being the projection</p>

<a name="158511945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511945">Johan Commelin (Feb 14 2019 at 08:31)</a>:</h4>
<p>May we please have short exact sequences in Lean?</p>

<a name="158511949"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511949" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511949">Johan Commelin (Feb 14 2019 at 08:31)</a>:</h4>
<p>Once we have a good encoding for them, we can prove lots of interesting stuff.</p>

<a name="158511953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511953">Kevin Buzzard (Feb 14 2019 at 08:31)</a>:</h4>
<p>Random surjections are harder than this, e.g. Z/4Z surjects onto Z/2Z but (a) this doesn't split and (b) Z/4Z is not Z/2Z + anything</p>

<a name="158511998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158511998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158511998">Kevin Buzzard (Feb 14 2019 at 08:32)</a>:</h4>
<p>(a) and (b) are equivalent statements</p>

<a name="158512005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512005" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512005">Johan Commelin (Feb 14 2019 at 08:32)</a>:</h4>
<p>It's one of the things where I really don't know how to encode them in a nice way so that they are still intuitive to use. The mathematical notation is very compact.</p>

<a name="158512037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512037">Kevin Buzzard (Feb 14 2019 at 08:33)</a>:</h4>
<p>A <em>short</em> exact sequence is surely just a predicate on three modules and two maps</p>

<a name="158512039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512039" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512039">Johan Commelin (Feb 14 2019 at 08:33)</a>:</h4>
<p>I fear we will end up with <code>short_exact f g</code>. Which is really ugly.</p>

<a name="158512051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512051">Kevin Buzzard (Feb 14 2019 at 08:33)</a>:</h4>
<p>Why is that ugly?</p>

<a name="158512059"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512059" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512059">Kevin Buzzard (Feb 14 2019 at 08:33)</a>:</h4>
<p>I agree that it's one approach</p>

<a name="158512065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512065">Mario Carneiro (Feb 14 2019 at 08:33)</a>:</h4>
<p>I think drawing a picture every time is tiresome</p>

<a name="158512074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512074" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512074">Kevin Buzzard (Feb 14 2019 at 08:33)</a>:</h4>
<p>OTOH a morphism of short exact sequences is maps on the modules</p>

<a name="158512080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512080">Kevin Buzzard (Feb 14 2019 at 08:34)</a>:</h4>
<p>and I'm finding it hard to see the modules in Johan's proposal</p>

<a name="158512117"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512117" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512117">Johan Commelin (Feb 14 2019 at 08:34)</a>:</h4>
<p>"Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>⟶</mo><mi>A</mi><mstyle><msup><mo><mo>⟶</mo></mo><mi>f</mi></msup></mstyle><mi>B</mi><mstyle><msup><mo><mo>⟶</mo></mo><mi>g</mi></msup></mstyle><mi>C</mi><mo>⟶</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0 \longrightarrow A \stackrel{f}{\longrightarrow} B \stackrel{g}{\longrightarrow} C \longrightarrow 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.3442159999999999em;"></span><span class="strut bottom" style="height:1.3552159999999998em;vertical-align:-0.011em;"></span><span class="base"><span class="mord mathrm">0</span><span class="mrel">⟶</span><span class="mord mathit">A</span><span class="mrel"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3442159999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">⟶</span></span></span><span style="top:-3.758108em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"></span></span></span></span></span><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mrel"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1595em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">⟶</span></span></span><span style="top:-3.758108em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"></span></span></span></span></span><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mrel">⟶</span><span class="mord mathrm">0</span></span></span></span> be a short exact sequence" is much nicer to read.</p>

<a name="158512124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512124">Mario Carneiro (Feb 14 2019 at 08:34)</a>:</h4>
<p>like I said, drawing a picture</p>

<a name="158512127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512127">Kevin Buzzard (Feb 14 2019 at 08:34)</a>:</h4>
<p>That's just the notation we should use :-)</p>

<a name="158512137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512137" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512137">Kevin Buzzard (Feb 14 2019 at 08:34)</a>:</h4>
<p>I think unicode notation is rubbish. We need LaTeX notation.</p>

<a name="158512153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512153">Kevin Buzzard (Feb 14 2019 at 08:35)</a>:</h4>
<p>I heard that <span class="user-mention" data-user-id="110031">@Patrick Massot</span> was working on this in between his 16 hours / week of teaching ;-)</p>

<a name="158512219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512219">Mario Carneiro (Feb 14 2019 at 08:36)</a>:</h4>
<div class="codehilite"><pre><span></span>notation `[0→ ` A ` →[` f `] ` B `→[` g `] ` C ` →0]` := short_exact f g
</pre></div>

<a name="158512329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512329" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512329">Johan Commelin (Feb 14 2019 at 08:38)</a>:</h4>
<p>Ok... too bad we can use that to introduce them...</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">([</span><span class="mi">0</span><span class="bp">→</span> <span class="n">A</span> <span class="bp">→</span><span class="o">[</span><span class="n">f</span><span class="o">]</span> <span class="n">B</span> <span class="bp">→</span><span class="o">[</span><span class="n">g</span><span class="o">]</span> <span class="n">C</span> <span class="bp">→</span><span class="mi">0</span><span class="o">]</span> <span class="o">:</span> <span class="n">short_exact_sequence</span> <span class="o">(</span><span class="n">Mod</span> <span class="n">R</span><span class="o">))</span>
</pre></div>

<a name="158512334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512334">Mario Carneiro (Feb 14 2019 at 08:38)</a>:</h4>
<p>oh wait, this isn't even enough, I have to annotate that this is about linear maps somewhere</p>

<a name="158512367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512367">Johan Commelin (Feb 14 2019 at 08:39)</a>:</h4>
<blockquote>
<p>oh wait, this isn't even enough, I have to annotate that this is about linear maps somewhere</p>
</blockquote>
<p>That's hidden in <code>short_exact</code> I guess.</p>

<a name="158512382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512382">Mario Carneiro (Feb 14 2019 at 08:39)</a>:</h4>
<p>yes but if you want the same notation for group homs then it will be overloaded</p>

<a name="158512422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512422">Johan Commelin (Feb 14 2019 at 08:40)</a>:</h4>
<p>I guess I want it for objects of an additive category?</p>

<a name="158512445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512445">Mario Carneiro (Feb 14 2019 at 08:40)</a>:</h4>
<p>how about no</p>

<a name="158512461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512461" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512461">Mario Carneiro (Feb 14 2019 at 08:40)</a>:</h4>
<p>this is a ridiculous notation</p>

<a name="158512475"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512475" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512475">Kevin Buzzard (Feb 14 2019 at 08:41)</a>:</h4>
<p>Will that notation work? We want A to be the domain of f.</p>

<a name="158512478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512478" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512478">Mario Carneiro (Feb 14 2019 at 08:41)</a>:</h4>
<p>the variables notation won't work</p>

<a name="158512501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512501">Mario Carneiro (Feb 14 2019 at 08:41)</a>:</h4>
<p>for the rest of it, sure, if you stick a <code>_l</code> at the end or something</p>

<a name="158512509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512509" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512509">Kevin Buzzard (Feb 14 2019 at 08:41)</a>:</h4>
<p>It's not a ridiculous notation, it's just an example of how mathematicians think -- in a non-CS-y way.</p>

<a name="158512511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512511" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512511">Mario Carneiro (Feb 14 2019 at 08:41)</a>:</h4>
<p>or use local notations... actually please use local notations for this</p>

<a name="158512564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512564" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512564">Kevin Buzzard (Feb 14 2019 at 08:42)</a>:</h4>
<p>Mathematicians reason by drawing diagrams sometimes.</p>

<a name="158512573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512573" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512573">Kevin Buzzard (Feb 14 2019 at 08:42)</a>:</h4>
<p>This is hard to do in Lean.</p>

<a name="158512576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512576" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512576">Mario Carneiro (Feb 14 2019 at 08:42)</a>:</h4>
<p>You can't introduce five variables in a diagram in lean</p>

<a name="158512592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512592">Kevin Buzzard (Feb 14 2019 at 08:42)</a>:</h4>
<p>So it's interesting, because there must be some underlying thing we're doing which is completely rigorous</p>

<a name="158512597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512597">Kevin Buzzard (Feb 14 2019 at 08:42)</a>:</h4>
<p>and hence explicable to Lean</p>

<a name="158512606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512606">Mario Carneiro (Feb 14 2019 at 08:43)</a>:</h4>
<p>Yes, it's equivalent to a whole stack of variables definitions</p>

<a name="158512609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512609">Kevin Buzzard (Feb 14 2019 at 08:43)</a>:</h4>
<p>but if you were to ask any mathematician to state the snake lemma</p>

<a name="158512614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512614">Kevin Buzzard (Feb 14 2019 at 08:43)</a>:</h4>
<p>they would just draw a picture</p>

<a name="158512620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512620" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512620">Johan Commelin (Feb 14 2019 at 08:43)</a>:</h4>
<p>We'll end up writing</p>
<div class="codehilite"><pre><span></span><span class="bp">λ</span> <span class="bp">⟨</span><span class="n">A</span><span class="o">,</span> <span class="n">f</span><span class="o">,</span> <span class="n">B</span><span class="o">,</span> <span class="n">g</span><span class="o">,</span> <span class="n">C</span><span class="o">,</span> <span class="n">h_short_exact</span><span class="bp">⟩</span><span class="o">,</span> <span class="n">foobar</span>
</pre></div>


<p>only to realise that this gives problems later on, because of <code>_match</code>-issues.</p>

<a name="158512625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512625">Mario Carneiro (Feb 14 2019 at 08:43)</a>:</h4>
<p>if we had a bit more lean support (aka a fork) we could make a tactic that introduces a bunch of variables</p>

<a name="158512677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512677">Kevin Buzzard (Feb 14 2019 at 08:44)</a>:</h4>
<p>I figured out the "universal surjection" claim above. Reid's surjection is not universal in the usual sense, because there is more than one choice.</p>

<a name="158512697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512697" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512697">Mario Carneiro (Feb 14 2019 at 08:44)</a>:</h4>
<p>choice of sense?</p>

<a name="158512709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512709">Kevin Buzzard (Feb 14 2019 at 08:45)</a>:</h4>
<p>Reid wrote down an explicit free module F (free with basis the elements of M)</p>

<a name="158512719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512719">Kevin Buzzard (Feb 14 2019 at 08:45)</a>:</h4>
<p>and said that projective was equivalent to F -&gt; M splitting</p>

<a name="158512729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512729">Kevin Buzzard (Feb 14 2019 at 08:45)</a>:</h4>
<p>The reason for this is that now if N is a random R-module and we have a surjection N -&gt; M</p>

<a name="158512742"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512742" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512742">Kevin Buzzard (Feb 14 2019 at 08:45)</a>:</h4>
<p>then because F is free, F -&gt; M lifts to F -&gt; N</p>

<a name="158512786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512786">Kevin Buzzard (Feb 14 2019 at 08:46)</a>:</h4>
<p>-- but not necessarily uniquely</p>

<a name="158512806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512806" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512806">Kevin Buzzard (Feb 14 2019 at 08:46)</a>:</h4>
<p>and I can now split N -&gt; M by going from M to F and then down to N</p>

<a name="158512836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512836" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512836">Mario Carneiro (Feb 14 2019 at 08:47)</a>:</h4>
<p>in wiki you want to split a surjection in a different module though</p>

<a name="158512842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512842" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512842">Kevin Buzzard (Feb 14 2019 at 08:47)</a>:</h4>
<p>oh did I screw up?</p>

<a name="158512849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512849">Kevin Buzzard (Feb 14 2019 at 08:47)</a>:</h4>
<p>Oh, there are two different lifting definitions</p>

<a name="158512850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512850">Mario Carneiro (Feb 14 2019 at 08:47)</a>:</h4>
<p>like your projective module is P and you have a surjection N -&gt;&gt; M and a linear map P -&gt; M</p>

<a name="158512905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512905" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512905">Kevin Buzzard (Feb 14 2019 at 08:48)</a>:</h4>
<p>Yeah yeah, there's another one -- "P is projective iff all surjections to P split"</p>

<a name="158512914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512914">Kevin Buzzard (Feb 14 2019 at 08:48)</a>:</h4>
<p>That's what I'm trying to check, not the more general one. They're equivalent you know ;-)</p>

<a name="158512917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512917">Mario Carneiro (Feb 14 2019 at 08:48)</a>:</h4>
<p>okay, so you are halfway there</p>

<a name="158512921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512921">Kevin Buzzard (Feb 14 2019 at 08:48)</a>:</h4>
<p>I know this because they're both the definition of a projective module</p>

<a name="158512958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158512958" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158512958">Kevin Buzzard (Feb 14 2019 at 08:49)</a>:</h4>
<p>I'm proving that if P satisfies Reid's property then every short exact sequence 0 -&gt; M -&gt; N -&gt; P -&gt; 0 splits</p>

<a name="158513024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158513024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158513024">Kevin Buzzard (Feb 14 2019 at 08:50)</a>:</h4>
<p>and I'm doing it by writing down a morphism of short exact sequences</p>

<a name="158513479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/free%20module/near/158513479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/95273freemodule.html#158513479">Kevin Buzzard (Feb 14 2019 at 08:58)</a>:</h4>
<p>It's just like alg closure, I'm now a little uncomfortable with this argument even though I've known it for years. Start with P which is Reid-projective. Reid then conjures up a free module which is isomorphic to K + P. Now say N -&gt; P is a surjection. I said "Reid's module is universal, so..." but there is actually no uniqueness in this claim: the projection K + P -&gt; P now lifts (not necessarily uniquely) to a map K + P -&gt; N, because you simply choose a basis for K + P and lift each element randomly and then use universal property of free objects. We now have maps K + P -&gt; N -&gt; P with the composite being the projection, so if P -&gt; K + P is the inclusion then P -&gt; K + P -&gt; N -&gt; P is the identity, hence P -&gt; K + P -&gt; N splits N -&gt; P. Thinking that Reid's object was "universal" leads you to this argument, but the map K + P -&gt; N is not at all canonical.</p>


{% endraw %}
