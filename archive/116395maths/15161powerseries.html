---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/15161powerseries.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html">power series</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="156894024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156894024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156894024">Reid Barton (Jan 25 2019 at 23:26)</a>:</h4>
<p>Has anyone built formal power series yet?</p>

<a name="156894121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156894121" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156894121">Kenny Lau (Jan 25 2019 at 23:27)</a>:</h4>
<p>just take <span class="tex-error">$$\varprojlim_{n \in \Bbb N} A[X]/(X^n)$$</span> :P</p>

<a name="156915982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156915982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156915982">Kevin Buzzard (Jan 26 2019 at 08:38)</a>:</h4>
<p>This is an interesting question. I believe Patrick has done ring completions so that would be one approach. Alternatively one could just take the stuff on polynomial rings and just delete all the finite support hypotheses! In retrospect power series would have been easier to write than polynomials I guess?</p>

<a name="156916113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156916113" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156916113">Kevin Buzzard (Jan 26 2019 at 08:43)</a>:</h4>
<p>These seem like two genuinely different approaches. Which would be best?</p>

<a name="156916161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156916161" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156916161">Mario Carneiro (Jan 26 2019 at 08:44)</a>:</h4>
<p>yes, power series are easier than polynomials, although you still need some finiteness for the monomials so that multiplication is well defined</p>

<a name="156916229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156916229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156916229">Mario Carneiro (Jan 26 2019 at 08:46)</a>:</h4>
<p>That said, it's not clear to me which power series ring is the most useful - there are many ways to generalize bits of the polynomial construction, like Laurent series</p>

<a name="156917121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156917121" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156917121">Kevin Buzzard (Jan 26 2019 at 09:16)</a>:</h4>
<p>From an algebraic geometry point of view, the power series ring <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>[</mo><mo>[</mo><mi>X</mi><mo>]</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">R[[X]]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mopen">[</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span> is the most important missing thing, i.e. a ring structure on <code>nat -&gt; R</code>.</p>

<a name="156917139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156917139" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156917139">Kevin Buzzard (Jan 26 2019 at 09:17)</a>:</h4>
<p>If you import <code>algebra.pi_instances</code> I think you get a multiplication on these functions, which is pointwise multiplication on the target, but that's the wrong one.</p>

<a name="156917943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156917943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156917943">Patrick Massot (Jan 26 2019 at 09:42)</a>:</h4>
<p>This is clearly a case for type wrapping. Define <code>power_series R = nat -&gt; R</code> and define the correct instance</p>

<a name="156917993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156917993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156917993">Patrick Massot (Jan 26 2019 at 09:43)</a>:</h4>
<p>Unfold and apply_instance for addition</p>

<a name="156918007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156918007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156918007">Kevin Buzzard (Jan 26 2019 at 09:43)</a>:</h4>
<p>If I unfold <code>power_series R</code> will this then actually change what <code>apply_instance</code> finds for multiplication? i.e. can I get some code which changes behaviour if I insert an "unfold"?</p>

<a name="156918349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156918349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156918349">Mario Carneiro (Jan 26 2019 at 09:53)</a>:</h4>
<p>yes, well, the typeclass instance inferred can change</p>

<a name="156918390"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156918390" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156918390">Mario Carneiro (Jan 26 2019 at 09:54)</a>:</h4>
<p>if you just unfold you will still have the original instance, it will just be a nonstandard typeclass term at that point</p>

<a name="156922769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156922769" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156922769">Reid Barton (Jan 26 2019 at 12:00)</a>:</h4>
<p>So there are also some new phenomena which arise for power series, for example:</p>
<ul>
<li>If F(X) and G(X) are power series then we can make sense of F(G(X)) if the constant term of G is zero. I guess the proper generalization is that if F(X) in R[[X]], a in I and R is I-adically complete then we can evaluate F(a). Do we already have these latter notions (maybe in the perfectoid spaces project)?</li>
<li>If F(X) = u X + ... with u a unit in R then we can find an inverse power series G(X) = u^-1 X + ... Is this related to Hensel's lemma?</li>
</ul>

<a name="156924334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156924334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156924334">Kevin Buzzard (Jan 26 2019 at 12:49)</a>:</h4>
<p>The notion of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07847em;">I</span></span></span></span>-adically complete will be in the perfectoid space project, although I am not sure we have a good API for it. The "correct" way to do this would be to go through some book like Atiyah--Macdonald I guess, whereas we just needed the definition. This stuff will come as I start actually having to use the notion of completeness in lemmas (this is imminent but has not yet happened; I've spent the last two weeks writing references and dealing with other work admin, but my urgent work job list is now very small). Inverse power series -- this is not Hensel. It's the statement that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>[</mo><mo>[</mo><mi>X</mi><mo>]</mo><mo>]</mo><mo>=</mo><mi>R</mi><mo>[</mo><mo>[</mo><mi>F</mi><mo>]</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">R[[X]]=R[[F]]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mopen">[</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose">]</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mopen">[</span><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span> which is something else. Hensel (in its full generality -- we only have it for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="double-struck">Z</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\mathbb{Z}_p</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68889em;"></span><span class="strut bottom" style="height:0.974998em;vertical-align:-0.286108em;"></span><span class="base"><span class="mord"><span class="mord"><span class="mord mathbb">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"></span></span></span></span></span></span></span></span>) provides roots in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>[</mo><mo>[</mo><mi>X</mi><mo>]</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">R[[X]]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mopen">[</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span> of polynomials with coefficients in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mo>[</mo><mo>[</mo><mi>X</mi><mo>]</mo><mo>]</mo></mrow><annotation encoding="application/x-tex">R[[X]]</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mopen">[</span><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span> in favourable circumstances.</p>

<a name="156927185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156927185" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156927185">Kevin Buzzard (Jan 26 2019 at 14:18)</a>:</h4>
<p><a href="https://github.com/leanprover-community/perfectoid-spaces/tree/master/src/for_mathlib" target="_blank" title="https://github.com/leanprover-community/perfectoid-spaces/tree/master/src/for_mathlib">https://github.com/leanprover-community/perfectoid-spaces/tree/master/src/for_mathlib</a> is the topology on a ring generated by an ideal of the ring</p>

<a name="156935544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/156935544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#156935544">Patrick Massot (Jan 26 2019 at 18:16)</a>:</h4>
<p>We do have everything to define I-adically complete in the perfectoid project: the adic-topology and completeness for topological rings</p>

<a name="170726724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170726724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170726724">Johan Commelin (Jul 12 2019 at 14:36)</a>:</h4>
<p>Lean now knows that multivariate power series over a local ring form a local ring:<br>
<a href="https://github.com/leanprover-community/mathlib/blob/power-series/src/data/power_series.lean#L749-L750" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/power-series/src/data/power_series.lean#L749-L750">https://github.com/leanprover-community/mathlib/blob/power-series/src/data/power_series.lean#L749-L750</a></p>

<a name="170727028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170727028" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170727028">Kenny Lau (Jul 12 2019 at 14:40)</a>:</h4>
<p>take a shot every time <code>local</code> appears in the proof</p>

<a name="170799090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799090">Yury G. Kudryashov (Jul 13 2019 at 17:49)</a>:</h4>
<p>It's good I saw this before trying to implement power series myself. Do you plan to redefine <code>exp</code>/<code>sin</code>/... in any complete normed algebra?</p>

<a name="170799214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799214" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799214">Johan Commelin (Jul 13 2019 at 17:53)</a>:</h4>
<p>Hmm... I've only done formal power series. Next on my list is formal Laurent series.</p>

<a name="170799217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799217">Johan Commelin (Jul 13 2019 at 17:53)</a>:</h4>
<p>I've not made any connections to topology/analysis.</p>

<a name="170799713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799713">Yury G. Kudryashov (Jul 13 2019 at 18:08)</a>:</h4>
<p>Could you please poke me once formal power series will be merged into <code>master</code> branch? I'll start working on connections to topology/analysis.</p>

<a name="170799776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799776" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799776">Johan Commelin (Jul 13 2019 at 18:10)</a>:</h4>
<p>Sure, I might PR the basics within the next few days</p>

<a name="170799800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799800" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799800">Johan Commelin (Jul 13 2019 at 18:11)</a>:</h4>
<p>I was planning on adding <code>has_inv</code> for formal power series over a field, and then I think there is a nice basis that should be ready for PR.</p>

<a name="170799843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799843" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799843">Johan Commelin (Jul 13 2019 at 18:12)</a>:</h4>
<p>General question: should I call this data structure <code>mv_power_series</code> or <code>mv_formal_power_series</code>?</p>

<a name="170799928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170799928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170799928">Chris Hughes (Jul 13 2019 at 18:15)</a>:</h4>
<blockquote>
<p>Hmm... I've only done formal power series. Next on my list is formal Laurent series.</p>
</blockquote>
<p>How do you do that? I skim read a paper about that and there are multiple ways over several variables.</p>

<a name="170800048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170800048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170800048">Johan Commelin (Jul 13 2019 at 18:18)</a>:</h4>
<p>I will PR formal power series first. Not sure if I'll do formal Laurent series with multiple variables... In practice I very rarely see the multivariate case. Of course I will be angry with myself if I only do the single variable case...<br>
But like you said, there are several approaches, and it's not clear to me which one I should/want to take.</p>

<a name="170800689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/170800689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#170800689">Yury G. Kudryashov (Jul 13 2019 at 18:40)</a>:</h4>
<p>I think, <code>mv_power_series</code> is OK, because we can add topological properties to the same type.</p>

<a name="171312575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/171312575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#171312575">Johan Commelin (Jul 20 2019 at 05:26)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> <a href="https://github.com/leanprover-community/mathlib/issues/1244" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1244">#1244</a></p>

<a name="171320917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/power%20series/near/171320917" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/15161powerseries.html#171320917">Kevin Buzzard (Jul 20 2019 at 09:56)</a>:</h4>
<p>Well done Johan!</p>


{% endraw %}

{% include archive_update.html %}