---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/79205whatsthelogicwithtoadditive.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html">what's the logic with to_additive?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="160429607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160429607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160429607">Kevin Buzzard (Mar 10 2019 at 19:51)</a>:</h4>
<p>I need to understand <code>to_additive</code> better because I am making PR's to mathlib which should probably involve them, and I don't want to waste other people's time.</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L56" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L56">https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L56</a></p>
<p>In the above link, <code>multiples.is_add_submonoid</code> is written by a human, but <code>powers.is_add_submonoid</code> gets the attribute.</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L123" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L123">https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L123</a></p>
<p>In the above link, <code>is_add_submonoid.coe_add</code> seems to me to be auto-generated by the attribute.</p>
<p><a href="https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L192" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L192">https://github.com/leanprover-community/mathlib/blob/51c31cea3e506ce8a565a828ee71dc265cc0c8e0/src/group_theory/submonoid.lean#L192</a></p>
<p>In the above link, <code>add_monoid.closure_subset</code> is written by a human and <code>monoid.closure_subset</code> does not seem to get the attribute.</p>
<p>What is the logic here?</p>

<a name="160482088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160482088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160482088">Chris Hughes (Mar 11 2019 at 14:17)</a>:</h4>
<p>The logic I think is that sometimes autogeneration of lemmas doesn't work, and in those cases the theorems have to be proved by hand. If they don't get the attribute, they probably should have.</p>

<a name="160482492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160482492" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160482492">Kevin Buzzard (Mar 11 2019 at 14:22)</a>:</h4>
<p>So the attribute is for more than autogenerating the theorems?</p>

<a name="160482549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160482549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160482549">Kevin Buzzard (Mar 11 2019 at 14:22)</a>:</h4>
<p>Even if they're generated manually they're supposed to have the attribute -- oh -- this is because later autogenerated results might need them?</p>

<a name="160482563"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160482563" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160482563">Chris Hughes (Mar 11 2019 at 14:23)</a>:</h4>
<p>I think so.</p>

<a name="160482940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160482940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160482940">Johan Commelin (Mar 11 2019 at 14:27)</a>:</h4>
<p>I'm just going to quickly log here that there's more stuff where the attribute is missing: <a href="https://github.com/leanprover-community/mathlib/blob/master/src/group_theory/subgroup.lean#L489-L511" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/src/group_theory/subgroup.lean#L489-L511">https://github.com/leanprover-community/mathlib/blob/master/src/group_theory/subgroup.lean#L489-L511</a></p>

<a name="160483000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160483000" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160483000">Johan Commelin (Mar 11 2019 at 14:28)</a>:</h4>
<p>Currently I don't have time to turn this into a PR</p>

<a name="160483720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/what%27s%20the%20logic%20with%20to_additive%3F/near/160483720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/79205whatsthelogicwithtoadditive.html#160483720">Kevin Buzzard (Mar 11 2019 at 14:35)</a>:</h4>
<p>Just after the part you quoted, there is what looks like an incorrect definition of a simple group. We don't want the trivial group to be simple (for the same reason we don't want 1 to be prime)</p>


{% endraw %}
