---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113489newmembers/10331ProvingCayleysTheorem.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html">Proving Cayley's Theorem</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="164180866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164180866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164180866">Greg Conneen (Apr 25 2019 at 15:31)</a>:</h4>
<p>Okay, so as was suggested to me the other day, I think it would be a good idea to prove Cayley's theorem in Lean. I think it would give me a good understanding of how certain mathematical structures are implemented in Lean, and would give me a chance to get some feedback on my code. Below is essentially my outline of a TODO.</p>
<p>Preliminaries: the first thing I need to do is talk about an arbitrary group G, with an operation <code>x</code>. Then I want the set of elements of G, S, defined. Third, I want to define the set F of bijective functions f: S -&gt; S, that is, the set of permutations of S. I assume it would be easiest to first construct this just at injective mappings, and then it should be easy to prove that they are also surjective. Then, I want a construction of function composition within F. The final thing I want to show in my preliminaries is that (F, *) is a group with respect to composition. I assume this might take some bit of doing, since I'll have to show there is an inverse map, and it is in F. This seems like the hardest bit out of the preliminaries, unless there is already something in function.lean that shows a bijective map has an inverse. I will research this.</p>
<p>Now, the proof of the theorem: This much should be the easy part. all I have to do is define the map in F called f_g(x) = g*x, and show that the set of <code>f_g for all g in G</code> is a subgroup of F. That should be simple once I've gotten through the preliminaries.</p>
<p>Please let me know if this looks about right for what I'll end up implementing in Lean. Any tips on how to get started with the preliminaries, or any hints/tips about subtleties in Lean I might be missing would be much appreciated.</p>

<a name="164184047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164184047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164184047">Greg Conneen (Apr 25 2019 at 16:04)</a>:</h4>
<p>I have just discovered that the way permutations are defined includes an inverse</p>

<a name="164187846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164187846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164187846">Patrick Massot (Apr 25 2019 at 16:48)</a>:</h4>
<p>I'm a bit confused by your list. You saw <code>perm S</code>, right?  There is also <a href="https://github.com/leanprover-community/mathlib/blob/master/src/group_theory/group_action.lean" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/src/group_theory/group_action.lean">https://github.com/leanprover-community/mathlib/blob/master/src/group_theory/group_action.lean</a></p>

<a name="164187902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164187902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164187902">Greg Conneen (Apr 25 2019 at 16:49)</a>:</h4>
<p>yes, I saw perm S. This sort of trivialises some of my workload</p>

<a name="164188024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164188024" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164188024">Greg Conneen (Apr 25 2019 at 16:50)</a>:</h4>
<p>I did not see group_action.lean. I will study this file more and come back to this problem.</p>

<a name="164188153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164188153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164188153">Patrick Massot (Apr 25 2019 at 16:52)</a>:</h4>
<p>I'm very much aware of how bad is our documentation, but we still have lists of files visible on GitHub and on your hard drive. That file is not so well hidden in a folder named <code>group_theory</code>...</p>

<a name="164188856"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164188856" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164188856">Greg Conneen (Apr 25 2019 at 17:00)</a>:</h4>
<p>I understand. I've gotten used to hunting around mathlib for interesting and useful files, I just simply didn't think to look for such a file</p>

<a name="164210477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164210477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164210477">Kevin Buzzard (Apr 25 2019 at 21:15)</a>:</h4>
<p>Mathlib is a maze and it's extremely difficult to navigate it alone. I attempted to document some of what was there when I was just starting out, and I wrote some kind-of useless files, which perhaps helped nobody, but the attempt to write them at least made me look at every single Lean file in mathlib at least once. Of course back then mathlib was 1/3rd the size!</p>

<a name="164210618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164210618" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164210618">Johan Commelin (Apr 25 2019 at 21:17)</a>:</h4>
<p>I'm wondering, is the proof of Cayley's theorem just <code>funext</code> and <code>mul_assoc</code>?</p>

<a name="164210660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164210660" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164210660">Johan Commelin (Apr 25 2019 at 21:17)</a>:</h4>
<p>Ooh, we might need one more <code>ext</code> at the start.</p>

<a name="164210762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164210762" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164210762">Mario Carneiro (Apr 25 2019 at 21:19)</a>:</h4>
<p>It's pretty crazy that since I gave my talk on the status of mathlib last year, mathlib has roughly doubled in size, and the number of contributors has gone up tenfold</p>

<a name="164210900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164210900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164210900">Johan Commelin (Apr 25 2019 at 21:20)</a>:</h4>
<p>Hmm... maybe you should give another talk. Let's see what happens?</p>

<a name="164210951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164210951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164210951">Kevin Buzzard (Apr 25 2019 at 21:21)</a>:</h4>
<p><span class="user-mention" data-user-id="218940">@Greg Conneen</span> There are two kinds of bijections in Lean; there are functions f : X -&gt; Y equipped with an inverse function g : Y -&gt; X and proofs that fg and gf are identity; those pieces of data are terms of type <code>equiv X Y</code>. There are also functions f : X -&gt; Y plus a proof that these functions are injective and surjective. In constructive mathematics or computable mathematics or whatever weird kind of mathematics some computer scientists do, these two concepts are <em>not the same</em>. The problem is that the statement that f is bijective only gives you a <em>theorem</em> that for all y in Y there exists a unique x in X such that f(x)=y. To define the inverse function g you need an algorithm which spits this x out, i.e. "gets data from a proposition", and this is problematic. Even if f is computable, its inverse might not be -- given the algorithm which computes f, how do you get an algorithm which computes its inverse (especially if X is uncountable?). <code>equiv</code> is the "stronger" notion -- one can prove that equivs are bijective. To get a bijective map from an equiv you will have to struggle a bit more and switch on some stuff which I always have switched on anyway so I can't remember what it is exactly. noncomputability? The axiom of choice? Something like that.</p>

<a name="164211040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164211040" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164211040">Kevin Buzzard (Apr 25 2019 at 21:22)</a>:</h4>
<p>For a general S, an injective function of course isn't bijective. Defining bijective functions in Lean is easy. You should prove that a composite of two injective functions is injective and the composite of two surjective functions is surjective, in tactic mode, as warm-up for this.</p>

<a name="164211051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164211051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164211051">Koundinya Vajjha (Apr 25 2019 at 21:23)</a>:</h4>
<blockquote>
<p>Mathlib is a maze and it's extremely difficult to navigate it alone. I attempted to document some of what was there when I was just starting out, and I wrote some kind-of useless files, which perhaps helped nobody, but the attempt to write them at least made me look at every single Lean file in mathlib at least once. Of course back then mathlib was 1/3rd the size!</p>
</blockquote>
<p>I myself was wondering about this. An ideal solution would be something like the archive of formal proofs for Lean, but all tied together with informal docstrings.</p>

<a name="164211334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164211334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164211334">Kevin Buzzard (Apr 25 2019 at 21:26)</a>:</h4>
<p>PS proving that an injective function from a finite set to itself is also surjective is not easy at all -- you are deluding yourself because you have an extremely accurate but unfortunately very geometric model of a finite set. Lean's definition of a finite set is equivalence classes of lists with no duplicate elements, so any proofs in the API will involve lifting to lists and then proving that things are constant on equivalence classes -- put it another way -- you have to order the set, prove or construct something with the ordered set (typically by induction on the size) and then prove that what you did was independent of the order. This can involve a very delicate induction, because the permutations of a finite set are generated by certain explicit permutations built into Lean. Everything about finite sets is much harder than you think. Fortunately the nice computer scientists wrote a gigantic API for finite sets so that mathematicians can use them the way they like to use them -- but don't be blinded by this -- finite sets are hard, and proving that an injective map is also surjective from first principles is hard.</p>

<a name="164220993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Proving%20Cayley%27s%20Theorem/near/164220993" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/10331ProvingCayleysTheorem.html#164220993">Greg Conneen (Apr 25 2019 at 23:59)</a>:</h4>
<p>Wow, okay. I was away all day and came back to a lot of really useful information. Thank you all so much, but now I have several questions</p>


{% endraw %}
