---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/144837PRreviews/19784822firstthreedigitsof.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html">#822 first three digits of π</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="162213984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162213984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162213984">Johan Commelin (Apr 01 2019 at 06:57)</a>:</h4>
<p>This didn't get merged in month <code>floor π</code>. Let's get it merged on April Fools Day!</p>

<a name="162214261"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214261" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214261">Mario Carneiro (Apr 01 2019 at 07:03)</a>:</h4>
<p>the github constraints are kind of annoying... you can't merge stuff without first updating the branch, even if there are no conflicts, and then it takes an hour before travis runs... I used my admin privileges to merge anyway this time</p>

<a name="162214327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214327" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214327">Johan Commelin (Apr 01 2019 at 07:04)</a>:</h4>
<p>That's not specific to this PR, right?</p>

<a name="162214331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214331" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214331">Mario Carneiro (Apr 01 2019 at 07:04)</a>:</h4>
<p>no</p>

<a name="162214351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214351">Johan Commelin (Apr 01 2019 at 07:05)</a>:</h4>
<p>And we don't want Travis to use even more caches, because there should be some place where we recompile from scratch</p>

<a name="162214356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214356">Mario Carneiro (Apr 01 2019 at 07:05)</a>:</h4>
<p>but if I have a few minutes to look at PRs usually I only have time to update the branch, then travis runs, and I get pulled away... and I come back and something else has merged in the meantime and we are back to square one</p>

<a name="162214400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214400">Johan Commelin (Apr 01 2019 at 07:06)</a>:</h4>
<p>Yep, I understand.</p>

<a name="162214408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214408" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214408">Johan Commelin (Apr 01 2019 at 07:06)</a>:</h4>
<p>Which means that we need to fix some workflow issues.</p>

<a name="162214425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214425">Mario Carneiro (Apr 01 2019 at 07:06)</a>:</h4>
<p>I think it should be okay to merge a branch that is not up to date if github can merge automatically</p>

<a name="162214439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214439">Mario Carneiro (Apr 01 2019 at 07:07)</a>:</h4>
<p>there is a small possibility of travis breakage</p>

<a name="162214443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214443" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214443">Johan Commelin (Apr 01 2019 at 07:07)</a>:</h4>
<p>Hmmm... green lights from Travis don't mean much if they are several weeks old</p>

<a name="162214450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162214450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162214450">Johan Commelin (Apr 01 2019 at 07:07)</a>:</h4>
<p>For example, you might need to bump up type class search depth. That has occurred a couple of times lately.</p>

<a name="162215404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162215404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162215404">Johan Commelin (Apr 01 2019 at 07:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Anyway, thanks for merging!</p>

<a name="162226090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162226090" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162226090">Johan Commelin (Apr 01 2019 at 10:31)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="110026">@Simon Hudon</span> <span class="user-mention" data-user-id="110087">@Scott Morrison</span> Is there something that we can do about this issue?</p>

<a name="162226123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162226123" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162226123">Johan Commelin (Apr 01 2019 at 10:31)</a>:</h4>
<p>Because it's not good if merging PRs becomes an annoying bureaucratic dance...</p>

<a name="162248432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162248432" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162248432">Simon Hudon (Apr 01 2019 at 15:18)</a>:</h4>
<p>I think the larger the PRs the worse it will be</p>

<a name="162250761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162250761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162250761">Johan Commelin (Apr 01 2019 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> Why's that? I got the impression from Mario that it will just be one hour of Travis-compiling before each merge...</p>

<a name="162251119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251119">Simon Hudon (Apr 01 2019 at 15:46)</a>:</h4>
<p>With smaller PRs, it's easier to take the risk and just merge even if it's not completely up to master</p>

<a name="162251339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251339" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251339">Johan Commelin (Apr 01 2019 at 15:49)</a>:</h4>
<p>Right...</p>

<a name="162251409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251409">Johan Commelin (Apr 01 2019 at 15:50)</a>:</h4>
<p>Could we let Travis use <code>cache-olean</code> somehow?</p>

<a name="162251425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251425">Simon Hudon (Apr 01 2019 at 15:50)</a>:</h4>
<p>It already does</p>

<a name="162251455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251455">Simon Hudon (Apr 01 2019 at 15:50)</a>:</h4>
<p>The other thing we can do is reduce inter-modular dependencies. That will bring re-build time down</p>

<a name="162251540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251540">Simon Hudon (Apr 01 2019 at 15:51)</a>:</h4>
<p>I haven't followed this whole saga. How much of a nightmare is it actually?</p>

<a name="162251731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251731">Johan Commelin (Apr 01 2019 at 15:53)</a>:</h4>
<p>So why is it taking <code>&gt; 1hr</code> to check?</p>

<a name="162251797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251797">Johan Commelin (Apr 01 2019 at 15:54)</a>:</h4>
<p>That just means we get very bad VMs</p>

<a name="162251798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251798" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251798">Johan Commelin (Apr 01 2019 at 15:54)</a>:</h4>
<p>Maybe we need to reconsider running our own CI.</p>

<a name="162251799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251799">Johan Commelin (Apr 01 2019 at 15:54)</a>:</h4>
<p>Because if this is creating a frustrating experience for maintainers, then we get a frustrating experience for contributors, and we end up with a frustrated community...</p>

<a name="162251823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251823" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251823">Johan Commelin (Apr 01 2019 at 15:54)</a>:</h4>
<p>Look at the PR queue to get an idea of the nightmare.</p>

<a name="162251984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162251984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162251984">Simon Hudon (Apr 01 2019 at 15:56)</a>:</h4>
<p>Is the number of PRs we receive increasing or are we getting worse at handling them?</p>

<a name="162252010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162252010" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162252010">Johan Commelin (Apr 01 2019 at 15:56)</a>:</h4>
<p>Maybe a bit of both</p>

<a name="162252096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23822%20first%20three%20digits%20of%20%CF%80/near/162252096" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/19784822firstthreedigitsof.html#162252096">Simon Hudon (Apr 01 2019 at 15:57)</a>:</h4>
<p>What makes you say that? The queue grows but if it's just because we get more requests, it's only an indicator of our popularity</p>


{% endraw %}
