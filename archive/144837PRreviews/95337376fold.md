---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/144837PRreviews/95337376fold.html
---

## Stream: [PR reviews](https://leanprover-community.github.io/archive/144837PRreviews/index.html)
### Topic: [#376 fold](https://leanprover-community.github.io/archive/144837PRreviews/95337376fold.html)

---

<base href="https://leanprover.zulipchat.com">
{% raw %}
#### [ Simon Hudon (Oct 07 2018 at 20:34)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135361568):
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> have you looked at the changes I've made to category theory? I'm splitting the functions and their laws into <code>has_hom</code> and <code>category</code>. Does this seem like a hard pill to swallow?</p>

#### [ Reid Barton (Oct 08 2018 at 02:01)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371027):
<p>I would have guessed a different split based on the names</p>

#### [ Simon Hudon (Oct 08 2018 at 02:09)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371292):
<p>You mean both the identity and composition staying with <code>category</code>?</p>

#### [ Reid Barton (Oct 08 2018 at 02:12)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371420):
<p>Yeah. I don't think we really have a math name for a "non-lawful" category, though.</p>

#### [ Scott Morrison (Oct 08 2018 at 02:19)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135371620):
<p>What if we went with: <code>has_hom</code>, <code>has_hom_id</code>, <code>semicategory</code> (this is for <code>has_hom</code> + associativity), and <code>category</code>?</p>

#### [ Simon Hudon (Oct 08 2018 at 02:49)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372533):
<p>What's the difference between a semicategory and a semigroupoid?</p>

#### [ Mario Carneiro (Oct 08 2018 at 02:55)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372686):
<p>nothing, afaict</p>

#### [ Simon Hudon (Oct 08 2018 at 02:56)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372746):
<p>Cool, that's good to know. <span class="user-mention" data-user-id="110087">@Scott Morrison</span> that sounds like a useful division. Would it be useful to make a class for composition as well?</p>

#### [ Mario Carneiro (Oct 08 2018 at 03:02)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135372918):
<p>I think these subdivisions should be created need-based rather than just because we can. Is there a use for all these?</p>

#### [ Simon Hudon (Oct 08 2018 at 03:05)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135373014):
<p>The need for <code>has_hom</code> is so that <code>End</code> can have an identity and a composition when the <code>hom</code> doesn't have laws yet. That's useful so that <code>const (End _)</code> will be an applicative without laws when we don't know that we have a monoid without laws (<code>has_one</code> and <code>has_mul</code>)</p>

#### [ Simon Hudon (Oct 08 2018 at 03:07)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135373073):
<p>In this case for a monad (without laws) <code>m</code>, <code>a -&gt; m a</code> can be considered an endomorphism and therefore a monoid without laws.</p>

#### [ Simon Hudon (Oct 08 2018 at 03:07)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135373081):
<p>Otherwise, we need <code>m</code> to be a lawful monad for <code>const (End ...)</code> to even have the operation of an applicative</p>

#### [ Scott Morrison (Oct 08 2018 at 05:56)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378268):
<p>I guess the thing I'm not understanding is the need for all these "lawless" things. Why bother talking about them?</p>

#### [ Mario Carneiro (Oct 08 2018 at 05:58)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378296):
<p>In a programming context you might want access to the operations without the proof obligations</p>

#### [ Mario Carneiro (Oct 08 2018 at 05:58)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378325):
<p>That's why <code>monad</code> and <code>lawful_monad</code> are separate</p>

#### [ Mario Carneiro (Oct 08 2018 at 05:58)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378332):
<p>Plus I know a few examples of things that are "almost" monads but are not lawful</p>

#### [ Scott Morrison (Oct 08 2018 at 06:05)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378548):
<p>Hmm.. We should just use a meta version of sorry for the proof obligations in those cases!</p>

#### [ Scott Morrison (Oct 08 2018 at 06:05)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378551):
<p>In any case, I appreciate that lawless monads are in wide use.</p>

#### [ Scott Morrison (Oct 08 2018 at 06:06)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378597):
<p>So how about today we just create <code>has_hom</code>, and leave everything else on as as-needed basis.</p>

#### [ Mario Carneiro (Oct 08 2018 at 06:14)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378849):
<p>It's true we could stub out the proofs, but I would really rather not make a habit of it. Better to promise nothing than to lie about a proof; you can exploit false proofs in the VM to obtain weird crashes and possibly memory unsafety in the future</p>

#### [ Mario Carneiro (Oct 08 2018 at 06:15)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135378865):
<p>(I think stubbing out proofs of <em>true</em> things that you don't want to bother proving in a programming context is fine, though)</p>

#### [ Scott Morrison (Oct 08 2018 at 09:07)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135384159):
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span>, I'm happy with the split of <code>category</code> into <code>has_hom</code> and <code>category</code>.</p>

#### [ Kenny Lau (Oct 08 2018 at 09:13)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135384436):
<p>Is this <a href="https://github.com/leanprover/mathlib/issues/376" target="_blank" title="https://github.com/leanprover/mathlib/issues/376">#376</a>?</p>

#### [ Scott Morrison (Oct 08 2018 at 09:14)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135384486):
<p>Yes.</p>

#### [ Simon Hudon (Oct 08 2018 at 16:32)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135407315):
<p>Nice indexing job <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>

#### [ Simon Hudon (Oct 08 2018 at 16:34)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135407439):
<p>Thanks <span class="user-mention" data-user-id="110087">@Scott Morrison</span> I'll keep it that way then. I'm a bit annoyed at the occurrences of <code>has_hom.hom</code> sprinkled here and there. How do you feel about just writing <code>hom</code> and making any other <code>hom</code> definition protected?</p>

#### [ Scott Morrison (Oct 08 2018 at 23:12)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135428255):
<p>Hmm, not sure. Can you point to an annoying instance? The problem is that I wasn't expecting the user ever to write <code>hom</code>, because there's notation for it, so it seems awkward to claim the name.</p>

#### [ Simon Hudon (Oct 10 2018 at 22:12)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135565389):
<p>Should the <code>example</code> directory of <code>category_theory</code> be renamed to <code>instances</code>?</p>

#### [ Mario Carneiro (Oct 10 2018 at 22:14)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135565479):
<p>I agree; <code>example</code> makes it sound like ancillary stuff or the lean <code>example</code> keyword</p>

#### [ Simon Hudon (Oct 10 2018 at 22:20)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/135565868):
<p>Cool, I'll do that in the fold PR, how about that?</p>

#### [ Simon Hudon (Dec 27 2018 at 21:03)](https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23376%20fold/near/152618394):
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> I think this is ready to be merged. The travis build fails but I believe that if you clear the cache, it will be ok. I renamed the <code>example</code> directory to <code>instances</code> and old files are lingering around.</p>


{% endraw %}
