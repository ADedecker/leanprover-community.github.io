---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/144837PRreviews/487491582nhdsnotation.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html">#1582 nhds notation</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="178667807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178667807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178667807">Patrick Massot (Oct 21 2019 at 15:44)</a>:</h4>
<p>It seems we need a discussion about this PR introducing a notation for the neighborhood filter of a point in a topological space. S√©bastien says he doesn't like this notation because it could make mathlib hard to understand for an outsider. This remark leaves me speechless, but probably I was a very stupid outsider when I started.</p>

<a name="178667886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178667886" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178667886">Sebastien Gouezel (Oct 21 2019 at 15:45)</a>:</h4>
<p>I didn't say "hard" but "even harder" :)</p>

<a name="178668099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178668099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178668099">Sebastien Gouezel (Oct 21 2019 at 15:47)</a>:</h4>
<p>The question is about the notation for neighborhoods. The current notation is <code>nhds x</code> and Patrick proposes <code>ùìù x</code>. My point is that it is barely shorter, and a newcomer (knowing Lean but not this part of mathlib) could understand that <code>nhds x</code> is talking about neighborhoods of <code>x</code>, but not what <code>ùìù x</code> is. Patrick's point is that it is nicer and shorter. What do you think?</p>

<a name="178668734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178668734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178668734">Patrick Massot (Oct 21 2019 at 15:52)</a>:</h4>
<p>I also add that things like <code>A ‚Üí‚Çê[R] B</code> are much harder to parse for an outsider. But this is all a virtual debate. Outsider don't use filters, so they don't use the neighborhood filters, and they will have to relearn all of topology anyway.</p>

<a name="178668926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178668926" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178668926">Patrick Massot (Oct 21 2019 at 15:54)</a>:</h4>
<p>In the perfectoid project we use the notation everywhere, and I've use it in every talk I ever displayed any Lean code.</p>

<a name="178669015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178669015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178669015">Patrick Massot (Oct 21 2019 at 15:55)</a>:</h4>
<p>In particular in calculations, having notation makes the calculation read as it does on paper.</p>

<a name="178669343"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178669343" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178669343">Kevin Buzzard (Oct 21 2019 at 15:58)</a>:</h4>
<p>This is just notation, which some people use, right? I don't know what all those &lt;&lt; things mean in the category theory library but I know that I can hover over them until they become stuff which I do know...</p>

<a name="178669642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178669642" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178669642">Sebastien Gouezel (Oct 21 2019 at 16:01)</a>:</h4>
<p>I definitely don't want to fight about this, this is anyways a minor issue!</p>

<a name="178670411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178670411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178670411">Alex J. Best (Oct 21 2019 at 16:09)</a>:</h4>
<p>Maybe a compromise is that every file using a notation that is not a well known one to general mathematician  (even if the notation was imported from another file) could be encouraged to have a brief docstring at the top of the file listing the notation used, of course this is intentionally vague. It is nice to have some chance of reading a file on a phone or github without opening it in vscode sometimes.</p>

<a name="178671411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178671411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178671411">Patrick Massot (Oct 21 2019 at 16:19)</a>:</h4>
<p>Alex, we already have that requirement, except that very few files conform to the new recommended doc style.</p>

<a name="178671441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178671441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178671441">Patrick Massot (Oct 21 2019 at 16:19)</a>:</h4>
<p>S√©bastien, if you think this is a minor issue, why not merging this PR?</p>

<a name="178671609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178671609" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178671609">Reid Barton (Oct 21 2019 at 16:20)</a>:</h4>
<p>I also don't feel very strongly about this change</p>

<a name="178671635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178671635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178671635">Reid Barton (Oct 21 2019 at 16:21)</a>:</h4>
<p>In some places (particularly around inequalities) it looks better to me, elsewhere (even in Patrick's example <code>s \elem nhds a</code>) it looks worse</p>

<a name="178671656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178671656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178671656">Reid Barton (Oct 21 2019 at 16:21)</a>:</h4>
<p>but never much better or worse, of course</p>

<a name="178671970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178671970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178671970">Sebastien Gouezel (Oct 21 2019 at 16:24)</a>:</h4>
<p>I am not merging it because I still think it is slightly worse, but I won't object if anyone else wants to merge it.</p>

<a name="178672754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178672754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178672754">Alex J. Best (Oct 21 2019 at 16:32)</a>:</h4>
<blockquote>
<p>Alex, we already have that requirement, except that very few files conform to the new recommended doc style.</p>
</blockquote>
<p>I don't see it in <a href="https://github.com/leanprover-community/mathlib/blob/master/docs/contribute/doc.md" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/docs/contribute/doc.md">https://github.com/leanprover-community/mathlib/blob/master/docs/contribute/doc.md</a> my compromise was to suggest that _even if the notation is imported from a separate file where it is defined_ the reader be reminded about it in the header in non-standard cases, so that such files can be read "offline" without the ability to find which line of which import it is defined in.</p>

<a name="178672859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178672859" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178672859">Patrick Massot (Oct 21 2019 at 16:33)</a>:</h4>
<p>It's a matter of interpreting the line "Notations (omitted only if no notation is introduced in this file)". I don't think this line forbids to recall notations introduced elsewhere.</p>

<a name="178672942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178672942" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178672942">Patrick Massot (Oct 21 2019 at 16:34)</a>:</h4>
<p>And I think the idea of reading mathlib offline is a joke, unless you already know the library very well.</p>

<a name="178673162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673162">Reid Barton (Oct 21 2019 at 16:36)</a>:</h4>
<p>I guess I don't really see how needing to learn ùìù is worth it, when <code>nhds</code> is so short. It's also obvious how to type it.<br>
The PR replaces all occurrences of <code>nhds</code> with <code>ùìù</code> (I assume), but how long will that last?</p>

<a name="178673209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673209">Alex J. Best (Oct 21 2019 at 16:37)</a>:</h4>
<p>My interpretation of "introduced" was as "defined" ,yes.</p>

<a name="178673230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673230">Reid Barton (Oct 21 2019 at 16:37)</a>:</h4>
<p>I don't dislike this change, exactly, but I feel like I don't understand it</p>

<a name="178673686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673686" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673686">Johan Commelin (Oct 21 2019 at 16:42)</a>:</h4>
<p>My personal experience in the perfectoid project was that it made several proofs (especially calc-blocks) a lot nicer to read.</p>

<a name="178673716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673716">Johan Commelin (Oct 21 2019 at 16:43)</a>:</h4>
<p>And I think Patrick wrote &gt;20 times as much code involving this filter than I did</p>

<a name="178673860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673860" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673860">Reid Barton (Oct 21 2019 at 16:45)</a>:</h4>
<p>Another option is to define it as notation in the perfectoid space project, right?</p>

<a name="178673922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673922" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673922">Johan Commelin (Oct 21 2019 at 16:45)</a>:</h4>
<p>Well, most of the more elementary code about topological algebra was supposed to move into mathlib at some point</p>

<a name="178673988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673988" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673988">Johan Commelin (Oct 21 2019 at 16:46)</a>:</h4>
<p>This PR is actually a start of that tradition (-;</p>

<a name="178673998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178673998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178673998">Sebastien Gouezel (Oct 21 2019 at 16:46)</a>:</h4>
<p>We could have it as a notation, but not enforce it everywhere. Note that there is also the filter <code>nhds_within</code>, that I tend to use a lot, and it would be weird to have a notation for one but not the other.</p>

<a name="178685578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178685578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178685578">Patrick Massot (Oct 21 2019 at 18:47)</a>:</h4>
<p>Why don't you want a notation for <code>nhds_within</code>? We could use <code>ùìù_{s} x</code> for <code>nhds_within x s</code> for instance. Note that I needed to open mathlib to learn the order of arguments of <code>nhds_within</code> when typing the previous sentence. With notations <code>ùìù x</code> vs <code>ùìù_{s} x</code> it's clear where is the exotic parameter.</p>

<a name="178686289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%231582%20nhds%20notation/near/178686289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/487491582nhdsnotation.html#178686289">Sebastien Gouezel (Oct 21 2019 at 18:55)</a>:</h4>
<p>As a general rule, I am not keen on notations which make things slightly shorter, but harder to understand. In the same way that in programming languages I don't like perl, and I don't like short variable names. But I understand that some people like it the other way around!</p>


{% endraw %}

{% include archive_update.html %}