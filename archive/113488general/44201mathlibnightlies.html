---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/44201mathlibnightlies.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html">mathlib nightlies</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="188380473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188380473" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188380473">Patrick Massot (Feb 17 2020 at 14:08)</a>:</h4>
<p>Is there any reason why mathlib nightlies are pre-releases and not releases? It makes it harder to fetch them.</p>

<a name="188380624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188380624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188380624">Patrick Massot (Feb 17 2020 at 14:11)</a>:</h4>
<p>This is done <a href="https://github.com/leanprover-community/mathlib/blob/master/scripts/deploy_nightly.sh#L66" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/scripts/deploy_nightly.sh#L66">here</a> at the very end of the line.</p>

<a name="188380748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188380748" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188380748">Patrick Massot (Feb 17 2020 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> ?</p>

<a name="188380811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188380811" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188380811">Patrick Massot (Feb 17 2020 at 14:14)</a>:</h4>
<p>Specifically, this choices makes it impossible to use <a href="https://developer.github.com/v3/repos/releases/#get-the-latest-release" target="_blank" title="https://developer.github.com/v3/repos/releases/#get-the-latest-release">https://developer.github.com/v3/repos/releases/#get-the-latest-release</a></p>

<a name="188380874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188380874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188380874">Rob Lewis (Feb 17 2020 at 14:15)</a>:</h4>
<p>No idea. Would changing it require updates to cache-olean/update-mathlib too? I wouldn't be inclined to spend much time changing this. Instead we should figure out the infrastructure to store builds for each commit on our own server.</p>

<a name="188381015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381015">Patrick Massot (Feb 17 2020 at 14:16)</a>:</h4>
<p>No, this would have no impact on existing scripts. They loop through all releases, pre or not.</p>

<a name="188381073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381073" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381073">Patrick Massot (Feb 17 2020 at 14:18)</a>:</h4>
<p>Rob, do you have enough admin power to change the latest nightly into an actual release?</p>

<a name="188381326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381326">Rob Lewis (Feb 17 2020 at 14:20)</a>:</h4>
<p>Done, although I'm not sure what difference it makes...</p>

<a name="188381368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381368" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381368">Patrick Massot (Feb 17 2020 at 14:21)</a>:</h4>
<p>Awesome! I explained the difference a few messages ago (the one with a GitHub API link)</p>

<a name="188381416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381416">Rob Lewis (Feb 17 2020 at 14:21)</a>:</h4>
<p>Ah, sorry, missed that message.</p>

<a name="188381466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381466" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381466">Patrick Massot (Feb 17 2020 at 14:22)</a>:</h4>
<p>No problem.</p>

<a name="188381914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188381914" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188381914">Sebastian Ullrich (Feb 17 2020 at 14:27)</a>:</h4>
<p>I originally set up Lean nightlies as pre-releases because semantically it seemed more appropriate, and elan can't use the API anyway because of the rate limiting.</p>

<a name="188382008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188382008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188382008">Patrick Massot (Feb 17 2020 at 14:28)</a>:</h4>
<p>Thanks for the explanation. My experience is the API rate limiting is annoying when developing tools, but ok when using them.</p>

<a name="188384199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188384199" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188384199">Sebastian Ullrich (Feb 17 2020 at 14:54)</a>:</h4>
<p>That depends on your expected number of users. It would not scale at all for elan.</p>

<a name="188384334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188384334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188384334">Patrick Massot (Feb 17 2020 at 14:56)</a>:</h4>
<p>I don't understand what you mean. Each user gets a limit, right?</p>

<a name="188384592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188384592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188384592">Sebastian Ullrich (Feb 17 2020 at 14:59)</a>:</h4>
<p>Each public IP address gets a (very low) limit, afair. I think we had some issues from users/scripts sharing an IP address.</p>

<a name="188385204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188385204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188385204">Patrick Massot (Feb 17 2020 at 15:06)</a>:</h4>
<p>I see that IP sharing could an issue in universities.</p>

<a name="188385230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188385230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188385230">Patrick Massot (Feb 17 2020 at 15:07)</a>:</h4>
<p>Currently I guess this matters only for people working at VU.</p>

<a name="188385239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188385239" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188385239">Patrick Massot (Feb 17 2020 at 15:07)</a>:</h4>
<p>and maybe CMU.</p>

<a name="188385367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188385367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188385367">Gabriel Ebner (Feb 17 2020 at 15:09)</a>:</h4>
<p>At VU (and TU Wien) every computer has their own public IP so this shouldn't be an issue.</p>

<a name="188385598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188385598" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188385598">Rob Lewis (Feb 17 2020 at 15:11)</a>:</h4>
<p>I disabled the cache-olean githook because I was getting rate limiting errors when switching around a bunch of branches. (Also it was kind of slow.) So it does come up in practice.</p>

<a name="188385657"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188385657" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188385657">Rob Lewis (Feb 17 2020 at 15:12)</a>:</h4>
<p>Again, we should probably start hosting these things ourselves pretty soon.</p>

<a name="188712874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712874">Johan Commelin (Feb 21 2020 at 08:43)</a>:</h4>
<p>What do we need of a host for the nightlies?</p>

<a name="188712879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712879">Johan Commelin (Feb 21 2020 at 08:43)</a>:</h4>
<p>The bandwidth won't be that much, right?</p>

<a name="188712884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712884">Johan Commelin (Feb 21 2020 at 08:43)</a>:</h4>
<p>I've got a server running in my basement, I'm fine with hosting stuff.</p>

<a name="188712931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712931" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712931">Mario Carneiro (Feb 21 2020 at 08:44)</a>:</h4>
<p>the main problem with basement servers is uptime</p>

<a name="188712944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712944">Johan Commelin (Feb 21 2020 at 08:44)</a>:</h4>
<p>Sure</p>

<a name="188712957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712957" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712957">Johan Commelin (Feb 21 2020 at 08:45)</a>:</h4>
<p>Currently I've been up for 250 days in a row...</p>

<a name="188712969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712969">Johan Commelin (Feb 21 2020 at 08:45)</a>:</h4>
<p>But I agree that it is fragile</p>

<a name="188712992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188712992" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188712992">Mario Carneiro (Feb 21 2020 at 08:45)</a>:</h4>
<p>Maybe we can get a mirror setup and crowdsource several basement servers?</p>

<a name="188713074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/mathlib%20nightlies/near/188713074" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44201mathlibnightlies.html#188713074">Johan Commelin (Feb 21 2020 at 08:46)</a>:</h4>
<p>Yup, I guess that would work</p>


{% endraw %}

{% include archive_update.html %}