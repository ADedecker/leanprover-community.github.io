---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/06426Travis.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html">Travis</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="175361313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175361313" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175361313">Floris van Doorn (Sep 10 2019 at 17:49)</a>:</h4>
<p>Travis is timing out on completely innocent pull requests, like <a href="https://github.com/leanprover-community/mathlib/issues/1423" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1423">#1423</a>. <br>
Does anyone know which commit caused this regressed behavior?</p>
<p>I saw that other Github repo's automatically got a reply with compilation performance. Maybe we can make a bot that automatically replies to a PR if the compilation time is increased by more than 5% or something?</p>

<a name="175361861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175361861" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175361861">Floris van Doorn (Sep 10 2019 at 17:55)</a>:</h4>
<p>I assumed in my previous message that there was a merged commit that caused performance issues, but they all seem fine. Maybe this was a cache-related issue (I merged the PR into master, maybe that fixes it)</p>

<a name="175363359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175363359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175363359">Rob Lewis (Sep 10 2019 at 18:11)</a>:</h4>
<p>Regardless of what caused it here, regression testing for compilation time would be a good idea.</p>

<a name="175363403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175363403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175363403">Rob Lewis (Sep 10 2019 at 18:11)</a>:</h4>
<p>I don't know if Travis is reliable enough to do this.</p>

<a name="175363427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175363427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175363427">Rob Lewis (Sep 10 2019 at 18:11)</a>:</h4>
<p>But maybe we could run something once a day on Scott's server?</p>

<a name="175363495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175363495" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175363495">Rob Lewis (Sep 10 2019 at 18:12)</a>:</h4>
<p>I guess that would more reliably throw the same processing power at it.</p>

<a name="175363544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175363544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175363544">Reid Barton (Sep 10 2019 at 18:12)</a>:</h4>
<p>Last three pushes to master built in around 107 (most recent), 100, 110 minutes. I didn't look at the changes, but I assume they were not responsible for this variance.</p>

<a name="175363759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175363759" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175363759">Reid Barton (Sep 10 2019 at 18:14)</a>:</h4>
<p>Interestingly <a href="https://travis-ci.org/leanprover-community/mathlib/builds/583109848?utm_source=github_status&amp;utm_medium=notification" target="_blank" title="https://travis-ci.org/leanprover-community/mathlib/builds/583109848?utm_source=github_status&amp;utm_medium=notification">this build</a> of PR <a href="https://github.com/leanprover-community/mathlib/issues/1428" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1428">#1428</a> timed out, but <code>leanpkg build</code> actually finished, it just took so much longer than usual that there wasn't enough time left to run <code>leanchecker</code>.</p>

<a name="175364067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175364067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175364067">Reid Barton (Sep 10 2019 at 18:17)</a>:</h4>
<p>I'm sure a dedicated machine would be more consistent, I'm not sure how much more consistent.<br>
Doesn't Scott already build everything anyways? Or did I imagine that?</p>

<a name="175364221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175364221" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175364221">Rob Lewis (Sep 10 2019 at 18:19)</a>:</h4>
<p>I think the mathlib nightlies get pushed to Scott from Travis. Would he be building for another reason?</p>

<a name="175364308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175364308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175364308">Rob Lewis (Sep 10 2019 at 18:20)</a>:</h4>
<p>I could be wrong about that though.</p>

<a name="175380528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175380528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175380528">Scott Morrison (Sep 10 2019 at 21:35)</a>:</h4>
<p>No, at present I'm still building nothing. That project fell through, for lack of anyone who had the time/expertise combination to script things. I <em>think</em> the idea had been to push from travis to my account on S3, and then for my computer to poll that S3 account, but the pushing-to-S3 step never happened.</p>

<a name="175380624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175380624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175380624">Scott Morrison (Sep 10 2019 at 21:36)</a>:</h4>
<p>I would love to have the infrastructure in place so that every commit received an olean cache. I can provide the CPU time, I think.</p>

<a name="175380791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175380791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175380791">Rob Lewis (Sep 10 2019 at 21:38)</a>:</h4>
<p>I think that's <span class="user-mention" data-user-id="110026">@Simon Hudon</span> 's territory. Checking build times once a day would be a lot simpler. Do you think your server has a consistent enough load to do this with enough precision?</p>

<a name="175381239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175381239" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175381239">Scott Morrison (Sep 10 2019 at 21:45)</a>:</h4>
<p>Probably. It has 18 physical cores. I routinely leave some single-threaded calculations running, but it's never more than 6. It's been a while since I've had anything multithreaded that I want left running. So if I limit the build to say 6 or 8 cores, and run it in the middle of my night, it shouldn't have any competition.</p>

<a name="175381306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175381306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175381306">Scott Morrison (Sep 10 2019 at 21:46)</a>:</h4>
<p>The idea is that I would just pull a fresh copy of master, build, and have a script post the time here?</p>

<a name="175381416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175381416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175381416">Rob Lewis (Sep 10 2019 at 21:48)</a>:</h4>
<p>Yeah, something like that. We just want to see an alert if there's an unexpected jump in compile time. Posting here would be enough.</p>

<a name="175381554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175381554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175381554">Rob Lewis (Sep 10 2019 at 21:50)</a>:</h4>
<p>Ideally, if it noticed a spike it would try to find the responsible commit.</p>

<a name="175381574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175381574" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175381574">Rob Lewis (Sep 10 2019 at 21:50)</a>:</h4>
<p>That could use a bunch more cycles.</p>

<a name="175381962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175381962" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175381962">Scott Morrison (Sep 10 2019 at 21:52)</a>:</h4>
<p>I think our limiting factor is scripting and testing, not available cycles.</p>

<a name="175382070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175382070" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175382070">Scott Morrison (Sep 10 2019 at 21:54)</a>:</h4>
<p>I am just capable enough at writing bash scripts to do a bad job of this, so help would definitely be appreciated. It might require jumping through some hoops, but I could probably work out how to give someone ssh access.</p>

<a name="175402790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175402790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175402790">Simon Hudon (Sep 11 2019 at 05:36)</a>:</h4>
<p>Feel free to put that code up on <code>mathlib-tools</code> and I'll see if I can contribute something</p>

<a name="175403885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175403885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175403885">Scott Morrison (Sep 11 2019 at 06:05)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span>, I'm helpless at this, it seems. I downloaded zulip's sample python file for posting a message from <a href="api/send-message" target="_blank" title="api/send-message">https://leanprover.zulipchat.com/api/send-message</a>, as <code>scripts/zulip.py</code>. I ran <code>pip install zulip</code>, which seemed to work. However running <code>./zulip.py</code> just says:</p>
<div class="codehilite"><pre><span></span>idaeus:scripts scott$ python zulip.py
Traceback (most recent call last):
  File &quot;zulip.py&quot;, line 1, in &lt;module&gt;
    import zulip
  File &quot;/Users/scott/projects/lean/mathlib-tools/scripts/zulip.py&quot;, line 4, in &lt;module&gt;
    client = zulip.Client(config_file=&quot;~/.zuliprc&quot;)
AttributeError: &#39;module&#39; object has no attribute &#39;Client&#39;
</pre></div>


<p>which suggests to me that python is not correctly finding the zulip library.</p>

<a name="175403888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175403888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175403888">Scott Morrison (Sep 11 2019 at 06:05)</a>:</h4>
<p>(I've committed the sample script to <code>mathlib-tools</code>, so you can see what I'm trying to do.)</p>

<a name="175403891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175403891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175403891">Scott Morrison (Sep 11 2019 at 06:05)</a>:</h4>
<p>I tried some variations, e.g. <code>pip3 install zulip</code>, and it reports success too. :-)</p>

<a name="175404150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175404150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175404150">Scott Morrison (Sep 11 2019 at 06:12)</a>:</h4>
<p>(If my computer can't even work out how to run a little shell script, how on earth is it going to get a gold medal at the IMO...?!)</p>

<a name="175404253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175404253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175404253">Johan Commelin (Sep 11 2019 at 06:15)</a>:</h4>
<p>I'm sure there are a lot of IMO gold medalists that down know what a bash script is...</p>

<a name="175408797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175408797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175408797">Scott Morrison (Sep 11 2019 at 07:53)</a>:</h4>
<p>Cancel this request for help, I found <code>zulip-send</code>, which just works from the command line.</p>

<a name="175426403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175426403" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175426403">Reid Barton (Sep 11 2019 at 12:36)</a>:</h4>
<p>I can also put together some shell scripts, especially if you can figure out a way to grant me access to your machine</p>

<a name="175452421"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175452421" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175452421">Bryan Gin-ge Chen (Sep 11 2019 at 16:56)</a>:</h4>
<p>I was thinking it might be nice to run <code>lean --profile</code> with these regular builds of mathlib to get more detailed diagnostics. However, I tried running <code>lean --make --profile src/ &gt; profile.log</code> in my mathlib directory and it keeps segfaulting after a while. Has anyone tried anything like this?</p>

<a name="175452489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175452489" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175452489">Reid Barton (Sep 11 2019 at 16:57)</a>:</h4>
<p>I also meant to ask whether there are statistics (<code>lean --profile</code> or anything else like it) which would be good to record and don't affect compile time too much</p>

<a name="175490289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175490289" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175490289">Bryan Gin-ge Chen (Sep 12 2019 at 01:06)</a>:</h4>
<p>I managed to profile mathlib with <code>lean -j1 --make --profile src/ &gt; profile.log</code>. It took maybe 2 hours on my machine, so it's probably not something we could run more than once a day:</p>
<div class="codehilite"><pre><span></span>cumulative profiling times:
    compilation 12.8s
    decl post-processing 2.56e+03s
    elaboration 3.87e+03s
    elaboration: tactic compilation 70.9s
    elaboration: tactic execution 2.67e+03s
    parsing 122s
    type checking 17.2s
</pre></div>


<p>I've attached the (compressed) <code>profile.log</code> if anyone else wants to have a go at extracting useful statistics from it: <a href="user_uploads/3121/PLD-jhGvJwY0mtkFerySJ6zd/profile_140a606.log.zip" target="_blank" title="user_uploads/3121/PLD-jhGvJwY0mtkFerySJ6zd/profile_140a606.log.zip">profile_140a606.log.zip</a> (3.1MB)</p>

<a name="175490477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175490477" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175490477">Reid Barton (Sep 12 2019 at 01:11)</a>:</h4>
<p>Couldn't we run it 12*N times per day, if we have N processors?</p>

<a name="175490497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175490497" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175490497">Reid Barton (Sep 12 2019 at 01:11)</a>:</h4>
<p>(Assuming we believe in isolation between processors which is definitely false, but hey)</p>

<a name="175490555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175490555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175490555">Bryan Gin-ge Chen (Sep 12 2019 at 01:12)</a>:</h4>
<p>It also used a fairly large amount of memory too (~2 GB by the end).</p>

<a name="175496464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496464">Scott Morrison (Sep 12 2019 at 03:46)</a>:</h4>
<p>I have 128gb on this machine, so memory shouldn't be a problem.</p>

<a name="175496472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496472" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496472">Scott Morrison (Sep 12 2019 at 03:46)</a>:</h4>
<p>Unfortunately my computer has rebooted itself several times in the last few days, and I can't work out why.</p>

<a name="175496487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496487">Scott Morrison (Sep 12 2019 at 03:47)</a>:</h4>
<p>A student has been running calculations in GAP that use lots of RAM, but simultaneously I started experimenting with building Lean regularly via cron, so I don't really know which is at fault.</p>

<a name="175496567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496567">Scott Morrison (Sep 12 2019 at 03:49)</a>:</h4>
<p>I've also been having trouble getting my build script to run multithreaded.... Usually Lean uses lots of cores, but somehow when it runs in the cron job, it uses 2 cores for a few minutes, then drops to 1, and I'm completely bamboozled as to why.</p>

<a name="175496700"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496700" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496700">Scott Morrison (Sep 12 2019 at 03:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span>, in terms of giving you (or <span class="user-mention" data-user-id="110026">@Simon Hudon</span>) access to this computer, I think the options are:</p>
<p>1. We fill out the "campus visitor" form, which would give you an ANU id number. I then get our IT people to add that id number to our VPN configuration. To ssh in, you'd then need to connect to the relevant VPN, then ssh.<br>
2. I make a persistent outbound ssh tunnel to some other server (e.g. the one hosting my website), that forwards traffic back to port 22 here. Dodgy as anything, but that's what they invented ssh tunnelling for, I guess.<br>
It's a bit of a hassle either way.</p>

<a name="175496721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496721" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496721">Simon Hudon (Sep 12 2019 at 03:53)</a>:</h4>
<p>1. looks simpler to me. It also looks less likely you'll get reprimanded for it.</p>

<a name="175496984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496984">Scott Morrison (Sep 12 2019 at 04:00)</a>:</h4>
<p>Okay, I have just initiated our process to give both you and Reid university id's here. You'll receive an email with a link to a form, but feel free to fill out the barest minimum of information it will let you submit with. :-)</p>

<a name="175496997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175496997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175496997">Simon Hudon (Sep 12 2019 at 04:01)</a>:</h4>
<p>Cool :)</p>

<a name="175497005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175497005" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175497005">Simon Hudon (Sep 12 2019 at 04:01)</a>:</h4>
<p>Sorry I'm not too verbose today. I'm exhausted</p>

<a name="175524836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175524836" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175524836">Reid Barton (Sep 12 2019 at 12:46)</a>:</h4>
<p>Is "suburb" what you call a city?</p>

<a name="175525467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175525467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175525467">Scott Morrison (Sep 12 2019 at 12:54)</a>:</h4>
<p>I guess. :-)</p>

<a name="175525552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175525552" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175525552">Scott Morrison (Sep 12 2019 at 12:55)</a>:</h4>
<p>By Australian standards, clearly Berkeley is part of San Francisco, and thus we have very few "cities", so apparently "suburb" is the next division down.</p>

<a name="175568606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175568606" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175568606">Wojciech Nawrocki (Sep 12 2019 at 20:34)</a>:</h4>
<blockquote>
<p>Couldn't we run it 12*N times per day, if we have N processors?<br>
(Assuming we believe in isolation between processors which is definitely false, but hey)</p>
</blockquote>
<p>I tried this once, and the conclusion was that sadly if you want to get reliable benchmark results, you need to run your program with pretty much exclusive access to the machine (and on real hardware as opposed to a cloud vCPU). Running one benchmark per physical CPU core skews the timings to the point of uselessness, probably due to contention on memory, on I/O, and whatever else is shared between CPUs. Anyway in case of mathlib, because the build times are so long, maybe random noise is not that much of an issue - unless it's possible for a single run of <code>lean --make</code> to somehow get in a failure mode which makes the entire build proceed slower than usual, but that seems unlikely.</p>

<a name="175575761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175575761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175575761">Scott Morrison (Sep 12 2019 at 22:06)</a>:</h4>
<p>Yeah, I'm pretty disappointed by the results <a href="#narrow/stream/113538-travis/topic/build.20time.20bot" title="#narrow/stream/113538-travis/topic/build.20time.20bot">from overnight</a>. </p>
<p>113m51.476s<br>
113m18.228s<br>
114m49.561s<br>
110m48.239s<br>
105m30.344s<br>
101m58.073s</p>
<p>I would guess that's too much random variability to be useful.</p>

<a name="175576037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175576037" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175576037">Reid Barton (Sep 12 2019 at 22:10)</a>:</h4>
<p>What conditions is that under?</p>

<a name="175576042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175576042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175576042">Reid Barton (Sep 12 2019 at 22:11)</a>:</h4>
<p>Travis or your own machine?</p>

<a name="175576045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175576045" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175576045">Reid Barton (Sep 12 2019 at 22:11)</a>:</h4>
<p>1 core?</p>

<a name="175576386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175576386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175576386">Scott Morrison (Sep 12 2019 at 22:17)</a>:</h4>
<p>This is on my own machine, running with <code>-j1</code>.</p>

<a name="175576647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175576647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175576647">Scott Morrison (Sep 12 2019 at 22:21)</a>:</h4>
<p>I realise now that I left it running every hour, so builds were overlapping. I've slowed down cron and will see if that improves things.</p>

<a name="175576894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Travis/near/175576894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/06426Travis.html#175576894">Bryan Gin-ge Chen (Sep 12 2019 at 22:25)</a>:</h4>
<p>If no one else is already working on it I'll take a stab at writing a Python script to parse the profile output into JSON (or some other format?) later tonight.</p>


{% endraw %}

{% include archive_update.html %}