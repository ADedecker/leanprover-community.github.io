---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/09085elanisbroken.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html">elan is broken?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="161229444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161229444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161229444">Scott Morrison (Mar 20 2019 at 09:38)</a>:</h4>
<p>Trying to fix the elan installation in the VS Code extension, I've discovered that elan itself is currently not working. Lo:</p>
<div class="codehilite"><pre><span></span>$ curl https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh -sSf | sh
info: downloading installer

Welcome to Lean!

This will download and install Elan, a tool for managing different Lean
versions used in packages you create or download. It will also install a
default version of Lean and its package manager, leanpkg, for editing files not
belonging to any package.

It will add the leanpkg, lean, and elan commands to Elan&#39;s bin directory,
located at:

  /Users/scott/.elan/bin

This path will then be added to your PATH environment variable by modifying the
profile files located at:

  /Users/scott/.profile
  /Users/scott/.bash_profile

You can uninstall at any time with elan self uninstall and these changes will
be reverted.

Current installation options:

     default toolchain: stable
  modify PATH variable: yes

1) Proceed with installation (default)
2) Customize installation
3) Cancel installation


info: syncing channel updates for &#39;stable&#39;
info: latest update on stable, lean version v3.4.2&amp;quot;,&amp;quot;user_id&amp;quot;:null}}
info: downloading component &#39;lean&#39;
Error(Download(HttpStatus(404)), State { next_error: None, backtrace: None })
error: could not download nonexistent lean version `stable`
info: caused by: could not download file from &#39;https://github.com/leanprover/lean/releases/tag/v3.4.2&amp;quot;,&amp;quot;user_id&amp;quot;:null%7D%7D&#39; to &#39;/Users/scott/.elan/tmp/5dut6cfxwij0ymb0_file&#39;
info: caused by: http request returned an unsuccessful status code: 404
</pre></div>


<p>Any ideas, <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span>?</p>

<a name="161229461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161229461" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161229461">Scott Morrison (Mar 20 2019 at 09:39)</a>:</h4>
<p>Could anyone else (on OSX or otherwise) let me know if they are seeing similar behaviour?</p>

<a name="161230322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161230322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161230322">Sebastian Ullrich (Mar 20 2019 at 09:51)</a>:</h4>
<p>Hmm, parsing Github HTML to retrieve the latest release might not be the most stable solution in retrospect</p>

<a name="161230760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161230760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161230760">Keeley Hoek (Mar 20 2019 at 09:58)</a>:</h4>
<p>I have a 2-line fix which uses the github api pull requested :)</p>

<a name="161230772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161230772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161230772">Keeley Hoek (Mar 20 2019 at 09:59)</a>:</h4>
<p>(Who needs a JSON parser anyway ;) )</p>

<a name="161231031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231031">Sebastian Ullrich (Mar 20 2019 at 10:02)</a>:</h4>
<p>That's what I did at first, until we ran into Github API's rate limits</p>

<a name="161231033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231033" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231033">Scott Morrison (Mar 20 2019 at 10:02)</a>:</h4>
<p>merge in 3... 2... 1... :-)</p>

<a name="161231038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231038">Scott Morrison (Mar 20 2019 at 10:02)</a>:</h4>
<p>ah...</p>

<a name="161231077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231077">Keeley Hoek (Mar 20 2019 at 10:03)</a>:</h4>
<p>:-(</p>

<a name="161231136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231136">Keeley Hoek (Mar 20 2019 at 10:04)</a>:</h4>
<p>Well, you could always just put an ampersand after the <code>"</code> in the regex lol</p>

<a name="161231146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231146">Sebastian Ullrich (Mar 20 2019 at 10:04)</a>:</h4>
<p>I'm parsing the <code>Location:</code> header now</p>

<a name="161231169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231169" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231169">Sebastian Ullrich (Mar 20 2019 at 10:05)</a>:</h4>
<p>That's the plan at least</p>

<a name="161231319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231319">Keeley Hoek (Mar 20 2019 at 10:06)</a>:</h4>
<p>Like HTTP header? From where?</p>

<a name="161231347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161231347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161231347">Keeley Hoek (Mar 20 2019 at 10:07)</a>:</h4>
<p>But cool, sounds more legit</p>

<a name="161237469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161237469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161237469">Sebastian Ullrich (Mar 20 2019 at 11:37)</a>:</h4>
<p>Done. Since elan's self-updater is broken as well, please reinstall elan via e.g.</p>
<div class="codehilite"><pre><span></span>curl https://raw.githubusercontent.com/Kha/elan/master/elan-init.sh -sSf | sh
</pre></div>

<a name="161238791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161238791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161238791">Johan Commelin (Mar 20 2019 at 11:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Is that a message for everyone?</p>

<a name="161239217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161239217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161239217">Sebastian Ullrich (Mar 20 2019 at 12:01)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Yes. Should we make it more prominent in a new all-caps topic or something?</p>

<a name="161239277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161239277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161239277">Johan Commelin (Mar 20 2019 at 12:02)</a>:</h4>
<p>Yes, and maybe this is one of those cases where you could use a global mention</p>

<a name="161239285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161239285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161239285">Johan Commelin (Mar 20 2019 at 12:02)</a>:</h4>
<p>Using <code>@everyone</code></p>

<a name="161239622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161239622" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161239622">Sebastian Ullrich (Mar 20 2019 at 12:06)</a>:</h4>
<p>I don't know, sending notifications to 523 people seems kind of rude :) . If they notice something's wrong, I hope they'll find the Zulip topic by themselves.</p>

<a name="161239654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161239654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161239654">Johan Commelin (Mar 20 2019 at 12:06)</a>:</h4>
<p>It depends on the fraction of people that we think will find this message helpful.</p>

<a name="161239697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161239697" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161239697">Johan Commelin (Mar 20 2019 at 12:07)</a>:</h4>
<p>I don't have a good estimate for the number of elan users out there. But I guess it might be &gt;50%</p>

<a name="161240223"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/elan%20is%20broken%3F/near/161240223" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/09085elanisbroken.html#161240223">Sebastian Ullrich (Mar 20 2019 at 12:14)</a>:</h4>
<p>At least of the active users. There may be inactive users with e-mail notifications, though I don't think that is the default.</p>


{% endraw %}
