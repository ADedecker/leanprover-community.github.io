---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/89755happypiday.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html">happy pi day!</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="160773106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160773106" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160773106">Kenny Lau (Mar 14 2019 at 11:59)</a>:</h4>
<p>happy pi day!</p>

<a name="160775662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160775662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160775662">Kevin Buzzard (Mar 14 2019 at 12:41)</a>:</h4>
<p><a href="https://www.bbc.co.uk/news/technology-47524760" target="_blank" title="https://www.bbc.co.uk/news/technology-47524760">https://www.bbc.co.uk/news/technology-47524760</a></p>

<a name="160776633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160776633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160776633">Kevin Buzzard (Mar 14 2019 at 12:54)</a>:</h4>
<p>But did they formally verify it? And if not, should we believe the calculations? They should be reproduced using a completely different system.</p>

<a name="160779334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160779334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160779334">Moses Schönfinkel (Mar 14 2019 at 13:27)</a>:</h4>
<p>They use <a href="https://en.wikipedia.org/wiki/Bellard%27s_formula" target="_blank" title="https://en.wikipedia.org/wiki/Bellard%27s_formula">https://en.wikipedia.org/wiki/Bellard%27s_formula</a> to verify digits they compute with <a href="https://en.wikipedia.org/wiki/Chudnovsky_algorithm" target="_blank" title="https://en.wikipedia.org/wiki/Chudnovsky_algorithm">https://en.wikipedia.org/wiki/Chudnovsky_algorithm</a></p>

<a name="160779596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160779596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160779596">Moses Schönfinkel (Mar 14 2019 at 13:30)</a>:</h4>
<p>Also it would appear that they are simply using Alexander Yee's pi cruncher to simply run their computation, this is its homepage: <a href="http://www.numberworld.org/y-cruncher/" target="_blank" title="http://www.numberworld.org/y-cruncher/">http://www.numberworld.org/y-cruncher/</a></p>

<a name="160779714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160779714" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160779714">Koundinya Vajjha (Mar 14 2019 at 13:32)</a>:</h4>
<blockquote>
<p>But did they formally verify it? And if not, should we believe the calculations? They should be reproduced using a completely different system.</p>
</blockquote>
<p><a href="https://arxiv.org/abs/1709.01743" target="_blank" title="https://arxiv.org/abs/1709.01743">https://arxiv.org/abs/1709.01743</a></p>

<a name="160780155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160780155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160780155">Moses Schönfinkel (Mar 14 2019 at 13:38)</a>:</h4>
<p>There's also an extra verification algorithm they employ it seems, so you can trust it about as much as you can trust the (un-verified C++) implementation of Lean that runs on un-verified hardware.</p>

<a name="160780322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160780322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160780322">Kenny Lau (Mar 14 2019 at 13:40)</a>:</h4>
<p>Can we prove that pi starts with 3.14? i.e. 3.14 &lt;= pi &lt; 3.15?</p>

<a name="160780354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160780354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160780354">Kenny Lau (Mar 14 2019 at 13:40)</a>:</h4>
<p>I think a Chinese mathematician 1000 years ago used 3•2^n-gons to estimate pi up to 7 digits?</p>

<a name="160782787"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160782787" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160782787">Chris Hughes (Mar 14 2019 at 14:04)</a>:</h4>
<p>The easiest way using current mathlib, is to just use some lemma I proved about approximating e^x for x le 1, as the first n terms of the power series. I think tactics to do this stuff would be good.</p>

<a name="160784579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160784579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160784579">Kevin Buzzard (Mar 14 2019 at 14:23)</a>:</h4>
<blockquote>
<p>Can we prove that pi starts with 3.14? i.e. 3.14 &lt;= pi &lt; 3.15?</p>
</blockquote>
<p>Do we have any theorem of the form "pi is the following infinite sum" or "pi is the limit of the following sequence"?</p>

<a name="160784877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160784877" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160784877">Kevin Buzzard (Mar 14 2019 at 14:26)</a>:</h4>
<p>Maybe today is a good day to talk about pi. We know cos(pi/2)=0 so we can probably deduce any reasonable trig assertion about pi. Now the derivative of arctan is 1/(1+x^2) and...oh dear now I want to integrate term by term to deduce the power series for arctan, and then evaluate at 1 to deduce pi/4=1-1/3+1/5-1/7+..., for which one can get some reasonable approximations to pi. But we still need derivative of a power series :-/</p>

<a name="160786648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160786648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160786648">Kenny Lau (Mar 14 2019 at 14:43)</a>:</h4>
<p>that power series is notoriously slow to converge</p>

<a name="160786790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160786790" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160786790">Kevin Buzzard (Mar 14 2019 at 14:44)</a>:</h4>
<p>I'm well aware of that. Conversely it's an alternating series so it provides us with a rigorous proof that, for example, pi&gt;1-1/3+1/5-1/7+1/9-1/11 and pi&lt;1-1/3+1/5-1/7+1/9-1/11+1/13.</p>

<a name="160786890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160786890" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160786890">Kevin Buzzard (Mar 14 2019 at 14:45)</a>:</h4>
<p>Which is more than we know currently in mathlib.</p>

<a name="160787018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787018" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787018">Kevin Buzzard (Mar 14 2019 at 14:47)</a>:</h4>
<p>The 2^n-gon trick converges much more quickly and we have the trig in place, but it relies on the fact that pi = circumference over diameter, which we can't formalise yet.</p>

<a name="160787049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787049" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787049">Kevin Buzzard (Mar 14 2019 at 14:47)</a>:</h4>
<p>Claim: pi &gt; 3. Proof: draw a regular hexagon and chop it into 6 triangles. Then draw a circle round the hexagon.</p>

<a name="160787142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787142" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787142">Kevin Buzzard (Mar 14 2019 at 14:48)</a>:</h4>
<p>Circumference of circle &gt; circumference of hexagon = 6, diameter = 2.</p>

<a name="160787175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787175" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787175">Kevin Buzzard (Mar 14 2019 at 14:48)</a>:</h4>
<p>Can we turn this idea into a mathlib proof that pi &gt; 3? If so then the polygon trick starts to kick in.</p>

<a name="160787213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787213" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787213">Abhimanyu Pallavi Sudhir (Mar 14 2019 at 14:48)</a>:</h4>
<p>You'll need pi as an integral, correct?</p>

<a name="160787266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787266" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787266">Kevin Buzzard (Mar 14 2019 at 14:49)</a>:</h4>
<p>I don't know. We've defined pi "in terms of trig", and we're "doing trig" in some vague way above -- but it looks to me like we're somehow doing a different trig.</p>

<a name="160787281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787281">Kenny Lau (Mar 14 2019 at 14:49)</a>:</h4>
<p>just define it as the limit of the 3*2^n-gons</p>

<a name="160787426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787426">Abhimanyu Pallavi Sudhir (Mar 14 2019 at 14:50)</a>:</h4>
<p>I think the easiest way to prove the circumference of that limit is pi still uses Riemann sums, though.</p>

<a name="160787429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787429">Kevin Buzzard (Mar 14 2019 at 14:50)</a>:</h4>
<p>ha ha</p>

<a name="160787439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787439">Kevin Buzzard (Mar 14 2019 at 14:50)</a>:</h4>
<p>there's a problem with the polygon approach</p>

<a name="160787480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787480">Kevin Buzzard (Mar 14 2019 at 14:51)</a>:</h4>
<p>you end up defining 2pi as the limit, as n tends to infinity, of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>sin</mi><mo>(</mo><mn>2</mn><mi>π</mi><mi mathvariant="normal">/</mi><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">n\sin(2\pi/n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit">n</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mord mathrm">/</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span></p>

<a name="160787579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787579" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787579">Kevin Buzzard (Mar 14 2019 at 14:52)</a>:</h4>
<p>(that's using n-gons; using 2^n-gons just change n to 2^n)</p>

<a name="160787639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787639" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787639">Kevin Buzzard (Mar 14 2019 at 14:52)</a>:</h4>
<p>OTOH if one could prove that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>sin</mi><mo>(</mo><mn>2</mn><mi>π</mi><mi mathvariant="normal">/</mi><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">n\sin(2\pi/n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit">n</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mord mathrm">/</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span> was increasing</p>

<a name="160787662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787662">Kevin Buzzard (Mar 14 2019 at 14:53)</a>:</h4>
<p>and that the derivative of sin was cos</p>

<a name="160787683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787683">Kevin Buzzard (Mar 14 2019 at 14:53)</a>:</h4>
<p>then setting n=6 you get pi&gt;3</p>

<a name="160787715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787715">Reid Barton (Mar 14 2019 at 14:53)</a>:</h4>
<p>For lower bounds, I guess you just need to prove <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>sin</mi><mi>x</mi><mo>&lt;</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\sin x &lt; x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.66786em;"></span><span class="strut bottom" style="height:0.70696em;vertical-align:-0.0391em;"></span><span class="base"><span class="mop">sin</span><span class="mord mathit">x</span><span class="mrel">&lt;</span><span class="mord mathit">x</span></span></span></span> for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x &gt; 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="base"><span class="mord mathit">x</span><span class="mrel">&gt;</span><span class="mord mathrm">0</span></span></span></span> which seems feasible</p>

<a name="160787727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787727">Kevin Buzzard (Mar 14 2019 at 14:54)</a>:</h4>
<p>aah so this is the point; we can compute sin(2 pi / (3*2^m)) as a solution to a quadratic</p>

<a name="160787813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787813" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787813">Kevin Buzzard (Mar 14 2019 at 14:54)</a>:</h4>
<blockquote>
<p>For lower bounds, I guess you just need to prove $\sin x &lt; x$ for $x &gt; 0$ which seems feasible</p>
</blockquote>
<p>yeah, just draw the graph :P</p>

<a name="160787837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787837">Kevin Buzzard (Mar 14 2019 at 14:54)</a>:</h4>
<p>that crazy quote bug again</p>

<a name="160787879"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787879" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787879">Kevin Buzzard (Mar 14 2019 at 14:55)</a>:</h4>
<p>sin(x)&lt;x should be easy by that alternating series thing</p>

<a name="160787915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160787915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160787915">Kevin Buzzard (Mar 14 2019 at 14:55)</a>:</h4>
<p>Maybe Chris even proved sin(x)&gt;x-x^3/3 which might even have been used to prove the current known bounds for pi, which are something like 2&lt;pi&lt;4</p>

<a name="160788006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788006">Kevin Buzzard (Mar 14 2019 at 14:56)</a>:</h4>
<p>good to see that google are on 33 trillion digits and we're still working on the 0th one :-)</p>

<a name="160788044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788044">Kevin Buzzard (Mar 14 2019 at 14:56)</a>:</h4>
<p>the thing is, when we get it, we'll have a <em>proof</em></p>

<a name="160788198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788198">Kevin Buzzard (Mar 14 2019 at 14:56)</a>:</h4>
<p>not just some blather about cloud computing</p>

<a name="160788245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788245" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788245">Kevin Buzzard (Mar 14 2019 at 14:57)</a>:</h4>
<p>It's Xena tonight, maybe we should have a pi day celebration and try to prove pi &gt; 3</p>

<a name="160788766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788766" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788766">Kenny Lau (Mar 14 2019 at 15:01)</a>:</h4>
<p>firstly how do you define pi</p>

<a name="160788837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788837">Kevin Buzzard (Mar 14 2019 at 15:02)</a>:</h4>
<p>it's in mathlib</p>

<a name="160788855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788855" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788855">Kevin Buzzard (Mar 14 2019 at 15:02)</a>:</h4>
<p>so it is defined by official decree already</p>

<a name="160788872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788872">Kevin Buzzard (Mar 14 2019 at 15:02)</a>:</h4>
<p>I think they went for 22/7 but I can't remember</p>

<a name="160788896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788896" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788896">Kenny Lau (Mar 14 2019 at 15:03)</a>:</h4>
<p>it's in mathlib?</p>

<a name="160788912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788912" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788912">Kevin Buzzard (Mar 14 2019 at 15:03)</a>:</h4>
<p>no wait, that was something else.</p>

<a name="160788919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788919" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788919">Kevin Buzzard (Mar 14 2019 at 15:03)</a>:</h4>
<p>Isn't it in mathlib??</p>

<a name="160788976"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160788976" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160788976">Kevin Buzzard (Mar 14 2019 at 15:04)</a>:</h4>
<p>yes it's there</p>

<a name="160789044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789044">Kevin Buzzard (Mar 14 2019 at 15:04)</a>:</h4>
<p>It's in analysis.exponential</p>

<a name="160789051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789051">Kevin Buzzard (Mar 14 2019 at 15:04)</a>:</h4>
<p><code>local notation </code>π<code> := 22 / 7</code></p>

<a name="160789065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789065">Kevin Buzzard (Mar 14 2019 at 15:04)</a>:</h4>
<p>no wait</p>

<a name="160789077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789077">Kenny Lau (Mar 14 2019 at 15:05)</a>:</h4>
<p>oh right they proved sin(pi) = 0 right</p>

<a name="160789078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789078" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789078">Kevin Buzzard (Mar 14 2019 at 15:05)</a>:</h4>
<p><code>local notation </code>π<code> := real.pi</code></p>

<a name="160789091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789091">Kenny Lau (Mar 14 2019 at 15:05)</a>:</h4>
<p>oh</p>

<a name="160789099"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789099" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789099">Kenny Lau (Mar 14 2019 at 15:05)</a>:</h4>
<p>what's the definition?</p>

<a name="160789110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789110" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789110">Abhimanyu Pallavi Sudhir (Mar 14 2019 at 15:05)</a>:</h4>
<p>Two times the zero of cos x between 0 and 2. I don't see why they didn't just prove exp periodic and define it as the half-period. Maybe that's hard without knowing what pi is, but it feels more natural.</p>

<a name="160789256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789256" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789256">Kevin Buzzard (Mar 14 2019 at 15:06)</a>:</h4>
<p>I think they were pressed for time and wanted to get it out for my birthday :-)</p>

<a name="160789308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789308">Kevin Buzzard (Mar 14 2019 at 15:07)</a>:</h4>
<p>I gave a talk yesterday to 100 people at my university interested in teaching, and told them the story of how I got pi for my birthday, and it got the biggest laugh of the talk.</p>

<a name="160789349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789349" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789349">Kevin Buzzard (Mar 14 2019 at 15:07)</a>:</h4>
<p>You weren't around at that point Abhi, so you couldn't keep them in order :-)</p>

<a name="160789401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789401">Kevin Buzzard (Mar 14 2019 at 15:08)</a>:</h4>
<p><code>noncomputable def pi : ℝ := 2 * classical.some exists_cos_eq_zero</code></p>

<a name="160789468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789468" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789468">Kevin Buzzard (Mar 14 2019 at 15:08)</a>:</h4>
<p>holy crap, it could be twice any zero at all!</p>

<a name="160789481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789481" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789481">Kevin Buzzard (Mar 14 2019 at 15:08)</a>:</h4>
<p>Maybe it's not less than 4 after all!</p>

<a name="160789488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789488">Kevin Buzzard (Mar 14 2019 at 15:08)</a>:</h4>
<p>pesky axiom of choice</p>

<a name="160789651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789651">Kevin Buzzard (Mar 14 2019 at 15:10)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">exists_cos_eq_zero</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span><span class="o">,</span> <span class="mi">1</span> <span class="bp">≤</span> <span class="n">x</span> <span class="bp">∧</span> <span class="n">x</span> <span class="bp">≤</span> <span class="mi">2</span> <span class="bp">∧</span> <span class="n">cos</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
</pre></div>

<a name="160789684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789684" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789684">Kevin Buzzard (Mar 14 2019 at 15:10)</a>:</h4>
<p>Proof uses <code>cos_one_pos</code> and <code>cos_two_neg</code> and IVT</p>

<a name="160789710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789710" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789710">Kevin Buzzard (Mar 14 2019 at 15:10)</a>:</h4>
<p>so indeed currently we should be able to prove that pi is between 2 and 4</p>

<a name="160789760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789760">Kevin Buzzard (Mar 14 2019 at 15:11)</a>:</h4>
<p>but for proving it's bigger than 3 it does not suffice to prove that cos(1.5) is positive, because there might be some other zero of cos in the range (1,1.5).</p>

<a name="160789834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789834">Kevin Buzzard (Mar 14 2019 at 15:12)</a>:</h4>
<p>It would be good to know that cos was decreasing. That would follow from MVT perhaps, if we knew the derivative of cos was sin, but we might be a long way from that.</p>

<a name="160789848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160789848" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160789848">Kevin Buzzard (Mar 14 2019 at 15:12)</a>:</h4>
<p>Do we know the derivative of exp is exp yet?</p>

<a name="160790047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160790047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160790047">Abhimanyu Pallavi Sudhir (Mar 14 2019 at 15:14)</a>:</h4>
<p>I don't. Maybe Jeremy Avigad does (if he's specialised his derivative for basic functions).</p>

<a name="160790070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160790070" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160790070">Reid Barton (Mar 14 2019 at 15:14)</a>:</h4>
<p>I think we do know cos is decreasing, or at least I saw something similar when looking through the file for <code>sin x &lt; x</code></p>

<a name="160790108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160790108" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160790108">Reid Barton (Mar 14 2019 at 15:15)</a>:</h4>
<p><code>cos_lt_cos_of_nonneg_of_le_pi_div_two</code></p>

<a name="160790127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160790127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160790127">Reid Barton (Mar 14 2019 at 15:15)</a>:</h4>
<p>or actually <code>cos_lt_cos_of_nonneg_of_le_pi</code></p>

<a name="160790234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160790234" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160790234">Reid Barton (Mar 14 2019 at 15:16)</a>:</h4>
<p>It's proved using angle addition formulas</p>

<a name="160793854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160793854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160793854">Floris van Doorn (Mar 14 2019 at 15:49)</a>:</h4>
<p>If we know that <code>sin x &lt; x</code> here is a proof sketch to show that <code>pi &gt; 3</code>:</p>
<p>The doubling formula <code>cos(2*x) = 2*cos^2(x) - 1</code> has been formalized, so we can compute <code>cos^2(pi/4)</code> and <code>cos^2(pi/8)</code>. Now we can also compute <code>sin^2(pi/8)</code>. This turns out to be <code>1/2 - 1/sqrt(8)</code>. Now we know that <code>pi &gt; 8sin(pi/8) = 8sqrt(1/2-1/sqrt(8)) &gt; 3</code>.</p>

<a name="160794600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160794600" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160794600">Kenny Lau (Mar 14 2019 at 15:56)</a>:</h4>
<p>nice!</p>

<a name="160794688"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160794688" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160794688">Chris Hughes (Mar 14 2019 at 15:57)</a>:</h4>
<p>I can imagine this being a long annoying proof.</p>

<a name="160794709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160794709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160794709">Reid Barton (Mar 14 2019 at 15:57)</a>:</h4>
<p><code>sin_bound</code> should be enough to prove <code>sin x &lt; x</code> as well</p>

<a name="160794817"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160794817" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160794817">Floris van Doorn (Mar 14 2019 at 15:58)</a>:</h4>
<p>I'm starting now to compute <code>sin(pi/8)</code>.</p>

<a name="160795287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795287" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795287">Kevin Buzzard (Mar 14 2019 at 16:02)</a>:</h4>
<p>Happy pi day :-)</p>

<a name="160795347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795347">Kevin Buzzard (Mar 14 2019 at 16:03)</a>:</h4>
<p>Chris this proof doesn't look too bad to me at all. I was manipulating 1+sqrt(5)/2 without too much trouble last week when we were doing some analysis example sheet question.</p>

<a name="160795356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795356" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795356">Kevin Buzzard (Mar 14 2019 at 16:03)</a>:</h4>
<p>Or is there something else you're worried about?</p>

<a name="160795365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795365">Floris van Doorn (Mar 14 2019 at 16:03)</a>:</h4>
<p>How do I prove <code>(2 : ℂ) ≠ 0</code>?</p>

<a name="160795368"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795368" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795368">Kevin Buzzard (Mar 14 2019 at 16:03)</a>:</h4>
<p>These things should go in pi.lean</p>

<a name="160795374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795374">Kevin Buzzard (Mar 14 2019 at 16:03)</a>:</h4>
<p><code>norm_num</code> proves 2 ne 0</p>

<a name="160795389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795389" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795389">Kevin Buzzard (Mar 14 2019 at 16:03)</a>:</h4>
<p>or if it doesn't then take real parts</p>

<a name="160795402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795402">Kevin Buzzard (Mar 14 2019 at 16:03)</a>:</h4>
<p>because it will definitely prove (2 : real) \ne 0</p>

<a name="160795413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795413">Chris Hughes (Mar 14 2019 at 16:03)</a>:</h4>
<p><code>two_ne_zero'</code></p>

<a name="160795417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795417" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795417">Kevin Buzzard (Mar 14 2019 at 16:04)</a>:</h4>
<p>rofl</p>

<a name="160795484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795484">Chris Hughes (Mar 14 2019 at 16:04)</a>:</h4>
<p>It needs the prime, because I think the other version is for linear ordered things.</p>

<a name="160795498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795498">Floris van Doorn (Mar 14 2019 at 16:04)</a>:</h4>
<p>yes, I found the other one. Thanks</p>

<a name="160795503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795503">Kevin Buzzard (Mar 14 2019 at 16:04)</a>:</h4>
<p>linear ordered -&gt; char 0</p>

<a name="160795550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795550">Chris Hughes (Mar 14 2019 at 16:05)</a>:</h4>
<p>The linear order version is in core I think.</p>

<a name="160795728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795728" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795728">Kevin Buzzard (Mar 14 2019 at 16:07)</a>:</h4>
<p><a href="#narrow/stream/116395-maths/topic/golden.20ratio.20calculation" title="#narrow/stream/116395-maths/topic/golden.20ratio.20calculation">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/golden.20ratio.20calculation</a></p>

<a name="160795738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160795738" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160795738">Kevin Buzzard (Mar 14 2019 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> there's an example of basic manipulations with sqrt(5)</p>

<a name="160811617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160811617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160811617">Floris van Doorn (Mar 14 2019 at 19:06)</a>:</h4>
<div class="codehilite"><pre><span></span>import analysis.exponential

namespace real
variable (x : ℝ)

lemma sqrt_le_left {x y : ℝ} (hy : 0 ≤ y) : sqrt x ≤ y ↔ x ≤ y ^ 2 :=
begin
  rw [mul_self_le_mul_self_iff (sqrt_nonneg _) hy, pow_two],
  cases le_total 0 x with hx hx,
  { rw [mul_self_sqrt hx] },
  { have h1 : 0 ≤ y * y := mul_nonneg hy hy,
    have h2 : x ≤ y * y := le_trans hx h1,
    simp [sqrt_eq_zero_of_nonpos, hx, h1, h2] }
end

lemma le_sqrt {x y : ℝ} (hx : 0 ≤ x) (hy : 0 ≤ y) : x ≤ sqrt y ↔ x ^ 2 ≤ y :=
by rw [mul_self_le_mul_self_iff hx (sqrt_nonneg _), pow_two, mul_self_sqrt hy]

lemma div_lt_self {x y : ℝ} (hx : x &gt; 0) (hy : y &gt; 1) : x / y &lt; x :=
by simpa using div_lt_div&#39; (le_refl x) hy hx zero_lt_one

lemma cos_square : cos x ^ 2 = (1 + cos (2 * x)) / 2 :=
by simp [cos_two_mul, mul_div_cancel_left, two_ne_zero]

lemma sin_square : sin x ^ 2 = 1 - cos x ^ 2 :=
by { rw [←sin_pow_two_add_cos_pow_two x], simp }

lemma cos_square_pi_div_four : cos (pi / 4) ^ 2 = 1 / 2 :=
by { have : 2 * (pi / 4) = pi / 2, ring, simp [cos_square, this] }

lemma cos_pi_div_four : cos (pi / 4) = sqrt (1 / 2) :=
begin
  symmetry, rw [sqrt_eq_iff_sqr_eq, cos_square_pi_div_four], norm_num,
  apply le_of_lt, apply cos_pos_of_neg_pi_div_two_lt_of_lt_pi_div_two,
  { transitivity (0 : ℝ), rw neg_lt_zero, apply pi_div_two_pos,
    exact div_pos pi_pos (by norm_num) },
  apply div_lt_div&#39; (le_refl pi) _ pi_pos _,
  norm_num, norm_num
end

/- why is division_ring.inv_inj in the file &quot;field&quot;?-/
lemma cos_square_pi_div_eight : cos (pi / 8) ^ 2 = 1 / 2 + sqrt (1 / 8) :=
begin
  have h1 : 2 * (pi / 8) = pi / 4, ring,
  have h2 : sqrt 4 = 2, rw [sqrt_eq_iff_sqr_eq]; norm_num,
  have h3 : 2 * sqrt 2 ≠ 0, norm_num,
  have h4 : sqrt 8 ≠ 0, norm_num,
  simp [cos_square, h1, cos_pi_div_four],
  rw [←div_add_div_same], simp [div_eq_mul_inv, (mul_inv&#39; _ _).symm, division_ring.inv_inj, h3, h4],
  transitivity sqrt 4 * sqrt 2, rw [h2],
  rw [←sqrt_mul]; norm_num
end

lemma cos_pi_div_eight : cos (pi / 8) = sqrt (1 / 2 + sqrt (1 / 8)) :=
begin
  symmetry, rw [sqrt_eq_iff_sqr_eq, cos_square_pi_div_eight],
  apply add_nonneg, norm_num, apply sqrt_nonneg,
  apply le_of_lt, apply cos_pos_of_neg_pi_div_two_lt_of_lt_pi_div_two,
  { transitivity (0 : ℝ), rw neg_lt_zero, apply pi_div_two_pos,
    exact div_pos pi_pos (by norm_num) },
  apply div_lt_div&#39; (le_refl pi) _ pi_pos _,
  norm_num, norm_num
end

lemma sin_square_pi_div_eight : sin (pi / 8) ^ 2 = 1 / 2 - sqrt (1 / 8) :=
by { simp [sin_square, cos_square_pi_div_eight], rw [←add_assoc], congr&#39; 1, norm_num }

lemma sin_pi_div_eight : sin (pi / 8) = sqrt (1 / 2 - sqrt (1 / 8)) :=
begin
  symmetry, rw [sqrt_eq_iff_sqr_eq, sin_square_pi_div_eight],
  { rw [sub_nonneg, sqrt_le_left], norm_num, norm_num },
  apply le_of_lt, apply sin_pos_of_pos_of_lt_pi,
  { exact div_pos pi_pos (by norm_num) },
  exact div_lt_self pi_pos (by norm_num)
end

lemma sin_lt {x : ℝ} (h : 0 &lt; x) : sin x &lt; x :=
begin
  cases le_or_gt x 1 with h&#39; h&#39;,
  { have hx : abs x = x := abs_of_nonneg (le_of_lt h),
    have : abs x ≤ 1, rwa [hx],
    have := sin_bound this, rw [abs_le] at this,
    have := this.2, rw [sub_le_iff_le_add&#39;, hx] at this,
    apply lt_of_le_of_lt this, rw [sub_add], apply lt_of_lt_of_le _ (le_of_eq (sub_zero x)),
    apply sub_lt_sub_left, rw sub_pos, apply mul_lt_mul&#39;,
    { rw [pow_succ x 3], refine le_trans _ (le_of_eq (one_mul _)),
      rw mul_le_mul_right, exact h&#39;, apply pow_pos h },
    norm_num, norm_num, apply pow_pos h },
  exact lt_of_le_of_lt (sin_le_one x) h&#39;
end

lemma pt_gt_three : pi &gt; 3 :=
begin
  have : pi &gt; sin (pi / 8) * 8,
  { apply mul_lt_of_lt_div, norm_num, apply sin_lt, apply div_pos pi_pos, norm_num },
  apply lt_of_le_of_lt _ this, rw [sin_pi_div_eight],
  apply le_mul_of_div_le, norm_num,
  rw [le_sqrt, le_sub_iff_add_le, ←le_sub_iff_add_le&#39;, sqrt_le_left],
  norm_num, norm_num, norm_num,
  rw [sub_nonneg, sqrt_le_left], norm_num, norm_num
end

end real
</pre></div>

<a name="160811887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160811887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160811887">Kevin Buzzard (Mar 14 2019 at 19:08)</a>:</h4>
<p>This doesn't compile for me</p>

<a name="160811892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160811892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160811892">Kevin Buzzard (Mar 14 2019 at 19:08)</a>:</h4>
<div class="codehilite"><pre><span></span>solve1 tactic failed, focused goal has not been solved
state:
⊢ pi / 8 ≤ 1
</pre></div>

<a name="160811899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160811899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160811899">Kevin Buzzard (Mar 14 2019 at 19:08)</a>:</h4>
<p>We need pi &lt;= 8</p>

<a name="160811969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160811969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160811969">Kevin Buzzard (Mar 14 2019 at 19:09)</a>:</h4>
<div class="codehilite"><pre><span></span>lemma pt_gt_three : pi &gt; 3 :=
begin
  have : pi &gt; sin (pi / 8) * 8,
  { apply mul_lt_of_lt_div, norm_num, apply sin_lt, apply div_pos pi_pos, norm_num,
  -- ⊢ pi / 8 ≤ 1
    sorry
  },
  apply lt_of_le_of_lt _ this, rw [sin_pi_div_eight],
  apply le_mul_of_div_le, norm_num,
  rw [le_sqrt, le_sub_iff_add_le, ←le_sub_iff_add_le&#39;, sqrt_le_left],
  norm_num, norm_num, norm_num,
  rw [sub_nonneg, sqrt_le_left], norm_num, norm_num
end
</pre></div>

<a name="160811971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160811971" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160811971">Floris van Doorn (Mar 14 2019 at 19:09)</a>:</h4>
<p>oops, I missed that. One minute</p>

<a name="160812122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160812122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160812122">Floris van Doorn (Mar 14 2019 at 19:11)</a>:</h4>
<p>I updated the previous post, it should compile now.</p>

<a name="160812143"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160812143" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160812143">Reid Barton (Mar 14 2019 at 19:11)</a>:</h4>
<p>You can also prove <code>sin x &lt; x</code> for all <code>x &gt; 0</code> by handling the case <code>x &gt; 1</code> by <code>sin x &lt;= 1 &lt; x</code></p>

<a name="160812469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160812469" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160812469">Floris van Doorn (Mar 14 2019 at 19:14)</a>:</h4>
<p><span class="user-mention" data-user-id="110032">@Reid Barton</span> That is indeed the nicer solution. I was planning to do that, but I was a bit too eager to post it here and forgot :)</p>

<a name="160812540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160812540" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160812540">Floris van Doorn (Mar 14 2019 at 19:15)</a>:</h4>
<p>I updated the code once more.</p>

<a name="160813974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160813974" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160813974">Kevin Buzzard (Mar 14 2019 at 19:29)</a>:</h4>
<p>This should all go in <code>pi.lean</code>, right?</p>

<a name="160814047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160814047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160814047">Kevin Buzzard (Mar 14 2019 at 19:30)</a>:</h4>
<p>So now we can prove that floor(pi) = 3</p>

<a name="160814068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160814068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160814068">Kevin Buzzard (Mar 14 2019 at 19:30)</a>:</h4>
<p>So the next question is whether we can prove digit 10 pi 0 = 1</p>

<a name="160814132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160814132" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160814132">Kevin Buzzard (Mar 14 2019 at 19:31)</a>:</h4>
<p>ie floor(pi*10)%10=1</p>

<a name="160814182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160814182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160814182">Johan Commelin (Mar 14 2019 at 19:31)</a>:</h4>
<blockquote>
<p>This should all go in <code>pi.lean</code>, right?</p>
</blockquote>
<p>Isn't that about pi types <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> <span aria-label="cake" class="emoji emoji-1f370" role="img" title="cake">:cake:</span></p>

<a name="160814815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160814815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160814815">Floris van Doorn (Mar 14 2019 at 19:37)</a>:</h4>
<p>Computing <code>sin(pi/16)</code> we can conclude that <code>pi &gt; 3.1</code>, computing <code>sin(pi/64)</code> we can conclude that <code>pi&gt;3.14</code>. Using the other side of <code>sin_bound</code> we can probably also get upper bounds.</p>

<a name="160815604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160815604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160815604">Kevin Buzzard (Mar 14 2019 at 19:45)</a>:</h4>
<p>Can you get to 32 trillion by the end of pi day?</p>

<a name="160816007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160816007" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160816007">Floris van Doorn (Mar 14 2019 at 19:49)</a>:</h4>
<p>probably not</p>

<a name="160833013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160833013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160833013">Floris van Doorn (Mar 14 2019 at 23:35)</a>:</h4>
<p>Is there a better way than <code>norm_num</code> to prove the following?</p>
<div class="codehilite"><pre><span></span>(2 : ℝ) ≤ ((((2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2) ^ 2 - 2) ^ 2
</pre></div>


<p>(the RHS is approx <code>2.00033</code>). <code>norm_num</code> is struggling on this one, and gets a deterministic timeout.</p>

<a name="160833558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160833558" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160833558">Floris van Doorn (Mar 14 2019 at 23:45)</a>:</h4>
<p>If I can prove inequalities like that, I can approximate <code>pi</code> for a few decimal places, at least from below (I need to still work on approximation from above). The approximation I have of <code>pi</code> is of the form</p>
<div class="codehilite"><pre><span></span>π ≈ 2 ^ 7 * sqrt (2 - sqrt (2 + sqrt (2 + sqrt (2 + sqrt (2 + sqrt (2 + sqrt 2))))))
</pre></div>


<p>This seems to converge at an okay rate: the number of correct digits seems to be linear in the number of square roots.</p>
<p>In particular, I formalized</p>
<div class="codehilite"><pre><span></span>lemma pt_gt_314 : (2 : ℝ) ≤ ((((2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2) ^ 2 - 2) ^ 2 → pi &gt; 3.14
</pre></div>

<a name="160834224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834224" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834224">Kevin Buzzard (Mar 14 2019 at 23:57)</a>:</h4>
<p>I can reduce your time-out goal to <code>⊢ 0 &lt; 3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</code></p>

<a name="160834227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834227">Kevin Buzzard (Mar 14 2019 at 23:57)</a>:</h4>
<p>It's not even close</p>

<a name="160834277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834277">Kevin Buzzard (Mar 14 2019 at 23:58)</a>:</h4>
<p>but I'm struggling with the last bit.</p>

<a name="160834279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834279" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834279">Kevin Buzzard (Mar 14 2019 at 23:58)</a>:</h4>
<p>oh -- these are reals</p>

<a name="160834318"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834318" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834318">Kevin Buzzard (Mar 14 2019 at 23:59)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nc">data.real.basic</span><span class="w"></span>

<span class="n">example</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="err">≤</span><span class="w"> </span><span class="p">((((</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="mi">157</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">:=</span><span class="w"></span>
<span class="n">begin</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">rfl</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">norm_num</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="mi">157</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">157</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1600</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">norm_num</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">((</span><span class="mi">157</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1600</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">24649</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2560000</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">norm_num</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">24649</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2560000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5095351</span><span class="o">/</span><span class="mi">2560000</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">norm_num</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">((</span><span class="mi">5095351</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="mi">2560000</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25962601813201</span><span class="o">/</span><span class="mi">6553600000000</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">norm_num</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="w"> </span><span class="k">let</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">try</span><span class="w"> </span><span class="n">skipping</span><span class="w"> </span><span class="n">steps</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">((((</span><span class="mi">25962601813201</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="err">ℝ</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">6553600000000</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="mi">6806775565993596917798714352237438749189222725565123913061124308255143227446400872965401873904861225601</span><span class="o">/</span><span class="mi">3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">by</span><span class="w"> </span><span class="n">norm_num</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="w"> </span><span class="n">worked</span><span class="o">!</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="w"> </span><span class="err">⊢</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">≤</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="w">  </span><span class="mi">6806775565993596917798714352237438749189222725565123913061124308255143227446400872965401873904861225601</span><span class="w"> </span><span class="o">/</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="w">    </span><span class="mi">3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span><span class="w"></span>
<span class="w">  </span><span class="n">rw</span><span class="w"> </span><span class="n">le_div_iff</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">norm_num</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="w"> </span><span class="err">⊢</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span><span class="w"></span>
<span class="w">  </span><span class="n">sorry</span><span class="w"></span>
<span class="n">end</span><span class="w"></span>
</pre></div>

<a name="160834677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834677" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834677">Chris Hughes (Mar 15 2019 at 00:05)</a>:</h4>
<p><code>norm_num</code> just works for that last goal for me.</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="o">((((</span><span class="mi">2</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">157</span> <span class="bp">/</span> <span class="mi">50</span> <span class="bp">/</span> <span class="mi">2</span> <span class="err">^</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="err">^</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="mi">4</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">5</span><span class="o">,</span> <span class="k">from</span> <span class="n">rfl</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="err">^</span> <span class="mi">5</span> <span class="bp">=</span> <span class="mi">32</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">157</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">50</span> <span class="bp">/</span> <span class="mi">32</span> <span class="bp">=</span> <span class="mi">157</span> <span class="bp">/</span> <span class="mi">1600</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">((</span><span class="mi">157</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">1600</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">24649</span> <span class="bp">/</span> <span class="mi">2560000</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">24649</span> <span class="bp">/</span> <span class="mi">2560000</span> <span class="bp">=</span> <span class="mi">5095351</span><span class="bp">/</span><span class="mi">2560000</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">((</span><span class="mi">5095351</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span><span class="mi">2560000</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">25962601813201</span><span class="bp">/</span><span class="mi">6553600000000</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="c1">-- let&#39;s try skipping steps</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">((((</span><span class="mi">25962601813201</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">6553600000000</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span>
    <span class="mi">6806775565993596917798714352237438749189222725565123913061124308255143227446400872965401873904861225601</span><span class="bp">/</span><span class="mi">3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="c1">-- worked!</span>
  <span class="c1">-- ⊢ 2 ≤</span>
  <span class="c1">--  6806775565993596917798714352237438749189222725565123913061124308255143227446400872965401873904861225601 /</span>
  <span class="c1">--    3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span>
  <span class="n">rw</span> <span class="n">le_div_iff</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">norm_num</span> <span class="o">},</span>
  <span class="o">{</span> <span class="n">norm_num</span> <span class="o">}</span>
  <span class="c1">-- ⊢ 0 &lt; 3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span>

<span class="kn">end</span>
</pre></div>

<a name="160834847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834847">Kevin Buzzard (Mar 15 2019 at 00:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">real</span><span class="bp">.</span><span class="n">basic</span>

<span class="c1">--set_option pp.all true</span>
<span class="kn">example</span> <span class="o">:</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">≤</span> <span class="o">((((</span><span class="mi">2</span> <span class="bp">-</span> <span class="o">(</span><span class="mi">157</span> <span class="bp">/</span> <span class="mi">50</span> <span class="bp">/</span> <span class="mi">2</span> <span class="err">^</span> <span class="o">(</span><span class="mi">4</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">))</span> <span class="err">^</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="mi">4</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">5</span><span class="o">,</span> <span class="k">from</span> <span class="n">rfl</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="err">^</span> <span class="mi">5</span> <span class="bp">=</span> <span class="mi">32</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">157</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">50</span> <span class="bp">/</span> <span class="mi">32</span> <span class="bp">=</span> <span class="mi">157</span> <span class="bp">/</span> <span class="mi">1600</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">((</span><span class="mi">157</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">1600</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">24649</span> <span class="bp">/</span> <span class="mi">2560000</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">2</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">-</span> <span class="mi">24649</span> <span class="bp">/</span> <span class="mi">2560000</span> <span class="bp">=</span> <span class="mi">5095351</span><span class="bp">/</span><span class="mi">2560000</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">((</span><span class="mi">5095351</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span><span class="mi">2560000</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">25962601813201</span><span class="bp">/</span><span class="mi">6553600000000</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="c1">-- let&#39;s try skipping steps</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">((((</span><span class="mi">25962601813201</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">/</span> <span class="mi">6553600000000</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">-</span> <span class="mi">2</span><span class="o">)</span> <span class="err">^</span> <span class="mi">2</span> <span class="bp">=</span>
    <span class="mi">6806775565993596917798714352237438749189222725565123913061124308255143227446400872965401873904861225601</span><span class="bp">/</span><span class="mi">3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span><span class="o">,</span>
    <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="c1">-- worked!</span>
  <span class="c1">-- ⊢ 2 ≤</span>
  <span class="c1">--  6806775565993596917798714352237438749189222725565123913061124308255143227446400872965401873904861225601 /</span>
  <span class="c1">--    3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span>
  <span class="n">rw</span> <span class="n">le_div_iff</span><span class="o">,</span>
    <span class="n">norm_num</span><span class="o">,</span>
  <span class="c1">-- ⊢ 0 &lt; 3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span>
  <span class="n">rw</span> <span class="o">(</span><span class="k">show</span> <span class="o">(</span><span class="mi">3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>
           <span class="bp">=</span> <span class="mi">40</span> <span class="err">^</span> <span class="mi">64</span><span class="o">,</span> <span class="k">by</span> <span class="n">norm_num</span><span class="o">),</span>
  <span class="n">apply</span> <span class="n">pow_pos</span><span class="o">,</span>
  <span class="n">norm_num</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>


<p>This worked for me.</p>

<a name="160834852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160834852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160834852">Kevin Buzzard (Mar 15 2019 at 00:08)</a>:</h4>
<p>Oh, I think that I upset Lean with some overflow and then failed to restart, and had problems.</p>

<a name="160835429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160835429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160835429">Kevin Buzzard (Mar 15 2019 at 00:20)</a>:</h4>
<p>Only 31999999999998 digits to go and we have the record!</p>

<a name="160835991"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160835991" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160835991">Kenny Lau (Mar 15 2019 at 00:31)</a>:</h4>
<p>oh boy</p>

<a name="160839840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160839840" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160839840">Floris van Doorn (Mar 15 2019 at 01:49)</a>:</h4>
<p>I have proven</p>
<div class="codehilite"><pre><span></span>lemma pi_gt_314 : pi &gt; 3.14
lemma pi_lt_315 : pi &lt; 3.15
</pre></div>


<p>assuming the following 12 inequalities:</p>
<div class="codehilite"><pre><span></span>⊢ 2 ≤ ((((2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2) ^ 2 - 2) ^ 2
⊢ 0 ≤ (((2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2) ^ 2 - 2
⊢ 0 ≤ ((2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2
⊢ 0 ≤ (2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2
⊢ 0 ≤ 2 - (157 / 50 / 2 ^ (4 + 1)) ^ 2
⊢ 0 &lt; 157 / 50 / 2 ^ (4 + 1)
⊢ ((((2 - ((63 / 20 - 1 / 4 ^ 4) / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2) ^ 2 - 2) ^ 2 ≤ 2
⊢ 0 &lt; (((2 - ((63 / 20 - 1 / 4 ^ 4) / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2) ^ 2 - 2
⊢ 0 &lt; ((2 - ((63 / 20 - 1 / 4 ^ 4) / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2) ^ 2 - 2
⊢ 0 &lt; (2 - ((63 / 20 - 1 / 4 ^ 4) / 2 ^ (4 + 1)) ^ 2) ^ 2 - 2
⊢ 0 &lt; 2 - ((63 / 20 - 1 / 4 ^ 4) / 2 ^ (4 + 1)) ^ 2
⊢ 0 ≤ (63 / 20 - 1 / 4 ^ 4) / 2 ^ (4 + 1)
</pre></div>

<a name="160840047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840047" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840047">Kenny Lau (Mar 15 2019 at 01:54)</a>:</h4>
<p>I've verified all of your inequalities on WolframAlpha</p>

<a name="160840150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840150" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840150">Mario Carneiro (Mar 15 2019 at 01:56)</a>:</h4>
<p>Oh boy I've missed a lot</p>

<a name="160840168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840168">Mario Carneiro (Mar 15 2019 at 01:57)</a>:</h4>
<p>For these kinds of numeric calculations you can simplify a lot by decreasing the precision in the middle of the calculation</p>

<a name="160840177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840177">Mario Carneiro (Mar 15 2019 at 01:58)</a>:</h4>
<p>Are all the inequalities implied by one of them?</p>

<a name="160840226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840226" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840226">Kenny Lau (Mar 15 2019 at 01:58)</a>:</h4>
<p>the first one is exceptionally tight</p>

<a name="160840232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840232">Kenny Lau (Mar 15 2019 at 01:58)</a>:</h4>
<p>the 2nd to 5th looks like a more general theorem?</p>

<a name="160840236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840236" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840236">Kenny Lau (Mar 15 2019 at 01:58)</a>:</h4>
<p>wait are those approximations to sqrt(2)?</p>

<a name="160840246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840246">Kenny Lau (Mar 15 2019 at 01:59)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> I think it would be better if you tell us more about what's actually going on</p>

<a name="160840251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840251">Kenny Lau (Mar 15 2019 at 01:59)</a>:</h4>
<p>if we want approximations to sqrt(2) maybe we should turn to Pell theory</p>

<a name="160840253"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840253" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840253">Mario Carneiro (Mar 15 2019 at 01:59)</a>:</h4>
<p>I think they are approximations to 2</p>

<a name="160840256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840256" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840256">Mario Carneiro (Mar 15 2019 at 01:59)</a>:</h4>
<p>fixed points of x |-&gt; x^2-2</p>

<a name="160840309"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840309" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840309">Kenny Lau (Mar 15 2019 at 02:00)</a>:</h4>
<p>interesting...?</p>

<a name="160840335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840335">Mario Carneiro (Mar 15 2019 at 02:01)</a>:</h4>
<p>The first one isn't that tight: it is saying that</p>
<div class="codehilite"><pre><span></span>   1128227574827648531222203602074520069222725565123913061124308255143227446400872965401873904861225601 /
3402823669209384634633746074317682114560000000000000000000000000000000000000000000000000000000000000000
&gt;=0
</pre></div>

<a name="160840340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840340" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840340">Mario Carneiro (Mar 15 2019 at 02:01)</a>:</h4>
<p>Notice that there are like 60 digits of precision there and only 4 of them matter</p>

<a name="160840392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840392" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840392">Mario Carneiro (Mar 15 2019 at 02:02)</a>:</h4>
<p>so you can vastly simplify the calculation by precision reduction in the middle</p>

<a name="160840397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840397">Kenny Lau (Mar 15 2019 at 02:02)</a>:</h4>
<p>aha</p>

<a name="160840506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840506" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840506">Mario Carneiro (Mar 15 2019 at 02:05)</a>:</h4>
<blockquote>
<p>π ≈ 2 ^ 7 * sqrt (2 - sqrt (2 + sqrt (2 + sqrt (2 + sqrt (2 + sqrt (2 + sqrt 2))))))</p>
</blockquote>
<p>Where did this come from?</p>

<a name="160840554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840554" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840554">Floris van Doorn (Mar 15 2019 at 02:06)</a>:</h4>
<p>The file I'm working on is here: <a href="https://github.com/fpvandoorn/mathlib/blob/pi/src/data/real/pi.lean" target="_blank" title="https://github.com/fpvandoorn/mathlib/blob/pi/src/data/real/pi.lean">https://github.com/fpvandoorn/mathlib/blob/pi/src/data/real/pi.lean</a></p>

<a name="160840635"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840635" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840635">Kenny Lau (Mar 15 2019 at 02:08)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="c">/-</span><span class="cm"> the series sqrt(2+sqrt(2+ ... ))-/</span>
<span class="n">noncomputable</span> <span class="n">def</span> <span class="n">sqrt_two_add_series</span> <span class="o">:</span> <span class="bp">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span>
<span class="bp">|</span> <span class="mi">0</span>     <span class="o">:=</span> <span class="mi">0</span>
<span class="bp">|</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="o">:=</span> <span class="n">sqrt</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">+</span> <span class="n">sqrt_two_add_series</span> <span class="n">n</span><span class="o">)</span>

<span class="kn">lemma</span> <span class="n">pi_gt_sqrt_two_add_series</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">pi</span> <span class="bp">&gt;</span> <span class="mi">2</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">sqrt</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">-</span> <span class="n">sqrt_two_add_series</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>

<span class="kn">lemma</span> <span class="n">pi_lt_sqrt_two_add_series</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">)</span> <span class="o">:</span> <span class="n">pi</span> <span class="bp">&lt;</span> <span class="mi">2</span> <span class="err">^</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">sqrt</span> <span class="o">(</span><span class="mi">2</span> <span class="bp">-</span> <span class="n">sqrt_two_add_series</span> <span class="n">n</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">/</span> <span class="mi">4</span> <span class="err">^</span> <span class="n">n</span> <span class="o">:=</span>

<span class="kn">lemma</span> <span class="n">pi_gt_314</span> <span class="o">:</span> <span class="n">pi</span> <span class="bp">&gt;</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">14</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="n">lt_of_le_of_lt</span> <span class="bp">_</span> <span class="o">(</span><span class="n">pi_gt_sqrt_two_add_series</span> <span class="mi">4</span><span class="o">),</span>

<span class="kn">lemma</span> <span class="n">pi_lt_315</span> <span class="o">:</span> <span class="n">pi</span> <span class="bp">&lt;</span> <span class="mi">3</span><span class="bp">.</span><span class="mi">15</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">refine</span> <span class="n">lt_of_lt_of_le</span> <span class="o">(</span><span class="n">pi_lt_sqrt_two_add_series</span> <span class="mi">4</span><span class="o">)</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>

<a name="160840636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840636">Kenny Lau (Mar 15 2019 at 02:08)</a>:</h4>
<p>extract ^</p>

<a name="160840644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840644">Kenny Lau (Mar 15 2019 at 02:09)</a>:</h4>
<p>anyway <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> remarkable work!</p>

<a name="160840720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840720">Mario Carneiro (Mar 15 2019 at 02:11)</a>:</h4>
<p>The initial starting point <code>sqrt_two_add_series 0</code> is arbitrary? What constraints does it require?</p>

<a name="160840779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840779" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840779">Floris van Doorn (Mar 15 2019 at 02:12)</a>:</h4>
<p>The first and 7th inequalities are relatively tight (it compares 2 with 2.0003 and 1.994). The other inequalities are not tight at all, the numbers on the right are all between 1 and 2.<br>
What's going on is that I proved that</p>
<div class="codehilite"><pre><span></span>2 ^ 5 * sqrt (2 - sqrt (2 + sqrt (2 + sqrt (2 + sqrt (2)))) &lt; π &lt; 2 ^ 5 * sqrt (2 - sqrt (2 + sqrt (2 + sqrt (2 + sqrt (2)))) + 1 / 4 ^ 4
</pre></div>


<p>Now we can check the bounds by replacing <code>π</code> by <code>3.14</code> and <code>3.15</code> and then moving all the square roots of the inequality to the other side. To do that, we need to check that stuff is positive (that gives all the non-tight inequalities), and the final inequality are the two tight ones.</p>

<a name="160840782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840782" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840782">Mario Carneiro (Mar 15 2019 at 02:12)</a>:</h4>
<p>If we let <code>sqrt_two_add_series a n</code> be the series starting at <code>a</code>, then my hope is to get an inequality chain based on <code>sqrt_two_add_series a (n+1) &lt;= sqrt_two_add_series b n</code> when a and b are suitably related rational numbers</p>

<a name="160840870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840870">Mario Carneiro (Mar 15 2019 at 02:14)</a>:</h4>
<p>is <code>sqrt_two_add_series a n</code> monotonic in <code>a</code>? I think it is</p>

<a name="160840873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840873">Floris van Doorn (Mar 15 2019 at 02:14)</a>:</h4>
<p>The defining equation of <code>sqrt_two_add_series</code> is</p>
<div class="codehilite"><pre><span></span>cos (pi / 2 ^ (n+1)) = sqrt_two_add_series n / 2
</pre></div>

<a name="160840885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840885">Mario Carneiro (Mar 15 2019 at 02:14)</a>:</h4>
<p>aha,  you inverted sin^2+cos^2 = 1</p>

<a name="160840906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840906">Floris van Doorn (Mar 15 2019 at 02:15)</a>:</h4>
<p>yes, the main equality is <code>lemma cos_square : cos x ^ 2 = 1 / 2 + cos (2 * x) / 2 </code></p>

<a name="160840958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840958" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840958">Kenny Lau (Mar 15 2019 at 02:16)</a>:</h4>
<p>how do we formalize "precision reduction"? <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>

<a name="160840983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840983">Mario Carneiro (Mar 15 2019 at 02:17)</a>:</h4>
<p>blasty lean users aren't going to like the answer</p>

<a name="160840984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160840984" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160840984">Mario Carneiro (Mar 15 2019 at 02:17)</a>:</h4>
<p>you give intermediate small rational numbers as certificates</p>

<a name="160841028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841028" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841028">Floris van Doorn (Mar 15 2019 at 02:18)</a>:</h4>
<p>yes,  it might be nice to let <code>sqrt_two_add_series</code> start at an arbitrary number, and yes, <code>sqrt_two_add_series a n</code> is monotone in both <code>a</code> and <code>n</code>.</p>

<a name="160841054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841054" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841054">Kenny Lau (Mar 15 2019 at 02:19)</a>:</h4>
<p>fortunately I'm not a blasty lean user</p>

<a name="160841058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841058" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841058">Mario Carneiro (Mar 15 2019 at 02:19)</a>:</h4>
<p>Is it true that <code>sqrt_two_add_series a (n+1) = sqrt_two_add_series (sqrt a + 2) n</code> or something like that?</p>

<a name="160841063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841063" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841063">Mario Carneiro (Mar 15 2019 at 02:19)</a>:</h4>
<p>sorry playing catchup</p>

<a name="160841135"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841135" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841135">Floris van Doorn (Mar 15 2019 at 02:21)</a>:</h4>
<p>almost: <code>sqrt_two_add_series a (n+1) = sqrt_two_add_series (sqrt (2 + a)) n</code></p>

<a name="160841151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841151" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841151">Mario Carneiro (Mar 15 2019 at 02:21)</a>:</h4>
<p>Okay, so with monotonicity we get the desired result: if <code>2+a &lt;= b^2</code> and <code>b &gt;= 0</code> then <code>sqrt_two_add_series a (n+1) &lt;= sqrt_two_add_series b n</code></p>

<a name="160841198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841198" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841198">Mario Carneiro (Mar 15 2019 at 02:22)</a>:</h4>
<p>so now you apply this lemma 5 times, and supply 5 small rational numbers that satisfy the inequalities (check in mathematica or something)</p>

<a name="160841208"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841208" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841208">Mario Carneiro (Mar 15 2019 at 02:23)</a>:</h4>
<p>and those numbers are the certificate</p>

<a name="160841228"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841228" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841228">Floris van Doorn (Mar 15 2019 at 02:23)</a>:</h4>
<p>that sounds good</p>

<a name="160841230"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841230" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841230">Floris van Doorn (Mar 15 2019 at 02:23)</a>:</h4>
<p>(of course I hoped for a lazier solution :) )</p>

<a name="160841281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841281" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841281">Mario Carneiro (Mar 15 2019 at 02:24)</a>:</h4>
<p>Oh the lazy solution is also possible, you can just tell lean "round to n digits at each stage"</p>

<a name="160841284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841284" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841284">Mario Carneiro (Mar 15 2019 at 02:24)</a>:</h4>
<p>and pick n so it works</p>

<a name="160841300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841300">Mario Carneiro (Mar 15 2019 at 02:25)</a>:</h4>
<p>but the really really important part is don't work out all the algebra with the original number, that causes exponential blowup</p>

<a name="160841361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841361">Mario Carneiro (Mar 15 2019 at 02:26)</a>:</h4>
<p>I really like certificate proofs, they show the added power of ITP</p>

<a name="160841363"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841363" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841363">Kenny Lau (Mar 15 2019 at 02:26)</a>:</h4>
<p>didn't you write a floating point library or something?</p>

<a name="160841364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841364" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841364">Mario Carneiro (Mar 15 2019 at 02:26)</a>:</h4>
<p>you can solve NP problems in polynomial time, people! That's big news</p>

<a name="160841365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841365">Kenny Lau (Mar 15 2019 at 02:26)</a>:</h4>
<p>would that be useful?</p>

<a name="160841388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841388" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841388">Mario Carneiro (Mar 15 2019 at 02:27)</a>:</h4>
<p>this is why metamath is fast and every tactic based prover is 5 orders of magnitude slower, because certificates matter</p>

<a name="160841438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841438">Kenny Lau (Mar 15 2019 at 02:28)</a>:</h4>
<p>so we still use norm_num in each stage or something like that?</p>

<a name="160841439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841439">Mario Carneiro (Mar 15 2019 at 02:28)</a>:</h4>
<p>yes</p>

<a name="160841445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841445">Kenny Lau (Mar 15 2019 at 02:28)</a>:</h4>
<p>it's definitely the wrong time for me to try, so maybe later</p>

<a name="160841446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841446">Kenny Lau (Mar 15 2019 at 02:28)</a>:</h4>
<p>it's 2:28 AM</p>

<a name="160841460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841460" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841460">Mario Carneiro (Mar 15 2019 at 02:29)</a>:</h4>
<p>I will come up with appropriate certificates in a bit, once I understand the situation right</p>

<a name="160841900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160841900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160841900">Floris van Doorn (Mar 15 2019 at 02:40)</a>:</h4>
<p>I'm currently adding a second argument and showing the monotonicity</p>

<a name="160842360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160842360" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160842360">Floris van Doorn (Mar 15 2019 at 02:51)</a>:</h4>
<p>(updated the file on Github)</p>

<a name="160843441"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843441" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843441">Floris van Doorn (Mar 15 2019 at 03:17)</a>:</h4>
<p>are you working on the certificates <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> ? Otherwise I'll start on it now.</p>

<a name="160843488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843488" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843488">Mario Carneiro (Mar 15 2019 at 03:18)</a>:</h4>
<p>I have this so far, for the lower bound:</p>
<div class="codehilite"><pre><span></span>{32 a5 &gt;= 157/50, 2 - a5^2 &gt;= a4, a4^2 &gt;= 2 + a3, a3^2 &gt;= 2 + a2,  a2^2 &gt;= 2 + a1, a1^2 &gt;= 2}
</pre></div>

<a name="160843818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843818" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843818">Mario Carneiro (Mar 15 2019 at 03:26)</a>:</h4>
<p>Oh, I didn't expect this would work:</p>
<div class="codehilite"><pre><span></span>{a1 -&gt; 2, a2 -&gt; 2, a3 -&gt; 2, a4 -&gt; -(2687/1350), a5 -&gt; 21/214}
</pre></div>

<a name="160843835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843835">Mario Carneiro (Mar 15 2019 at 03:27)</a>:</h4>
<p>the last few (first few? my numbering is weird) are exactly 2, which works out nicely with the algebra. You probably want to special case that since it makes everything easy for going to higher values</p>

<a name="160843845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843845" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843845">Floris van Doorn (Mar 15 2019 at 03:27)</a>:</h4>
<p>I'm still a bit confused what your variables <code>a1</code>-<code>a5</code> correspond to.</p>

<a name="160843894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843894" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843894">Mario Carneiro (Mar 15 2019 at 03:28)</a>:</h4>
<p>Here's the abstract argument:</p>
<div class="codehilite"><pre><span></span>pi &gt;= 2^5 Sqrt[2 - f[0, 4]] &gt;= 2^5 a5 &gt;= 157/50
2 - a5^2 &gt;= a4 &gt;= f[a3, 1] &gt;= f[a2, 2] &gt;= f[a1, 3] &gt;= f[0, 4]
</pre></div>

<a name="160843895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843895">Mario Carneiro (Mar 15 2019 at 03:28)</a>:</h4>
<p>where <code>f</code> is your series function</p>

<a name="160843969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843969">Mario Carneiro (Mar 15 2019 at 03:31)</a>:</h4>
<p>Note that there are no side conditions on this proof, because <code>a4^2 &gt;= 2 + a3</code> implies <code>a4 &gt;= Sqrt[2 + a3]</code> regardless of whether <code>a4</code> is positive</p>

<a name="160843973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160843973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160843973">Mario Carneiro (Mar 15 2019 at 03:31)</a>:</h4>
<p>for the upper bound I think there will be side conditions</p>

<a name="160844182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160844182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160844182">Floris van Doorn (Mar 15 2019 at 03:37)</a>:</h4>
<blockquote>
<p><code>a4^2 &gt;= 2 + a3</code> implies <code>a4 &gt;= Sqrt[2 + a3]</code></p>
</blockquote>
<p>uhm... no: <code>(-10) ^ 2 &gt;= 2 + 0</code> but not <code>-10 &gt;= sqrt(2 + 0)</code>.</p>

<a name="160844191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160844191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160844191">Floris van Doorn (Mar 15 2019 at 03:37)</a>:</h4>
<p>For the upper bound there won't be side conditions, I indeed realized that a couple of minutes ago.</p>

<a name="160844547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160844547" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160844547">Mario Carneiro (Mar 15 2019 at 03:45)</a>:</h4>
<p>Oh boy, I keep getting myself confused here. You are right, each of the a's must be positive, and I messed up a sign somewhere so my cert doesn't work</p>

<a name="160844626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160844626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160844626">Floris van Doorn (Mar 15 2019 at 03:46)</a>:</h4>
<p>The signs are pretty confusing indeed. But if you give me the certificate for the inequalities</p>
<div class="codehilite"><pre><span></span>f[a4, 0] &gt;= f[a3, 1] &gt;= f[a2, 2] &gt;= f[a1, 3] &gt;= f[0, 4]
</pre></div>


<p>then I'm ready to plug them in my Lean code now.</p>

<a name="160845319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160845319" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160845319">Mario Carneiro (Mar 15 2019 at 04:02)</a>:</h4>
<p>Okay, here are the values for the lower bound:</p>
<div class="codehilite"><pre><span></span>{a1 -&gt; 577/408, a2 -&gt; 619/335, a3 -&gt; 2144/1093, a4 -&gt; 2687/1350, a5 -&gt; 89/907}
</pre></div>

<a name="160845382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160845382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160845382">Floris van Doorn (Mar 15 2019 at 04:04)</a>:</h4>
<p>it works!</p>

<a name="160845471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160845471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160845471">Floris van Doorn (Mar 15 2019 at 04:07)</a>:</h4>
<div class="codehilite"><pre><span></span>lemma pi_gt_314 : pi &gt; 3.14 :=
begin
  refine lt_of_le_of_lt _ (pi_gt_sqrt_two_add_series 4),
  rw [mul_comm],
  apply le_mul_of_div_le, norm_num, apply le_sqrt_of_sqr_le,
  rw [le_sub],
  refine le_trans (sqrt_two_add_series_step_up (577/408) (by norm_num) (by norm_num)) _,
  refine le_trans (sqrt_two_add_series_step_up (619/335) (by norm_num) (by norm_num)) _,
  refine le_trans (sqrt_two_add_series_step_up (2144/1093) (by norm_num) (by norm_num)) _,
  refine le_trans (sqrt_two_add_series_step_up (2687/1350) (by norm_num) (by norm_num)) _,
  rw [sqrt_two_add_series_zero],
  norm_num
end
</pre></div>

<a name="160845882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160845882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160845882">Floris van Doorn (Mar 15 2019 at 04:19)</a>:</h4>
<div class="codehilite"><pre><span></span>lemma pi_lt_315 : pi &lt; 3.15 :=
begin
  refine lt_of_lt_of_le (pi_lt_sqrt_two_add_series 4) _,
  apply add_le_of_le_sub_right, rw [mul_comm], apply mul_le_of_le_div, apply pow_pos, norm_num,
  rw [sqrt_le_left, sub_le], swap, norm_num,
  refine le_trans _ (sqrt_two_add_series_step_down (41/29) (by norm_num)),
  refine le_trans _ (sqrt_two_add_series_step_down (194/105) (by norm_num)),
  refine le_trans _ (sqrt_two_add_series_step_down (13513/6889) (by norm_num)),
  refine le_trans _ (sqrt_two_add_series_step_down (2271/1141) (by norm_num)),
  norm_num
end
</pre></div>

<a name="160846001"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846001" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846001">Floris van Doorn (Mar 15 2019 at 04:22)</a>:</h4>
<p>The compiling proofs can now be found here: <a href="https://github.com/fpvandoorn/mathlib/blob/pi/src/data/real/pi.lean" target="_blank" title="https://github.com/fpvandoorn/mathlib/blob/pi/src/data/real/pi.lean">https://github.com/fpvandoorn/mathlib/blob/pi/src/data/real/pi.lean</a></p>
<p>They do each take ~5 seconds to compile. Maybe we can find smaller certificates (I found mine in a very naive way).</p>

<a name="160846008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846008">Mario Carneiro (Mar 15 2019 at 04:23)</a>:</h4>
<p>I do want to figure out a general mechanism for optimizing all the certificates simultaneously; right now I'm optimizing them one by one and tweaking the results</p>

<a name="160846017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846017">Johan Commelin (Mar 15 2019 at 04:23)</a>:</h4>
<p>Can't a tactic do that for you?</p>

<a name="160846025"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846025" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846025">Johan Commelin (Mar 15 2019 at 04:23)</a>:</h4>
<p>This must be a well-known idea in ITP, right?</p>

<a name="160846026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846026">Mario Carneiro (Mar 15 2019 at 04:23)</a>:</h4>
<p>yes and no; this is stuff that should not be re-run every time</p>

<a name="160846027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846027">Floris van Doorn (Mar 15 2019 at 04:23)</a>:</h4>
<p>Yes, I'm just using Mathematica's <code>Rationalize</code> myself, until <code>Rationalize</code> finds a rational number which is on the correct side of the number I'm approximating</p>

<a name="160846084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846084">Johan Commelin (Mar 15 2019 at 04:24)</a>:</h4>
<p>The tactic could trace its result</p>

<a name="160846087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846087" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846087">Mario Carneiro (Mar 15 2019 at 04:24)</a>:</h4>
<p>me too (you can ask for a number in a range with <code>Rationalize[(a+b)/2,(a-b)/2]</code>)</p>

<a name="160846111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846111">Floris van Doorn (Mar 15 2019 at 04:25)</a>:</h4>
<p>oh yes, good point</p>

<a name="160846160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846160" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846160">Mario Carneiro (Mar 15 2019 at 04:26)</a>:</h4>
<p>there isn't much point doing this in lean, unless lean gets as good at numbers as a CAS</p>

<a name="160846188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846188" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846188">Mario Carneiro (Mar 15 2019 at 04:27)</a>:</h4>
<p>this is really the sort of thing CASs are designed for: unverified computation / symbolic manipulation</p>

<a name="160846192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846192">Mario Carneiro (Mar 15 2019 at 04:27)</a>:</h4>
<p>If I was to do this sort of thing a lot I would want to automate some parts of it</p>

<a name="160846462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846462">Johan Commelin (Mar 15 2019 at 04:34)</a>:</h4>
<p>So we need a Sage bridge...</p>

<a name="160846630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846630" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846630">Mario Carneiro (Mar 15 2019 at 04:38)</a>:</h4>
<p>sure, that would do it</p>

<a name="160846641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846641" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846641">Mario Carneiro (Mar 15 2019 at 04:39)</a>:</h4>
<p>or code extraction</p>

<a name="160846647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160846647" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160846647">Mario Carneiro (Mar 15 2019 at 04:39)</a>:</h4>
<p>in this case, it's just pure computation, although it's nice having mathematica with builtin functions like <code>Rationalize</code> so we don't have to write it on the spot</p>

<a name="160847116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847116">Johan Commelin (Mar 15 2019 at 04:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> Do you think <code>meta</code> code could at some point be just as fast a proper CAS? I don't see why we shouldn't strive for world domination there as well...</p>

<a name="160847119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847119">Mario Carneiro (Mar 15 2019 at 04:52)</a>:</h4>
<p>sure, we just need more efficiency</p>

<a name="160847125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847125" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847125">Johan Commelin (Mar 15 2019 at 04:52)</a>:</h4>
<p>Is there hope that <span aria-label="four leaf clover" class="emoji emoji-1f340" role="img" title="four leaf clover">:four_leaf_clover:</span> will bring this efficiency?</p>

<a name="160847127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847127" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847127">Mario Carneiro (Mar 15 2019 at 04:52)</a>:</h4>
<p>I've used lean plenty for this kind of thing, and it's a big bottleneck</p>

<a name="160847139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847139" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847139">Mario Carneiro (Mar 15 2019 at 04:53)</a>:</h4>
<p>Yes, there is hope... I'm not putting all my eggs in that basket though</p>

<a name="160847144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847144">Johan Commelin (Mar 15 2019 at 04:53)</a>:</h4>
<p>You haven't even put all your ITP eggs in Leans basket...</p>

<a name="160847192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847192">Mario Carneiro (Mar 15 2019 at 04:54)</a>:</h4>
<p>I don't believe in world dominion</p>

<a name="160847216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847216" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847216">Mario Carneiro (Mar 15 2019 at 04:55)</a>:</h4>
<p>it's not a healthy mindset. Better to support open communication and interaction between systems, because there will always be people that prefer another language</p>

<a name="160847260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847260">Johan Commelin (Mar 15 2019 at 04:56)</a>:</h4>
<p>It also means you have to support <code>n^2</code> communications...</p>

<a name="160847269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847269">Mario Carneiro (Mar 15 2019 at 04:57)</a>:</h4>
<p>the common answer to that is "not if it's a star graph", i.e. world domination</p>

<a name="160847272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847272">Mario Carneiro (Mar 15 2019 at 04:57)</a>:</h4>
<p>but other sparse graphs work too</p>

<a name="160847275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/happy%20pi%20day%21/near/160847275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/89755happypiday.html#160847275">Mario Carneiro (Mar 15 2019 at 04:57)</a>:</h4>
<p>right now it's just an almost completely disconnected graph</p>


{% endraw %}
