---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/81328cases.html
---

## Stream: [general](index.html)
### Topic: [cases](81328cases.html)

---


{% raw %}
#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125991838):
I know this is fuzzy as hell, but I've run into the problem that when writing an automated tactic, `cases` fails for a goal in which it succeeds when I run `cases` manually. It fails with `cases tactic failed, it is not applicable to the given hypothesis`.

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125991862):
and what is the hypothesis?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 14:47)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125991869):
Keep in mind that `tactic.cases` and `tactic.interactive.cases` are not the same. Does calling the other one result in the same thing?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 14:52)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992075):
I'll try

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 14:53)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992089):
Oh, so `tactic.cases` lacks the generalizing part?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 14:54)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992145):
I guess so

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 02 2018 at 14:58)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992222):
The distinction between `tactic` and `tactic.interactive` is I think never mentioned in Programming In Lean, and caused me some grief when I discovered it the hard way (attempting to write basic tactics which ran tactics which were already there).

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 02 2018 at 14:58)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992263):
(but in a different namespace :-) )

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 14:59)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992285):
So does `begin ... end` open `tactic.interactive`?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:02)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992440):
Not exactly. More accurate is that if the first token in an interactive script line is `token`, then that is interpreted as a call to the tactic `tactic.interactive.token`

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:02)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992444):
there is no elaborate namespace resolution like normal

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:05)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992549):
Hmm okay... looking at the definition of `tactic.interactive.cases` it doesn't look like this is the problem here...

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:06)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992598):
So the goal looks like this:
```
cases tactic failed, it is not applicable to the given hypothesis
state:
5 goals
DC.M.A' : Type,
DC.M.lt' : DC.M.A' → DC.M.A' → Type,
DC.M.iota_A : A → DC.M.A',
DC.M.mid : Π (DC.M.x DC.M.y : DC.M.A'), DC.M.lt' DC.M.x DC.M.y → DC.M.A',
DC.M.iota_lt : Π (a b : A), lt a b → DC.M.lt' (DC.M.iota_A a) (DC.M.iota_A b),
DC.M.mid_l :
  Π (DC.M.x DC.M.y : DC.M.A') (DC.M.p : DC.M.lt' DC.M.x DC.M.y), DC.M.lt' DC.M.x (DC.M.mid DC.M.x DC.M.y DC.M.p),
DC.M.mid_r :
  Π (DC.M.x DC.M.y : DC.M.A') (DC.M.p : DC.M.lt' DC.M.x DC.M.y), DC.M.lt' (DC.M.mid DC.M.x DC.M.y DC.M.p) DC.M.y,
b : DC.SI,
x : A,
a a' : DC.Rarg DC.SI.A',
ar : DC.rel DC.SI.A' (DC.S'.iota_A x) a,
ar' : DC.rel DC.SI.A' (DC.S'.iota_A x) a'
⊢ a = a'
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:06)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992608):
And the failing tactic is
```
b ←  i_to_expr ```(ar'),
cases_core b [],
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:07)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992624):
your local variables have namespaces?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:08)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992681):
They're just composite names, because.... because I didn't know what else to do with them. Actually I'd want to put all of that `DC.M` into parameters of some section...

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:09)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992700):
seems like you want a structure to hold all that

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:10)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992762):
Structures aren't exposed to the meta languages, so I thought I'd spare me the work.

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:10)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992767):
in any case I don't recommend variable names with dots in them

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:11)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992775):
not sure if it's causing the problem, but it might be related

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:11)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992779):
If you want, you can have a look at the mess that is my attempt to implement inductive-inductive types at https://bitbucket.org/javra/indind/src/master/

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:11)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992783):
Okay, thanks for the advice

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 15:13)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125992862):
> Structures aren't exposed to the meta languages, so I thought I'd spare me the work.

What do you mean by this?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 15:16)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/125993005):
Since I want to create all that stuff automatically, I need to rely on what's available to the meta language which afaik is just `add_inductive`. I'd have to define all the projections of the structure myself, no?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 18:08)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126000435):
Any more clues? :(

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Mario Carneiro (May 02 2018 at 18:20)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126000989):
It's not quite clear to me what you are trying to do, exactly. If you are doing an automatic theorem, presumably all the assumptions are generated from the inputs somehow? What is induction-induction and how does it map to your representation?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 02 2018 at 18:25)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126001180):
@**Jakob von Raumer** It's so hacky I haven't even thought about it until now, but since you're inside a user-defined command, I guess you could define structures by assembling them as strings and passing them to the parser, like Gabriel did in hott3 https://github.com/gebner/hott3/blob/ec79a762a478f775ca03de45361e215a5ad4c129/src/hott/init/meta/support.lean#L97-L98

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 02 2018 at 18:27)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126001274):
This is quite fragile of course since the pretty printer doesn't always roundtrip, even with `pp.all`

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 19:40)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126004451):
@**Mario Carneiro** I can tell you all of that but it's pretty irrelevant to my problem :D In short the thing I'm trying to write gets some expressions as input and adds some stuff to the environment. So yes, the type of the theorem I'm proving is generated with some steps from these inputs. `DC.SI`, `DC.Rarg` and `DC.rel` are all inductive types that I add via `add_inductive` before I get to prove the theorem with the goal which I stated above. (Said theorem I'm adding via `add_theorem_by`, so I assemble the type directly but prove the theorem itself by a tactic which I'm just about to write.

The question is just why I'm getting this error message instead of `cases` being sucessful in destructing `ar'`.

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 19:41)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126004480):
@**Sebastian Ullrich**  Oh wow, that's evil. Thanks for the pointer. But I guess I'd rather stay away from that :D

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 20:33)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126007194):
Ohhh could it be that cases just doesn't deal with inductive types that have been added using `add_inductive` when they lack `rec_names`, for example?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 02 2018 at 20:34)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126007262):
That would be a shame :disappointed:

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 03 2018 at 14:00)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126041805):
I got a MNWE here:
```
meta def add_stuff : tactic unit :=
do tactic.add_inductive `foo [] 0 `(Type) $
   [(`bar, expr.const `foo [])]

example : unit :=
begin
  add_stuff,
  have x : foo, exact bar,
  cases x,
end
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 03 2018 at 18:44)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126053566):
Does `is_ginductive` fail for the inductive types added by `add_inductive`? *guess*

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 03 2018 at 18:44)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126053612):
yes

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 03 2018 at 18:57)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126054107):
So there's just no way to use `cases` then? :(

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 03 2018 at 18:58)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126054191):
You can use `induction` :)

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 03 2018 at 19:03)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126054440):
`induction` doesn't do the generalizing itself, right?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 04 2018 at 11:09)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126087605):
@**Jakob von Raumer** This one? https://github.com/leanprover/lean/blob/e181232c8ffd2bc2ba1b2f9799f8ac0ea0e4e505/library/init/meta/interactive.lean#L518

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 11:40)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126088668):
Ah, I only tried `tactic.induction` before... The problem is not generalizing the expression itself but errors like `induction tactic failed, argument #8 of major premise type
  DC.rel DC.M.A' DC.M.lt' DC.M.iota_A DC.M.mid DC.M.iota_lt DC.M.mid_l DC.M.mid_r DC.SI.A' (DC.S'.iota_A x) a
is not a variable`...

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 11:47)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126088856):
Isn't it a bit strange that the parsing bits of the interactive versions of these tactics are combined with adding more features?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 11:53)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126089062):
It seems pretty bad that I have to fiddle around with the parser monad :(

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 12:44)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126090649):
In that sense `cases` is stronger than `tactic.interactive.inductive`...

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 04 2018 at 12:50)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126090829):
Hm, I thought we generalized major premise in `induction` as well

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 14:00)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126092990):
At least not in the version I'm on right now (3.3)

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 14:01)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126092999):
The best solution for this mismatch would be to somehow expose `add_ginductive` to the meta language, I guess

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 04 2018 at 14:45)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126094398):
Well, why would you use such an ancient version :P

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 15:04)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126095025):
Well, in 3.4.1 it doesn't look any different ;)

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 15:05)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126095041):
I think it's about generalizing the _argument_ to the major premise, no?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 15:07)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126095100):
What's your best guess for the amount of work it would be to add an interface `add_ginductive`?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 04 2018 at 16:04)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126097169):
```quote
I think it's about generalizing the _argument_ to the major premise, no?
```
There is https://github.com/leanprover/lean/blob/master/library/init/meta/interactive.lean#L545

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 04 2018 at 16:06)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126097297):
```quote
What's your best guess for the amount of work it would be to add an interface `add_ginductive`?
```
Well, first you have to fork Lean... but the implementation itself shouldn't be hard

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 16:20)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126097884):
```quote
There is https://github.com/leanprover/lean/blob/master/library/init/meta/interactive.lean#L545
```
I saw that, yes, but that's still not as general as `cases`, otherwise the message `argument #8 of major premise type [...] is not a variable` wouldn't make sense. I'll try to come up with a small example...

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 16:20)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126097901):
The generalization has some issues anyway, see for example the error that
```
inductive foo : bool → Type
| mk : foo ff

inductive bar : Π b, foo b → Type
| mk : bar ff foo.mk

example (y: foo ff) (x : bar ff y) : unit :=
begin
  induction x,
end
```
gives...

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 04 2018 at 16:26)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126098128):
Small example where cases works:
```
inductive foo : bool → Type
| mk : foo ff

inductive bar : Π b, foo b → Type

example (x : bar ff foo.mk): unit :=
begin
  induction x,
end
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 08 2018 at 11:19)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126256543):
Recreating all the `revert`s and `generalize`s is really difficult :-/

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 08 2018 at 12:41)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126258976):
Does anybody have a good explanation of what's the difference between `cases` and `induction` there?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259387):
```lean
--bar.cases_on : Π (C : Π (b : bool) (a : foo b), bar b a → Sort l) {b : bool} {a : foo b} (n : bar b a), C b a n
--bar.rec_on   : Π (C : Π (b : bool) (a : foo b), bar b a → Sort l) {b : bool} {a : foo b} (n : bar b a), C b a n
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259390):
o_O

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 12:58)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259508):
But in Jacob's code, `cases` works and `induction` produces the error

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 12:58)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259509):
```
generalize tactic failed, result is not type correct
nested exception message:
check failed, application type mismatch (use 'set_option trace.check true' for additional details)
state:
⊢ bar ff foo.mk → unit
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 13:00)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259574):
With `set_option trace.check true` we see

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 13:00)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259576):
```
[check] application type mismatch at
  bar _x foo.mk
argument type
  foo ff
expected type
  foo _x
```

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Kevin Buzzard (May 08 2018 at 13:01)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126259597):
(this is with the 20/4 nightly)

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 08 2018 at 14:46)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126263030):
`cases` does *something* to generalize the arguments in the correct way that `induction` doesn't, it's not really about the recursor it uses

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 09 2018 at 16:21)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126316715):
Do you think this will change in Lean 4?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 09 2018 at 16:26)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126316950):
Lean 4 will probably not have any `ginductive`s

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 09 2018 at 18:16)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126322056):
Care to elaborate?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 09 2018 at 18:45)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126323093):
With nested and mutual inductives moving into the kernel, there shouldn't be any need for an abstraction layer. Well, it's still not clear how nested inductives would be represented.

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 09 2018 at 18:57)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126323554):
Why are they moved into the kernel if they can be reduced outside the kernel?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 09 2018 at 19:00)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126323646):
They can't :) . The reduction rules are too weak, that is. Also, it's the most horrible part of the code base.

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 10 2018 at 16:27)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126367079):
So I'll wait for Lean 4 or try to emulate what cases does for generalizing

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 10 2018 at 16:49)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126368002):
Apparently the part I'm missing is mostly some magical `no_confusion` applications

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 10 2018 at 17:17)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126369196):
Is it still Daniel who maintains the ginductive compiler?

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Sebastian Ullrich (May 14 2018 at 09:22)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126525983):
I think it's just Leo, who says he doesn't even understand the code any more

#### [![Click to go to Zulip](../../assets/img/zulip2.png) Jakob von Raumer (May 14 2018 at 18:03)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cases/near/126544666):
That's bad news :(


{% endraw %}
