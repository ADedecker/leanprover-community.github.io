---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html">bundled presheaves with preorders on the stalks</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="162686462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162686462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162686462">Scott Morrison (Apr 06 2019 at 05:56)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, I think I've got it --- the category of bundled presheaves with preordered stalks.</p>

<a name="162687191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162687191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162687191">Kevin Buzzard (Apr 06 2019 at 06:21)</a>:</h4>
<p>Topological rings?</p>

<a name="162687237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162687237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162687237">Kevin Buzzard (Apr 06 2019 at 06:22)</a>:</h4>
<p>With the stalks being computed on the underlying presheaf of rings?</p>

<a name="162687250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162687250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162687250">Kevin Buzzard (Apr 06 2019 at 06:23)</a>:</h4>
<p>We need two things from this category -- the notion of isomorphism (which comes for free) and the ability to pull back to an open subspace</p>

<a name="162687294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162687294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162687294">Kevin Buzzard (Apr 06 2019 at 06:24)</a>:</h4>
<p>Many thanks!</p>

<a name="162687729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162687729" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162687729">Scott Morrison (Apr 06 2019 at 06:37)</a>:</h4>
<p>okay, I think my TODO list for this stuff is:<br>
1) put the <code>op</code>s back in the open sets<br>
2) PR everything about presheafs, unbundled and bundled, to mathlib<br>
3) dump the stuff about stalks, and structured stalks, into perfectoid? (it's not mathlib ready)<br>
4) do pullbacks to open subspaces<br>
5) generalise "stalks with preorders" to "stalks with structure"<br>
6) once we have a <code>has_colimits CommRing</code> instance, everything is already set up to compute stalks in <code>CommRing</code> (or for that matter in <code>TopCommRing</code>)</p>

<a name="162691103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162691103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162691103">Kevin Buzzard (Apr 06 2019 at 08:16)</a>:</h4>
<p>Presumably the <code>has_colimits CommRing</code> instance will give us the universal property as well?</p>

<a name="162691182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162691182" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162691182">Kevin Buzzard (Apr 06 2019 at 08:18)</a>:</h4>
<p>I know that <span class="user-mention" data-user-id="132858">@Ramon Fernandez Mir</span> made the construction of a general colimit of comm rings (as a quotient of the poly ring over Z in variables corresponding to the disjoint union of the rings) late last year but I can't find it in his schemes repo :-/</p>

<a name="162691792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162691792" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162691792">Scott Morrison (Apr 06 2019 at 08:37)</a>:</h4>
<p>Yes, <code>has_colimits</code> packages the universal property.</p>

<a name="162692160"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162692160" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162692160">Kevin Buzzard (Apr 06 2019 at 08:49)</a>:</h4>
<p>Actually here's a potential problem. I need to define a preorder on the colimit. In this case (the stalk of a sheaf on a top space) the colimit is actually a direct limit. I would <em>imagine</em> that the universal property is a statement about defining ring homs from the colimit to other rings. But this is not what we have; I want to define a morphism of types from the stalk to some other type (I want to define a valuation on the stalk, and I'll get the preorder from the valuation). The underlying type of a direct limit of commutative rings is equal to the direct limit of the underlying types, so I can use the universal property of direct limits of types to get my function. However it is not true that the underlying type of an arbitrary colimit of commutative rings is equal to the colimit of the underlying types (consider a coproduct of two rings; the underlying type of the coproduct isn't the disjoint union of the two underlying types).</p>

<a name="162692298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162692298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162692298">Scott Morrison (Apr 06 2019 at 08:53)</a>:</h4>
<p>Yes. :-)</p>

<a name="162692301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162692301" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162692301">Johan Commelin (Apr 06 2019 at 08:53)</a>:</h4>
<p>Luckily Reid pushed some stuff about filtered limits to a branch...</p>

<a name="162692347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162692347" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162692347">Johan Commelin (Apr 06 2019 at 08:54)</a>:</h4>
<p>Once that code is accessible (either in mathlib, or in the perfectoid project) we only need to show that the forgetful functor from <code>CommRing</code> to <code>Type</code> preserves filtered colimits</p>

<a name="162694427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162694427" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162694427">Kevin Buzzard (Apr 06 2019 at 09:57)</a>:</h4>
<p>is "filtered colimits" the same as direct limits?</p>

<a name="162696541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696541">Scott Morrison (Apr 06 2019 at 10:53)</a>:</h4>
<p>yes, a very slight generalisation</p>

<a name="162696543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696543" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696543">Scott Morrison (Apr 06 2019 at 10:53)</a>:</h4>
<p>having either implies the other</p>

<a name="162696588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696588" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696588">Scott Morrison (Apr 06 2019 at 10:54)</a>:</h4>
<p>a category is filtered if every finite diagram admits a cone</p>

<a name="162696592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696592" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696592">Scott Morrison (Apr 06 2019 at 10:54)</a>:</h4>
<p>in particular, for every two objects X and Y, you can find an object Z with maps X -&gt; Z and Y -&gt; Z</p>

<a name="162696602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696602" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696602">Scott Morrison (Apr 06 2019 at 10:55)</a>:</h4>
<p>and for every parallel pair of morphisms <code>f g : X \hom Y</code>, there is a <code>h : Y \hom Z</code> so f h = g h.</p>

<a name="162696607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696607">Scott Morrison (Apr 06 2019 at 10:55)</a>:</h4>
<p>and there is an object!</p>

<a name="162696658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696658">Scott Morrison (Apr 06 2019 at 10:56)</a>:</h4>
<p>Putting the <code>op</code> back in the definition of presheaves is really awful. I have spent hours on it.</p>

<a name="162696670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696670">Scott Morrison (Apr 06 2019 at 10:57)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>, <span class="user-mention" data-user-id="110032">@Reid Barton</span>, if either of you want to explain why it is so dire to bake it into the source category, that would be great.</p>

<a name="162696680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/bundled%20presheaves%20with%20preorders%20on%20the%20stalks/near/162696680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/21303bundledpresheaveswithpreordersonthestalks.html#162696680">Scott Morrison (Apr 06 2019 at 10:57)</a>:</h4>
<p>also, if you want to look at my code/screen share, etc, we can try to fix it!</p>


{% endraw %}
