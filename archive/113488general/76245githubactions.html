---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/76245githubactions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html">github actions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="186671658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186671658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186671658">Sebastien Gouezel (Jan 27 2020 at 11:02)</a>:</h4>
<p>We have recently switched to github actions instead of Travis. Now, even on my fork, all branches get built. If I understand correctly, this is because the file <code>build.yml</code> got copied when I updated master.</p>
<p>I often push work in progress to github, to save it. Now, github tries to build this work in progress, which a crazy waste of processor time. Moreover, it tries to build it both on 3.4.2 and nightlies, which is a double waste. I tried to use commit messages with <code>[ci skip]</code>, but to no avail.</p>
<p>Do you see a way I could improve my workflow?</p>

<a name="186674754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186674754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186674754">Gabriel Ebner (Jan 27 2020 at 11:53)</a>:</h4>
<p>If you don't want your branches to be built, you can disable github actions (for your repository) at <a href="https://github.com/sgouezel/mathlib/settings/actions" target="_blank" title="https://github.com/sgouezel/mathlib/settings/actions">https://github.com/sgouezel/mathlib/settings/actions</a></p>

<a name="186674958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186674958" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186674958">Gabriel Ebner (Jan 27 2020 at 11:56)</a>:</h4>
<p>I can't comment on the "waste of resources" part.  The mathlib build only takes a fraction of the time limit set by github, they clearly seem to expect this usage.  Are there any downsides to building mathlib with multiple lean versions?  Do you get inundated with emails?</p>

<a name="186677013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186677013" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186677013">Kevin Buzzard (Jan 27 2020 at 12:30)</a>:</h4>
<blockquote>
<p>Are there any downsides to building mathlib with multiple lean versions?</p>
</blockquote>
<p>Doesn't it harm the environment or something?</p>

<a name="186677026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186677026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186677026">Johan Commelin (Jan 27 2020 at 12:30)</a>:</h4>
<p>It probably does. I don't think GitHub Actions is COâ‚‚-neutral</p>

<a name="186677607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186677607" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186677607">Sebastien Gouezel (Jan 27 2020 at 12:39)</a>:</h4>
<p>Yes, that's my point. Thanks <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> , I have desactivated actions on my fork.</p>

<a name="186677837"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186677837" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186677837">Sebastien Gouezel (Jan 27 2020 at 12:43)</a>:</h4>
<p>Also, mathlib master is currently broken (error in <code>\archive\cubing_a_cube.lean</code>). I guess the new building tools do not test <code>archive</code> properly...</p>

<a name="186677893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186677893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186677893">Johan Commelin (Jan 27 2020 at 12:44)</a>:</h4>
<p>Ouch... that happened quickly (-;</p>

<a name="186677920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186677920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186677920">Johan Commelin (Jan 27 2020 at 12:44)</a>:</h4>
<p>Anyway, better discover it now instead of 3 months from now</p>

<a name="186678100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186678100" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186678100">Sebastien Gouezel (Jan 27 2020 at 12:47)</a>:</h4>
<p>If you go to <a href="https://github.com/leanprover-community/mathlib/runs/409812707" target="_blank" title="https://github.com/leanprover-community/mathlib/runs/409812707">https://github.com/leanprover-community/mathlib/runs/409812707</a> for instance, the <code>test</code> step seems to succeed, but if you open it you will see an error.</p>

<a name="186678204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/github%20actions/near/186678204" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/76245githubactions.html#186678204">Johan Commelin (Jan 27 2020 at 12:49)</a>:</h4>
<p>Also:</p>
<div class="codehilite"><pre><span></span>leanpkg build                          1h 16m 7s
&gt; lean --make src
Run leanpkg build | python scripts/detect_errors.py

WARNING: Lean version mismatch: installed version is nightly-2020-01-12, but package requires 3.4.2

configuring mathlib 0.1

WARNING: Lean version mismatch: installed version is nightly-2020-01-12, but package requires 3.4.2

&gt; lean --make src
</pre></div>


{% endraw %}

{% include archive_update.html %}