---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/93009Reusingfinsetprodfactsforlists.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html">Reusing `finset.prod` facts for lists</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="183934979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183934979" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183934979">Yury G. Kudryashov (Dec 20 2019 at 13:26)</a>:</h4>
<p>Hi, is there any good way to reuse facts about <code>finset.prod</code> for lists? E.g., I'd like to have something like <code>∀ l : list α, (fin_range (length l)).prod (λ i, l.nth_le i.1 i.2) = l.prod</code>.</p>

<a name="183935029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183935029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183935029">Yury G. Kudryashov (Dec 20 2019 at 13:27)</a>:</h4>
<p>My problem is that it's not easy to apply general facts about products/sums over <code>finset</code>s (e.g., AM-GM inequality) to get a similar inequality for products/sums over lists.</p>

<a name="183935119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183935119" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183935119">Yury G. Kudryashov (Dec 20 2019 at 13:28)</a>:</h4>
<p>With lists it's much easier to apply it to specific numbers (e.g., to deduce AM-GM for 2, 3, 4 numbers out of the general case).</p>

<a name="183944815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183944815" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183944815">Mario Carneiro (Dec 20 2019 at 15:25)</a>:</h4>
<p>I guess that theorem is possible (assuming the multiplication is commutative and associative), but the LHS looks pretty hard to work with</p>

<a name="183944884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183944884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183944884">Mario Carneiro (Dec 20 2019 at 15:26)</a>:</h4>
<p>You can always coerce a list to a finset and apply the prod operation there</p>

<a name="183948835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183948835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183948835">Yury G. Kudryashov (Dec 20 2019 at 16:08)</a>:</h4>
<p>Does coercion remove duplicates?</p>

<a name="183948915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183948915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183948915">Johan Commelin (Dec 20 2019 at 16:09)</a>:</h4>
<p>I guess it does.</p>

<a name="183951638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183951638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183951638">Kevin Buzzard (Dec 20 2019 at 16:42)</a>:</h4>
<p>You could coerce to a multiset and apply the prod operation there.</p>

<a name="183954911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183954911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183954911">Chris Hughes (Dec 20 2019 at 17:20)</a>:</h4>
<p>For every <code>list A</code> there's a function <code>fin n - &gt; A</code>, so you can <code>finset.sum univ</code> over this function.</p>

<a name="183956353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183956353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183956353">Kevin Buzzard (Dec 20 2019 at 17:39)</a>:</h4>
<p>...and that's the reason why nobody bothers to build any more infrastructure for sums over lists and multisets ;-)</p>

<a name="183963235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Reusing%20%60finset.prod%60%20facts%20for%20lists/near/183963235" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/93009Reusingfinsetprodfactsforlists.html#183963235">Chris Hughes (Dec 20 2019 at 19:06)</a>:</h4>
<p>That's true for multisets. You still need lists for non commutative products.</p>


{% endraw %}

{% include archive_update.html %}