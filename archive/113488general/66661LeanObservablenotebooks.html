---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/66661LeanObservablenotebooks.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html">Lean + Observable notebooks</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="171903627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171903627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171903627">Bryan Gin-ge Chen (Jul 28 2019 at 20:48)</a>:</h4>
<p>I've been playing around with displaying and interacting with Lean files on the web using "Observable notebooks" recently. See this page for a demonstration:</p>
<p><a href="https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums" target="_blank" title="https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums">https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums</a></p>
<p>Basically, the notebook displays some simple Lean code in several embedded Lean editors with lots of markdown / LaTeX explanation around them. You can click to the left of any of the "cells" to see their Javascript source code. You can write and edit notebooks like this directly in your browser if you create a free account on <a href="http://observablehq.com" target="_blank" title="http://observablehq.com">observablehq.com</a> by e.g. signing in with Github.</p>
<p>One feature I rigged into the Lean editor cells is that they pass their messages from the Lean server back to Javascript. Since Observable notebooks work like spreadsheets, I could make "Lean-driven" graphics like the ones in the following notebook:</p>
<p><a href="https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars" target="_blank" title="https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars">https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars</a></p>
<p>Try changing the numbers in the <code>#eval</code> statements in the editors above the family tree graphic and the car configuration graphic and seeing how they change. (Don't make them too large or else browser Lean will run out of memory). </p>
<p>It'd be interesting to see what else this could be used for!</p>
<p>I wrote a little bit more about Observable notebooks and how you can write notebooks like these at the end of the first notebook above, but feel free to ask here if you have any questions.</p>

<a name="171904372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904372" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904372">Andrew Ashworth (Jul 28 2019 at 21:10)</a>:</h4>
<p>I haven't seen anyone do anything except D3 visualizations on Observable. This is great!</p>

<a name="171904627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904627">Scott Morrison (Jul 28 2019 at 21:19)</a>:</h4>
<p>This is really cool!</p>

<a name="171904709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904709">Andrew Ashworth (Jul 28 2019 at 21:21)</a>:</h4>
<p>I love reading interactive notebook explanations; I still look at Peter Norvig's Jupyter notebooks from time to time for reference.</p>

<a name="171904870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904870">Bryan Gin-ge Chen (Jul 28 2019 at 21:25)</a>:</h4>
<p>Thanks, glad you guys like it! I'm hoping other folks will try out writing some notebooks with Lean. I'm sure the code I wrote could be improved so I'm looking forward to feedback.</p>

<a name="171905124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171905124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171905124">Andrew Ashworth (Jul 28 2019 at 21:32)</a>:</h4>
<p>I might give it a shot in the next couple weeks. I'm mostly a Jupyter person since I like to program in languages that don't have a native WASM backend like Lean, so this is incentive to figure out how ObservableHQ works.</p>

<a name="171953699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171953699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171953699">Yao Liu (Jul 29 2019 at 15:06)</a>:</h4>
<p>Great! I'll see if I can learn some basics of Lean this way. I love Observable for the ability to easily write in LaTeX. For suggestions, as much as I like to write long posts to explain, Observable is at its best for smallish notebook so people could fork out and tinker with (and also making PR). I recall Kevin's suggestion for math people was to start off by reading definitions and statements, not the proofs, of interesting theorems, to get familiar with the syntax. Fibonacci stuff is as good as any.</p>

<a name="171955577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171955577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171955577">Bryan Gin-ge Chen (Jul 29 2019 at 15:28)</a>:</h4>
<p>Yeah, point taken about the long notebooks. In fact, Fibonacci parts 1 and 2 were actually originally one super-long notebook.</p>

<a name="172151354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172151354">Bryan Gin-ge Chen (Jul 31 2019 at 18:14)</a>:</h4>
<p>It's now possible to use Lean running on your computer as a backend to the Lean editors on Observable!</p>
<p><a href="https://observablehq.com/@bryangingechen/lean-websocketd" target="_blank" title="https://observablehq.com/@bryangingechen/lean-websocketd">https://observablehq.com/@bryangingechen/lean-websocketd</a></p>
<p>In short, <a href="http://websocketd.com/" target="_blank" title="http://websocketd.com/">websocketd</a> makes it really convenient to turn any program that reads from stdin and writes to stdout to a local webserver, so I wrote a little bit of code to replace the connection to Emscripten Lean with a connection to that server.</p>
<p>Using this, you can play around with Lean in notebooks without being constrained by the various shortcomings of Lean in the browser. For instance, you can import from Lean packages on your computer without having to create and upload some <code>library.zip</code> bundle.</p>

<a name="172151658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172151658">Johan Commelin (Jul 31 2019 at 18:17)</a>:</h4>
<p>Whoah! That's really wicked! Well done.</p>

<a name="172151727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172151727">Johan Commelin (Jul 31 2019 at 18:18)</a>:</h4>
<p>I guess it also gives some speed up. wasm can only do so much.</p>

<a name="172152690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172152690" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172152690">Bryan Gin-ge Chen (Jul 31 2019 at 18:28)</a>:</h4>
<p>Very true, particularly since it is single-threaded. However, Emscripten Lean does seem to be able to avoid some crashes. Something to do with the way it treats null pointer dereferences I guess.</p>

<a name="172156464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172156464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172156464">Kevin Kappelmann (Jul 31 2019 at 19:11)</a>:</h4>
<blockquote>
<p>It's now possible to use Lean running on your computer as a backend to the Lean editors on Observable!</p>
<p><a href="https://observablehq.com/@bryangingechen/lean-websocketd" target="_blank" title="https://observablehq.com/@bryangingechen/lean-websocketd">https://observablehq.com/@bryangingechen/lean-websocketd</a></p>
<p>In short, <a href="http://websocketd.com/" target="_blank" title="http://websocketd.com/">websocketd</a> makes it really convenient to turn any program that reads from stdin and writes to stdout to a local webserver, so I wrote a little bit of code to replace the connection to Emscripten Lean with a connection to that server.</p>
<p>Using this, you can play around with Lean in notebooks without being constrained by the various shortcomings of Lean in the browser. For instance, you can import from Lean packages on your computer without having to create and upload some <code>library.zip</code> bundle.</p>
</blockquote>
<p>what the... this is insane! <span aria-label="flushed" class="emoji emoji-1f633" role="img" title="flushed">:flushed:</span></p>

<a name="172157020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157020" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172157020">Kevin Kappelmann (Jul 31 2019 at 19:18)</a>:</h4>
<p>why have I never heard of observablehq?! It's so slick!</p>

<a name="172157355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172157355">Kevin Kappelmann (Jul 31 2019 at 19:22)</a>:</h4>
<p><span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>  On the website, it says <code>Unlimited free viewers</code> for the paid version. Does this mean your notebooks can only be viewed a certain number of times if you don't have a subscription?</p>

<a name="172157741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157741" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172157741">Bryan Gin-ge Chen (Jul 31 2019 at 19:28)</a>:</h4>
<p>I think that's referring to private team notebooks where you can give out some login keys for other people to view (but not edit). I haven't noticed any restrictions with my free account yet.</p>

<a name="172157804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157804" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172157804">Bryan Gin-ge Chen (Jul 31 2019 at 19:29)</a>:</h4>
<p>Maybe <a href="https://talk.observablehq.com/t/teams-features/1937/2" target="_blank" title="https://talk.observablehq.com/t/teams-features/1937/2">this post</a> will clarify things.</p>

<a name="172157986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172157986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172157986">Kevin Kappelmann (Jul 31 2019 at 19:32)</a>:</h4>
<p>Nice! I'll start reading observablehq tutorials then! :)</p>

<a name="172158086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172158086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172158086">Bryan Gin-ge Chen (Jul 31 2019 at 19:33)</a>:</h4>
<p>Great, feel free to reach out if you have any questions!</p>

<a name="172167088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172167088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172167088">Kevin Kappelmann (Jul 31 2019 at 21:21)</a>:</h4>
<p>I most certainly will - thanks! :)</p>

<a name="173975032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975032" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#173975032">Kevin Kappelmann (Aug 23 2019 at 14:55)</a>:</h4>
<p>I built an interactive <a href="https://observablehq.com/@kappelmann/lean-proof-view" target="_blank" title="https://observablehq.com/@kappelmann/lean-proof-view">Lean proof view</a> on top of <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span>'s neat work - feel free to check it out and tell me what you like and what you miss :) Its purpose is to interactively compare a standard maths proof and Lean proof, side by side. <a href="/user_uploads/3121/BCMJzTQuKsSjtjHWJce7sQ4R/pasted_image.png" target="_blank" title="pasted_image.png">image</a> (note: first page visit downloads ~20MB of Lean files, so it might take a bit).</p>
<div class="message_inline_image"><a href="/user_uploads/3121/BCMJzTQuKsSjtjHWJce7sQ4R/pasted_image.png" target="_blank" title="image"><img src="/user_uploads/3121/BCMJzTQuKsSjtjHWJce7sQ4R/pasted_image.png"></a></div>

<a name="173975321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#173975321">Patrick Massot (Aug 23 2019 at 14:58)</a>:</h4>
<p>Nice!</p>

<a name="173975402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/173975402" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#173975402">Patrick Massot (Aug 23 2019 at 14:59)</a>:</h4>
<p>This is read-only Lean, right? So what is the difference with <code>format_lean</code> (apart from slow loading time and dependence on observablehq)?</p>


{% endraw %}

{% include archive_update.html %}