---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/66661LeanObservablenotebooks.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html">Lean + Observable notebooks</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="171903627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171903627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171903627">Bryan Gin-ge Chen (Jul 28 2019 at 20:48)</a>:</h4>
<p>I've been playing around with displaying and interacting with Lean files on the web using "Observable notebooks" recently. See this page for a demonstration:</p>
<p><a href="https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums" target="_blank" title="https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums">https://observablehq.com/@bryangingechen/fibonacci-formalized-1-some-sums</a></p>
<p>Basically, the notebook displays some simple Lean code in several embedded Lean editors with lots of markdown / LaTeX explanation around them. You can click to the left of any of the "cells" to see their Javascript source code. You can write and edit notebooks like this directly in your browser if you create a free account on <a href="http://observablehq.com" target="_blank" title="http://observablehq.com">observablehq.com</a> by e.g. signing in with Github.</p>
<p>One feature I rigged into the Lean editor cells is that they pass their messages from the Lean server back to Javascript. Since Observable notebooks work like spreadsheets, I could make "Lean-driven" graphics like the ones in the following notebook:</p>
<p><a href="https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars" target="_blank" title="https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars">https://observablehq.com/@bryangingechen/fibonacci-formalized-2-bees-and-cars</a></p>
<p>Try changing the numbers in the <code>#eval</code> statements in the editors above the family tree graphic and the car configuration graphic and seeing how they change. (Don't make them too large or else browser Lean will run out of memory). </p>
<p>It'd be interesting to see what else this could be used for!</p>
<p>I wrote a little bit more about Observable notebooks and how you can write notebooks like these at the end of the first notebook above, but feel free to ask here if you have any questions.</p>

<a name="171904372"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904372" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904372">Andrew Ashworth (Jul 28 2019 at 21:10)</a>:</h4>
<p>I haven't seen anyone do anything except D3 visualizations on Observable. This is great!</p>

<a name="171904627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904627">Scott Morrison (Jul 28 2019 at 21:19)</a>:</h4>
<p>This is really cool!</p>

<a name="171904709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904709" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904709">Andrew Ashworth (Jul 28 2019 at 21:21)</a>:</h4>
<p>I love reading interactive notebook explanations; I still look at Peter Norvig's Jupyter notebooks from time to time for reference.</p>

<a name="171904870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171904870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171904870">Bryan Gin-ge Chen (Jul 28 2019 at 21:25)</a>:</h4>
<p>Thanks, glad you guys like it! I'm hoping other folks will try out writing some notebooks with Lean. I'm sure the code I wrote could be improved so I'm looking forward to feedback.</p>

<a name="171905124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171905124" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171905124">Andrew Ashworth (Jul 28 2019 at 21:32)</a>:</h4>
<p>I might give it a shot in the next couple weeks. I'm mostly a Jupyter person since I like to program in languages that don't have a native WASM backend like Lean, so this is incentive to figure out how ObservableHQ works.</p>

<a name="171953699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171953699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171953699">Yao Liu (Jul 29 2019 at 15:06)</a>:</h4>
<p>Great! I'll see if I can learn some basics of Lean this way. I love Observable for the ability to easily write in LaTeX. For suggestions, as much as I like to write long posts to explain, Observable is at its best for smallish notebook so people could fork out and tinker with (and also making PR). I recall Kevin's suggestion for math people was to start off by reading definitions and statements, not the proofs, of interesting theorems, to get familiar with the syntax. Fibonacci stuff is as good as any.</p>

<a name="171955577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/171955577" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#171955577">Bryan Gin-ge Chen (Jul 29 2019 at 15:28)</a>:</h4>
<p>Yeah, point taken about the long notebooks. In fact, Fibonacci parts 1 and 2 were actually originally one super-long notebook.</p>

<a name="172151354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172151354">Bryan Gin-ge Chen (Jul 31 2019 at 18:14)</a>:</h4>
<p>It's now possible to use Lean running on your computer as a backend to the Lean editors on Observable!</p>
<p><a href="https://observablehq.com/@bryangingechen/lean-websocketd" target="_blank" title="https://observablehq.com/@bryangingechen/lean-websocketd">https://observablehq.com/@bryangingechen/lean-websocketd</a></p>
<p>In short, <a href="http://websocketd.com/" target="_blank" title="http://websocketd.com/">websocketd</a> makes it really convenient to turn any program that reads from stdin and writes to stdout to a local webserver, so I wrote a little bit of code to replace the connection to Emscripten Lean with a connection to that server.</p>
<p>Using this, you can play around with Lean in notebooks without being constrained by the various shortcomings of Lean in the browser. For instance, you can import from Lean packages on your computer without having to create and upload some <code>library.zip</code> bundle.</p>

<a name="172151658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151658" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172151658">Johan Commelin (Jul 31 2019 at 18:17)</a>:</h4>
<p>Whoah! That's really wicked! Well done.</p>

<a name="172151727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172151727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172151727">Johan Commelin (Jul 31 2019 at 18:18)</a>:</h4>
<p>I guess it also gives some speed up. wasm can only do so much.</p>

<a name="172152690"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lean%20%2B%20Observable%20notebooks/near/172152690" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/66661LeanObservablenotebooks.html#172152690">Bryan Gin-ge Chen (Jul 31 2019 at 18:28)</a>:</h4>
<p>Very true, particularly since it is single-threaded. However, Emscripten Lean does seem to be able to avoid some crashes. Something to do with the way it treats null pointer dereferences I guess.</p>


{% endraw %}

{% include archive_update.html %}