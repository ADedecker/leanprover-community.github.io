---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/70566visualizations.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html">visualizations</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="177675847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177675847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177675847">Daniel Selsam (Oct 09 2019 at 02:00)</a>:</h4>
<p>Here is a visualization of the Mathlib instance graph, courtesy of <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> :<br>
<a href="/user_uploads/3121/dDiHJfmKIDWc1DZ89USvowFl/mathlib_instances_alt3.png" target="_blank" title="mathlib_instances_alt3.png">mathlib_instances_alt3.png</a> <br>
There are many visualization parameters that we haven't gotten to experiment with yet.</p>
<div class="message_inline_image"><a href="/user_uploads/3121/dDiHJfmKIDWc1DZ89USvowFl/mathlib_instances_alt3.png" target="_blank" title="mathlib_instances_alt3.png"><img src="/user_uploads/3121/dDiHJfmKIDWc1DZ89USvowFl/mathlib_instances_alt3.png"></a></div>

<a name="177676265"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177676265" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177676265">Mario Carneiro (Oct 09 2019 at 02:11)</a>:</h4>
<p>that is cool for reasons entirely unrelated to the mathlib instance hierarchy</p>

<a name="177693906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177693906" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177693906">Rob Lewis (Oct 09 2019 at 08:51)</a>:</h4>
<p>These never got posted to a public channel here, but Patrick and I were experimenting with some graphs last week.<br>
<a href="https://zulip-uploads.s3.amazonaws.com/3121/Vqgd9SI4NxEKwYyfZLGvvGEG/reduced_imports.pdf?Signature=D14e1arJW3c%2BxJQYnlwPtr6vtBE%3D&amp;Expires=1570610618&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ" target="_blank" title="https://zulip-uploads.s3.amazonaws.com/3121/Vqgd9SI4NxEKwYyfZLGvvGEG/reduced_imports.pdf?Signature=D14e1arJW3c%2BxJQYnlwPtr6vtBE%3D&amp;Expires=1570610618&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ">mathlib import hierarchy, tactic and meta folders removed</a><br>
<a href="https://zulip-uploads.s3.amazonaws.com/3121/g3iNpH6yzxUs3Majam54hngZ/graph_experiments_no_meta.pdf?Signature=TLPgfn1QXe1%2FVvIzu7qtSyrgYeo%3D&amp;Expires=1570610798&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ" target="_blank" title="https://zulip-uploads.s3.amazonaws.com/3121/g3iNpH6yzxUs3Majam54hngZ/graph_experiments_no_meta.pdf?Signature=TLPgfn1QXe1%2FVvIzu7qtSyrgYeo%3D&amp;Expires=1570610798&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ">same thing, different display</a><br>
<a href="https://zulip-uploads.s3.amazonaws.com/3121/d8_8jioot4ntr6AsJw9KKP5L/graph_experiments_directed.pdf?Signature=54%2BxfOgVUnAqQ%2Fl0zgC7ZlDQnRc%3D&amp;Expires=1570610953&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ" target="_blank" title="https://zulip-uploads.s3.amazonaws.com/3121/d8_8jioot4ntr6AsJw9KKP5L/graph_experiments_directed.pdf?Signature=54%2BxfOgVUnAqQ%2Fl0zgC7ZlDQnRc%3D&amp;Expires=1570610953&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ">full mathlib import hierarchy, how Mathematica thinks it should be clustered</a><br>
<a href="https://zulip-uploads.s3.amazonaws.com/3121/7feFKK6vmfpLSz45pflS26Y7/mathlib.png?Signature=SQVfz8y4ps5lScdiPHG1FJjSIao%3D&amp;Expires=1570611048&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ" target="_blank" title="https://zulip-uploads.s3.amazonaws.com/3121/7feFKK6vmfpLSz45pflS26Y7/mathlib.png?Signature=SQVfz8y4ps5lScdiPHG1FJjSIao%3D&amp;Expires=1570611048&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ">Patrick's visualization of that</a><br>
<a href="https://zulip-uploads.s3.amazonaws.com/3121/wVHutiUCjbkfFxM4U5CCtpGg/mathlib_structures_patrick.pdf?Signature=0PuPPR9s%2FbYVUG8veebLhnLOX%2Fc%3D&amp;Expires=1570610858&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ" target="_blank" title="https://zulip-uploads.s3.amazonaws.com/3121/wVHutiUCjbkfFxM4U5CCtpGg/mathlib_structures_patrick.pdf?Signature=0PuPPR9s%2FbYVUG8veebLhnLOX%2Fc%3D&amp;Expires=1570610858&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ">an approximation to the "structure hierarchy", not the same as the instance graph</a><br>
<a href="https://zulip-uploads.s3.amazonaws.com/3121/LzwNQzMxBDiJoEGONYkhPzAt/mathlib_structures.pdf?Signature=wAkrgkJbJ3sLRj8bXCFHtUV8odM%3D&amp;Expires=1570610909&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ" target="_blank" title="https://zulip-uploads.s3.amazonaws.com/3121/LzwNQzMxBDiJoEGONYkhPzAt/mathlib_structures.pdf?Signature=wAkrgkJbJ3sLRj8bXCFHtUV8odM%3D&amp;Expires=1570610909&amp;AWSAccessKeyId=AKIAIEVMBCAT2WD3M5KQ">a different approximation to the same thing</a></p>

<a name="177694288"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177694288" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177694288">Sebastian Ullrich (Oct 09 2019 at 08:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> Attachments shared privately are not accessible from other channels</p>

<a name="177694713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177694713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177694713">Rob Lewis (Oct 09 2019 at 09:02)</a>:</h4>
<p>Oops, Zulip has better security than I expected. Fixed?</p>

<a name="177695493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177695493" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177695493">Sebastian Ullrich (Oct 09 2019 at 09:13)</a>:</h4>
<p><span class="user-mention" data-user-id="110596">@Rob Lewis</span> Yes!</p>

<a name="177696468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177696468" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177696468">Sebastian Ullrich (Oct 09 2019 at 09:25)</a>:</h4>
<p>What were your approximations for the structure hierarchy?</p>

<a name="177696885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177696885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177696885">Rob Lewis (Oct 09 2019 at 09:31)</a>:</h4>
<p>The first one is from <span class="user-mention" data-user-id="110031">@Patrick Massot</span> . "meta-programming to get all classes and all instances. And then grep to guess which instances are extensions." The second is mine, it's all and only uses of the <code>extends</code> keyword.</p>

<a name="177701434"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177701434" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177701434">Sebastian Ullrich (Oct 09 2019 at 10:44)</a>:</h4>
<p>Interesting. So yours is naturally diamond-free. I believe the best-effort approximation would be to only include edges from instances of the form <code>[A xs] : B ys</code> where <code>xs</code> is a subset of <code>ys</code>. That excludes undesired edges like <code>monad -&gt; alternative</code> from <code>monad m -&gt; alternative (option_t m)</code></p>

<a name="177702026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177702026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177702026">Rob Lewis (Oct 09 2019 at 10:55)</a>:</h4>
<p>Mine is an underapproximation, and Patrick's is an overapproximation because it has some edges like that. The problem is I don't know exactly what we're trying to approximate. That sounds like a reasonable heuristic.</p>

<a name="177702406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177702406" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177702406">Mario Carneiro (Oct 09 2019 at 11:01)</a>:</h4>
<p>using <code>extends</code> isn't naturally diamond free unless you never use old structure commands, and we usually use old structure command when we are about to make a diamond...</p>

<a name="177702514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177702514" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177702514">Mario Carneiro (Oct 09 2019 at 11:03)</a>:</h4>
<p>It's also obviously not diamond free</p>

<a name="177702520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177702520" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177702520">Rob Lewis (Oct 09 2019 at 11:03)</a>:</h4>
<p>Indeed, you can see diamonds in both my and Patrick's graphs.</p>

<a name="177703022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177703022" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177703022">Sebastian Ullrich (Oct 09 2019 at 11:12)</a>:</h4>
<p>Ah, right...</p>

<a name="177708582"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177708582" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177708582">Patrick Massot (Oct 09 2019 at 12:34)</a>:</h4>
<p>More details about my method:</p>
<ul>
<li>run the <code>make_all.sh</code> script</li>
<li>change the master <code>all.lean</code> to  <a href="/user_uploads/3121/P0ZqV8wTCTD_Nd7qrDPuT4kq/all.lean" target="_blank" title="all.lean">all.lean</a></li>
<li>run <code>lean all.lean 2&gt; mathlib.yaml</code>, get <a href="/user_uploads/3121/Gxvw2FRrknPjGx5-Msm4AmtY/mathlib.yaml" target="_blank" title="mathlib.yaml">mathlib.yaml</a></li>
<li>run <a href="/user_uploads/3121/YFM8FNi8dE78SKZf2X7gnGeB/instance_graph.py" target="_blank" title="instance_graph.py">instance_graph.py</a>,  get <a href="/user_uploads/3121/80hv2dOEQvquKJZub3Fr1wwY/instances.graphml" target="_blank" title="instances.graphml">instances.graphml</a> </li>
</ul>
<p>See <a href="https://www.yworks.com/yed-live/?file=https://gist.githubusercontent.com/PatrickMassot/1f0d0f74661d43489379b2c464a798e8/raw/instances" target="_blank" title="https://www.yworks.com/yed-live/?file=https://gist.githubusercontent.com/PatrickMassot/1f0d0f74661d43489379b2c464a798e8/raw/instances">https://www.yworks.com/yed-live/?file=https://gist.githubusercontent.com/PatrickMassot/1f0d0f74661d43489379b2c464a798e8/raw/instances</a></p>

<a name="177728409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177728409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177728409">Patrick Massot (Oct 09 2019 at 15:58)</a>:</h4>
<p>Mathematical components visualization at: <a href="https://math-comp.github.io/math-comp/htmldoc/libgraph.html" target="_blank" title="https://math-comp.github.io/math-comp/htmldoc/libgraph.html">https://math-comp.github.io/math-comp/htmldoc/libgraph.html</a></p>

<a name="177900580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177900580" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177900580">Sebastian Ullrich (Oct 11 2019 at 12:05)</a>:</h4>
<p>Okay, here is my version of the class inheritance graph: <a href="/user_uploads/3121/yKkbcfVZLynWe5UaZ33TYTvq/mathlib-coercions.svg" target="_blank" title="mathlib-coercions.svg">mathlib-coercions.svg</a><br>
With 320 edges, it has still a few more than the other versions. Fun fact: the highest number of distincts paths between two classes is <strong>407</strong> between <code>discrete_linear_ordered_field</code> and <code>has_add</code>. Which are actually all in core, not mathlib.</p>

<a name="177901326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177901326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177901326">Patrick Massot (Oct 11 2019 at 12:17)</a>:</h4>
<p>Nice!</p>

<a name="177906711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177906711" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177906711">Mario Carneiro (Oct 11 2019 at 13:30)</a>:</h4>
<p>wow, that's less than I expected</p>

<a name="177906731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177906731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177906731">Mario Carneiro (Oct 11 2019 at 13:31)</a>:</h4>
<p>but it explains why the exponential blowup problem hasn't hit us that hard</p>

<a name="177909446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177909446" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177909446">Sebastian Ullrich (Oct 11 2019 at 14:02)</a>:</h4>
<p>On the other hand, this is just the class hierarchy. If we look at actual resolution problems, the number of steps (tried instances) goes much higher...</p>
<div class="codehilite"><pre><span></span>[
  {
    &quot;type&quot;: &quot;decidable (has_mem.mem.{u_1 u_1} (set.{u_1} α) (set.{u_1} (set.{u_1} α)) (set.has_mem.{u_1} (set.{u_1} α)) (set_of.{u_1} α (fun (a : α), (not (eq.{1} ennreal (has_coe_to_fun.coe.{(max (u_1+1) 1) (max (u_1+1) 1)} (measure_theory.simple_func.{u_1 0} α (measure_theory.measure_space.to_measurable_space.{u_1} α _inst_1) ennreal) (measure_theory.simple_func.has_coe_to_fun.{u_1 0} α ennreal (measure_theory.measure_space.to_measurable_space.{u_1} α _inst_1)) s a) (lattice.has_top.top.{0} ennreal (lattice.order_top.to_has_top.{0} ennreal (lattice.bounded_lattice.to_order_top.{0} ennreal (lattice.complete_lattice.to_bounded_lattice.{0} ennreal (lattice.complete_linear_order.to_complete_lattice.{0} ennreal ennreal.lattice.complete_linear_order))))))))) (filter.sets.{u_1} α (measure_theory.measure.a_e.{u_1} α (measure_theory.measure_space.to_measurable_space.{u_1} α _inst_1) (measure_theory.measure_space.μ.{u_1} α _inst_1))))&quot;,
    &quot;max_depth&quot;: 10,
    &quot;steps&quot;: 22567
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_1} real α&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39150
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_1} real α&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39155
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u} real α&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39155
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_1} real α&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39158
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_2} real F&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39158
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_4} real G&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39158
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_1} real E&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39164
  },
  {
    &quot;type&quot;: &quot;has_scalar.{0 u_1} real γ&quot;,
    &quot;max_depth&quot;: 12,
    &quot;steps&quot;: 39182
  },
  {
    &quot;type&quot;: &quot;has_scalar.{u_2 (max u u_1)} K (α -&gt; γ)&quot;,
    &quot;max_depth&quot;: 13,
    &quot;steps&quot;: 59428
  }
]
</pre></div>

<a name="177909485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177909485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177909485">Sebastian Ullrich (Oct 11 2019 at 14:03)</a>:</h4>
<p>I didn't record source locations unfortunately, but perhaps you can guess</p>

<a name="177914910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177914910" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177914910">Floris van Doorn (Oct 11 2019 at 14:59)</a>:</h4>
<p>Are these the highest numbers in mathlib, or a random sample with a high number of steps?</p>

<a name="177915791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177915791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177915791">Sebastian Ullrich (Oct 11 2019 at 15:06)</a>:</h4>
<p>These are the top 10 in stdlib + mathlib (I guess they are all in mathlib)</p>

<a name="177929006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177929006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177929006">Kevin Buzzard (Oct 11 2019 at 17:25)</a>:</h4>
<p>Can I post one or more of these on Twitter or on my blog? Or maybe Sebastian should as he has actually had something to do with them?  I could steal them, host them locally, link to them and give the correct attribution, but of course people are not happy with this then I'm open to other suggestions. The reason I'm interested is that I got all our first year undergraduates to do a concept map of mathematics, which basically looks like the sort of thing which is being posted here, and I think it would be cool to say that "this is what Lean's concept map of mathematics currently looks like. I'm getting a lot of hits at the minute and I think that this is cool material which would have general appeal. But obviously I didn't have anything to do with any of it so there needs to be a discussion about how I do it, if indeed I do it at all.</p>

<a name="177930051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177930051" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177930051">Rob Lewis (Oct 11 2019 at 17:36)</a>:</h4>
<p>Feel free to post any of mine.</p>

<a name="177952357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177952357" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177952357">Jeremy Avigad (Oct 11 2019 at 21:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> I have recently started worrying that our coding of the algebraic hierarchy is getting out of hand, e.g. compared to the mathematical components library, which is designed to find the relevant structure with essentially no search.  There are certainly ways we could code the hierarchy to avoid the crazy number of steps between discrete-linear-ordered-field and has_add. Do you think it will be a problem if the algebraic hierarchy continues to grow, or do you think it will block efficient automation?</p>

<a name="177955082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177955082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177955082">Daniel Selsam (Oct 11 2019 at 22:27)</a>:</h4>
<p><span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> the 407 number is the number of distinct paths between the two, not the length of one of the paths between the two. The former is large because of diamonds. Our new procedure solves this problem.</p>

<a name="177976923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177976923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177976923">Kevin Buzzard (Oct 12 2019 at 07:59)</a>:</h4>
<blockquote>
<p>Feel free to post any of mine.</p>
</blockquote>
<p>Thanks Rob. <a href="https://twitter.com/XenaProject/status/1182928366753718273?s=20" target="_blank" title="https://twitter.com/XenaProject/status/1182928366753718273?s=20">https://twitter.com/XenaProject/status/1182928366753718273?s=20</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/XenaProject/status/1182928366753718273?s=20" target="_blank"><img class="twitter-avatar" src="https://pbs.twimg.com/profile_images/1130953085952712704/PqL5txUs_normal.png"></a><p>In class I got all our first year undergraduates to draw a concept map of mathematics. Several people on the Lean chat have been drawing graphs of Lean's maths library and I was struck by the similarity. Here's  one of Rob Lewis' representations. <a href="https://t.co/mB8Y5ov4d1" target="_blank" title="https://t.co/mB8Y5ov4d1">http://wwwf.imperial.ac.uk/~buzzard/docs/Rob_Lewis_mathlib_concept_map.pdf</a></p><span>- The Xena Project (@XenaProject)</span></div></div>

<a name="177988322"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177988322" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177988322">Jeremy Avigad (Oct 12 2019 at 13:18)</a>:</h4>
<p><span class="user-mention" data-user-id="230999">@Daniel Selsam</span> I know, but even a chain of ten instances to unravel a "+" sounds like it could cause problems ofr elaboration and unification. But if you tell me not to worry about it, I won't.</p>

<a name="177991525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177991525" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177991525">Kevin Buzzard (Oct 12 2019 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="230999">@Daniel Selsam</span> <span class="user-mention" data-user-id="110865">@Jeremy Avigad</span> Working on the perfectoid project this morning I had a max class instance resolution error, and if I increased the instance search level it turned into a timeout error. After some time staring at trace outputs and seeing exactly what <code>by apply_instance</code> could do, I managed to discover that I had managed to construct a ring <code>B</code> for which the type class inference structure could construct an instance of <code>comm_ring B</code> but not an instance of <code>ring B</code> (this was where the timeout occurred). The ring B was a "normal mathematical ring" -- it was a quotient of a subring of a field -- but the debugging was troublesome and the traces were gigantic and terrifying. I fixed the problem by giving <code>comm_ring.to_ring</code> a local priority of 1000 (this was the smallest number that worked). Looking at the traces, it really hit home what a phenomenally difficult job Lean has trying to solve these problems, but it was equally absolutely clear that the vast majority of what it was trying was really crazy. I just wanted to put my hands on Lean's shoulders and say "we are doing abstract ring theory here, stop thinking about int.ring and all these other silly ideas". Here, the issue didn't seem so much to be the loops in the inference graph but simply that it was so darn big and it was hard to highlight the manifestly important part of it.</p>

<a name="177991868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177991868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177991868">Mario Carneiro (Oct 12 2019 at 14:46)</a>:</h4>
<p>I think the issue is still the loops in the inference graph, it's just that since stuff like <code>int.ring</code> appears at the leaves it's going to appear a significant fraction of the time</p>

<a name="177991951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177991951" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177991951">Mario Carneiro (Oct 12 2019 at 14:48)</a>:</h4>
<p>Does it help to <code>letI := comm_ring B</code> in the proof / statement?</p>

<a name="177991983"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/visualizations/near/177991983" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/70566visualizations.html#177991983">Mario Carneiro (Oct 12 2019 at 14:49)</a>:</h4>
<p><span class="user-mention" data-user-id="230999">@Daniel Selsam</span> Is the new instance algorithm back-portable to lean 3, or does it depend on significantly different architecture?</p>


{% endraw %}

{% include archive_update.html %}