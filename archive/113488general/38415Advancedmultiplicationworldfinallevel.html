---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/38415Advancedmultiplicationworldfinallevel.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html">Advanced multiplication world final level</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="189240758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189240758" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189240758">Andrew Helwer (Feb 27 2020 at 18:24)</a>:</h4>
<p>Anyone have any small hints for the final level of advanced multiplication world that doesn't give away the full game? I'm at:<br>
case mynat.succ<br>
a b d : mynat,<br>
hd : a ≠ 0 → a * b = a * d → b = d,<br>
anz : a ≠ 0,<br>
h : a * b = a * succ d<br>
⊢ b = succ d</p>

<a name="189241263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189241263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189241263">Mario Carneiro (Feb 27 2020 at 18:29)</a>:</h4>
<p>unfold the definition of a * succ d , then use the inductive hypothesis and left cancellation of addition</p>

<a name="189241705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189241705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189241705">Andrew Helwer (Feb 27 2020 at 18:33)</a>:</h4>
<p>So use induction a second time?</p>

<a name="189245422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245422">Kevin Buzzard (Feb 27 2020 at 19:05)</a>:</h4>
<p>This doesn't look good. Isn't <code>hd</code> useless?</p>

<a name="189245451"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245451" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245451">Kevin Buzzard (Feb 27 2020 at 19:05)</a>:</h4>
<p>We know a isn't zero, but we also know that ab isn't ad from h, so hd can never be used.</p>

<a name="189245479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245479">Kevin Buzzard (Feb 27 2020 at 19:05)</a>:</h4>
<p>I'm really sorry about this final level -- nobody can do it ;-)</p>

<a name="189245550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245550" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245550">Kevin Buzzard (Feb 27 2020 at 19:06)</a>:</h4>
<p>I usually ask students if they can prove it in maths rather than in Lean!</p>

<a name="189245589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245589">Andrew Helwer (Feb 27 2020 at 19:06)</a>:</h4>
<p>No worries, it's nice to have a challenge! I definitely banged my head against the first level in advanced multiplication world for an hour before getting it - makes victory all the sweeter.</p>

<a name="189245608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245608" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245608">Andrew Helwer (Feb 27 2020 at 19:06)</a>:</h4>
<p>I've started trying to follow this proof on math stackexchange: <a href="https://math.stackexchange.com/a/3219757/616655" target="_blank" title="https://math.stackexchange.com/a/3219757/616655">https://math.stackexchange.com/a/3219757/616655</a></p>

<a name="189245656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245656" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245656">Andrew Helwer (Feb 27 2020 at 19:07)</a>:</h4>
<p>but then I get to "To say that m≠0 means that m=z+1 for some z" and I don't know how to introduce a new variable z</p>

<a name="189245730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245730">Kevin Buzzard (Feb 27 2020 at 19:07)</a>:</h4>
<p>You can do <code>cases m with z</code> to do that.</p>

<a name="189245871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245871" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245871">Andrew Helwer (Feb 27 2020 at 19:09)</a>:</h4>
<p>Ahhhh yeah that would do it. Also before that... I have a * b \ne 0 and a \ne 0 but don't think I have a theorem to get to b \ne 0</p>

<a name="189245921"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189245921" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189245921">Andrew Helwer (Feb 27 2020 at 19:09)</a>:</h4>
<p>I suppose I could look up how to introduce &amp; prove new theorems mid-proof</p>

<a name="189246270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189246270" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189246270">Kevin Buzzard (Feb 27 2020 at 19:12)</a>:</h4>
<p>But I am concerned that the state that your game is problematic because you will need induction at some point and your <code>hd</code> is useless. I think your <code>hd</code> needs to be beefed up to have a "for all b" in . I don't think you can finish from here, whatever a 2 point answer on stackexchange says</p>

<a name="189246549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189246549" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189246549">Andrew Helwer (Feb 27 2020 at 19:16)</a>:</h4>
<p>Well I did try a double induction strategy at one point and after much finangling  managed to change a<em>b = a</em>c =&gt; b = c to b<em>a = c</em>a =&gt; b = c lol. But perhaps I will try the induction again from the top without adding a "revert ha" at the beginning</p>

<a name="189246751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189246751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189246751">Andrew Helwer (Feb 27 2020 at 19:18)</a>:</h4>
<p>huh... actually that probably would have worked because then I could just use mul_comm and the inductive hypothesis? I will try this!</p>

<a name="189260247"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189260247" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189260247">Andrew Helwer (Feb 27 2020 at 21:41)</a>:</h4>
<p>All right I throw in the towel... does anyone have a proof of this? Would love to go over it line by line.</p>

<a name="189261251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Advanced%20multiplication%20world%20final%20level/near/189261251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/38415Advancedmultiplicationworldfinallevel.html#189261251">Alex J. Best (Feb 27 2020 at 21:52)</a>:</h4>
<p>Credit : I copied this (with some light edits) from the solutions, but I won't link to them unless you ask for it as I don't want to spoil any fun ;):</p>
<div class="codehilite"><pre><span></span>  <span class="n">revert</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">induction</span> <span class="n">c</span> <span class="k">with</span> <span class="n">d</span> <span class="n">hd</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">intro</span> <span class="n">b</span><span class="o">,</span>
    <span class="n">rw</span> <span class="n">mul_zero</span><span class="o">,</span>
    <span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
    <span class="n">cases</span> <span class="o">(</span><span class="n">eq_zero_or_eq_zero_of_mul_eq_zero</span> <span class="n">a</span> <span class="n">b</span> <span class="n">h</span><span class="o">),</span>
      <span class="n">exfalso</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">assumption</span><span class="o">,</span>
    <span class="n">assumption</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span> <span class="n">intros</span> <span class="n">b</span> <span class="n">hb</span><span class="o">,</span>
    <span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">c</span><span class="o">,</span>
    <span class="o">{</span> <span class="n">rw</span> <span class="n">mul_zero</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mul_succ</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">exfalso</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">ha</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">eq_comm</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">add_left_eq_zero</span> <span class="o">(</span><span class="n">a</span> <span class="bp">*</span> <span class="n">d</span><span class="o">)</span> <span class="n">a</span> <span class="n">hb</span><span class="o">,</span>
    <span class="o">},</span>
    <span class="o">{</span> <span class="n">congr</span><span class="o">,</span> <span class="c1">-- c = d -&gt; succ c = succ d</span>
      <span class="n">apply</span> <span class="n">hd</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mul_succ</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">rw</span> <span class="n">mul_succ</span> <span class="n">at</span> <span class="n">hb</span><span class="o">,</span>
      <span class="n">apply</span> <span class="n">add_right_cancel</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">c</span><span class="o">)</span> <span class="n">a</span> <span class="o">(</span><span class="n">a</span><span class="bp">*</span><span class="n">d</span><span class="o">)</span> <span class="n">hb</span>
    <span class="o">}</span>
  <span class="o">}</span>
</pre></div>


{% endraw %}

{% include archive_update.html %}