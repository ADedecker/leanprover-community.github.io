---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/51626refl.html
---

## Stream: [general](https://leanprover-community.github.io/archive/113488general/index.html)
### Topic: [refl](https://leanprover-community.github.io/archive/113488general/51626refl.html)

---

<base href="https://leanprover.zulipchat.com">
{% raw %}
#### [ Andrew Ashworth (Feb 28 2018 at 01:49)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123067472):
<p>why does lean automatically tag certain theorems with <code>@[_refl_lemma]</code>?</p>

#### [ Simon Hudon (Feb 28 2018 at 01:50)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123067521):
<p>I want to know too!</p>

#### [ Mario Carneiro (Feb 28 2018 at 02:03)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123068042):
<p>That attribute means that it's a refl lemma (it was proven by <code>rfl</code>), and it is basically "<code>@[simp]</code> for <code>dsimp</code>"</p>

#### [ Andrew Ashworth (Feb 28 2018 at 02:44)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123069575):
<p>someday i'd like to write a boilerplate macro that goes into definitions and creates lemmas for each branch</p>

#### [ Andrew Ashworth (Feb 28 2018 at 02:45)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123069589):
<p>although even better is if we could suggest names while  constructing a <code>def</code> using the equation compiler</p>

#### [ Simon Hudon (Feb 28 2018 at 02:48)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123069726):
<blockquote>
<p>That attribute means that it's a refl lemma (it was proven by <code>rfl</code>), and it is basically "<code>@[simp]</code> for <code>dsimp</code>"</p>
</blockquote>
<p>Is this necessary because definitional equality is not transitive?</p>

#### [ Mario Carneiro (Feb 28 2018 at 02:52)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123069868):
<p>No, it's just a way to guide the operation of <code>dsimp</code>. There are loads of things that are defeq, so how should it know you want <code>a + succ b</code> to "unfold" to <code>succ (a + b)</code> and not something else? Equation lemmas are used for this purpose, and the ones that are known to be definitional are legal for use by <code>dsimp</code></p>

#### [ Simon Hudon (Feb 28 2018 at 02:56)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123069975):
<p>Does <code>dsimp</code> use anything else?</p>

#### [ Mario Carneiro (Feb 28 2018 at 02:59)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123070051):
<p>It uses the bracket list of course, but most of its stuff comes from equation lemmas</p>

#### [ Mario Carneiro (Feb 28 2018 at 03:00)](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/refl/near/123070113):
<blockquote>
<p>someday i'd like to write a boilerplate macro that goes into definitions and creates lemmas for each branch</p>
</blockquote>
<p><code>def</code> does this currently...</p>


{% endraw %}
