---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/03953coercionsfrompolynomials.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html">coercions from polynomials</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="185714666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185714666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185714666">Kevin Buzzard (Jan 15 2020 at 16:27)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">mv_polynomial</span>

<span class="kn">open</span> <span class="n">mv_polynomial</span>

<span class="kn">variables</span> <span class="o">{</span><span class="n">k</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">k</span><span class="o">]</span>

<span class="kn">variable</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span>

<span class="kn">instance</span> <span class="o">:</span> <span class="n">has_coe_to_fun</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="n">n</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">F</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="o">(</span><span class="n">n</span> <span class="bp">→</span> <span class="n">k</span><span class="o">)</span> <span class="bp">→</span> <span class="n">k</span><span class="o">,</span>
  <span class="n">coe</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">f</span> <span class="n">x</span><span class="o">,</span> <span class="kn">eval</span> <span class="n">x</span> <span class="n">f</span><span class="o">}</span>

<span class="n">def</span> <span class="err">𝕍</span> <span class="o">(</span><span class="n">S</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">mv_polynomial</span> <span class="n">n</span> <span class="n">k</span><span class="o">))</span> <span class="o">:</span> <span class="n">set</span> <span class="o">(</span><span class="n">n</span> <span class="bp">→</span> <span class="n">k</span><span class="o">)</span> <span class="o">:=</span>
<span class="c1">-- {x : n → k | ∀ s ∈ S, s x = 0} -- doesn&#39;t work</span>
<span class="c1">-- {x : n → k | ∀ s ∈ S, s.eval x = 0} -- also doesn&#39;t work</span>
<span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">→</span> <span class="n">k</span> <span class="bp">|</span> <span class="bp">∀</span> <span class="n">s</span> <span class="err">∈</span> <span class="n">S</span><span class="o">,</span> <span class="kn">eval</span> <span class="n">x</span> <span class="n">s</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">}</span> <span class="c1">-- works BUT VARIABLES IN STUPID ORDER!</span>
</pre></div>

<a name="185714689"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185714689" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185714689">Kevin Buzzard (Jan 15 2020 at 16:27)</a>:</h4>
<p>If s is a polynomial and x is some assignment of the variables, I want to write <code>s(x)</code> to be the evaluation of the polynomial at the assignment of the variables. As does every mathematician. Why am I failing in the above?</p>

<a name="185714854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185714854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185714854">Chris Hughes (Jan 15 2020 at 16:29)</a>:</h4>
<p><code>eval x</code> is a ring hom. That's why they're in the current order.</p>

<a name="185715017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185715017" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185715017">Kevin Buzzard (Jan 15 2020 at 16:30)</a>:</h4>
<p>I don't understand why <code>s.eval x = 0</code> fails. Is this an issue with the elaborator?</p>

<a name="185723920"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185723920" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185723920">Johan Commelin (Jan 15 2020 at 17:52)</a>:</h4>
<p>It's because of <code>∀ s ∈ S</code>, I think.</p>

<a name="185723986"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185723986" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185723986">Johan Commelin (Jan 15 2020 at 17:52)</a>:</h4>
<p>If you would write <code>∀ f, f ∈ S → f.eval x = 0</code>, I think it would work</p>

<a name="185723996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185723996" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185723996">Johan Commelin (Jan 15 2020 at 17:52)</a>:</h4>
<p>But of course that is ugly</p>

<a name="185724067"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/coercions%20from%20polynomials/near/185724067" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/03953coercionsfrompolynomials.html#185724067">Johan Commelin (Jan 15 2020 at 17:53)</a>:</h4>
<p>At least<code>∀ f : mv_polynomial n k, f ∈ S → f.eval x = 0</code> should work</p>


{% endraw %}

{% include archive_update.html %}