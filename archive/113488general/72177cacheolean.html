---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/72177cacheolean.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html">cache-olean</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="163469844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/163469844" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#163469844">Jeremy Avigad (Apr 16 2019 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> <code>cache-olean</code> doesn't seem to be working for me. I am on branch <code>lean-3.4.2</code>, I fetched and merged the latest version, and did this:</p>
<div class="codehilite"><pre><span></span>avigad@avigad-ThinkPad-T460:~/projects/mathlib$ cache-olean --fetch
No github section found in &#39;git config&#39;
Querying GitHub...
Downloading nightly...
... successfully extracted olean archive.
avigad@avigad-ThinkPad-T460:~/projects/mathlib$ lean --make
</pre></div>


<p>It is recompiling the whole library. That shouldn't happen, should it? Can you tell if I am doing something wrong?</p>

<a name="163478705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/163478705" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#163478705">Simon Hudon (Apr 16 2019 at 15:17)</a>:</h4>
<p>That certainly shouldn't happen</p>

<a name="163478786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/163478786" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#163478786">Simon Hudon (Apr 16 2019 at 15:18)</a>:</h4>
<p>what if you do <code>cache-olean --fetch</code> and <code>leanpkg build</code> instead?</p>

<a name="165144336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165144336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165144336">Johan Commelin (May 08 2019 at 08:30)</a>:</h4>
<p><span class="user-mention" data-user-id="110026">@Simon Hudon</span> I just want to give you a very big Thank You <span aria-label="trademark" class="emoji emoji-2122" role="img" title="trademark">:trademark:</span>. Using <code>update-mathlib</code> and <code>cache-olean</code> has made development so much smoother. It is so much easier to switch branches, and add quick contributions. Kudos!</p>

<a name="165177803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165177803" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165177803">Simon Hudon (May 08 2019 at 16:24)</a>:</h4>
<p>I'm really glad it helps :)</p>

<a name="165177915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165177915" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165177915">Chris Hughes (May 08 2019 at 16:26)</a>:</h4>
<p>What is <code>cache-olean</code>? How do I find out how to use it?</p>

<a name="165178027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165178027" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165178027">Bryan Gin-ge Chen (May 08 2019 at 16:27)</a>:</h4>
<p>It looks like it's documented here: <a href="https://github.com/leanprover-community/mathlib/blob/master/docs/howto-contribute.md#caching-compilation" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/docs/howto-contribute.md#caching-compilation">https://github.com/leanprover-community/mathlib/blob/master/docs/howto-contribute.md#caching-compilation</a></p>

<a name="165179945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165179945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165179945">Chris Hughes (May 08 2019 at 16:52)</a>:</h4>
<p>I get this error</p>
<div class="codehilite"><pre><span></span>dyn894-237:mathlib chrishughes$ cache-olean --fetch
Info: No github section found in &#39;git config&#39;, we will use GitHub with no authentication
Querying GitHub...
Error: no nightly archive found
no cache found
</pre></div>

<a name="165180084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165180084" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165180084">Simon Hudon (May 08 2019 at 16:54)</a>:</h4>
<p>Did you cache a build?</p>

<a name="165180103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165180103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165180103">Chris Hughes (May 08 2019 at 16:54)</a>:</h4>
<p>How do I do that?</p>

<a name="165180111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165180111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165180111">Chris Hughes (May 08 2019 at 16:55)</a>:</h4>
<p>I was on the <code>master</code> branch</p>

<a name="165180181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165180181" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165180181">Simon Hudon (May 08 2019 at 16:55)</a>:</h4>
<p>If you want to use the nightly, switch to the head of <code>lean-3.4.2</code></p>

<a name="165180314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165180314" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165180314">Chris Hughes (May 08 2019 at 16:57)</a>:</h4>
<p>And it works for my community branches right? How do I do that?</p>

<a name="165180351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/cache-olean/near/165180351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/72177cacheolean.html#165180351">Chris Hughes (May 08 2019 at 16:57)</a>:</h4>
<p><code>lean-3.4.2</code> works by the way. Thanks.</p>


{% endraw %}
