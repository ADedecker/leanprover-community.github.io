---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/53839Specifyapplyandothertacticsinsideatactic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/53839Specifyapplyandothertacticsinsideatactic.html">Specify `apply` and other tactics inside a tactic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="187216567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Specify%20%60apply%60%20and%20other%20tactics%20inside%20a%20tactic/near/187216567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53839Specifyapplyandothertacticsinsideatactic.html#187216567">Jason Rute (Feb 02 2020 at 19:24)</a>:</h4>
<p>I have a question about calling tactics in meta programming.  I'm making an AI* which will control certain common tactics (like apply, simp, rw, ...).  How within my own custom tactic (say within a <code>do ... return ()</code> block), do I say to run the apply tactic?  The issue is the parameter.  Here are three use cases.  How do I do them?</p>
<ol>
<li><code>apply h</code> where <code>h</code> is from the local context.  I know how to access and look at the (the expressions of the) local context.  So let's assume I know which hypothesis <code>h</code> I want to use in apply.  How do I specify that inside a tactic?</li>
<li><code>apply true.intro</code> where <code>true.intro</code> is just an example of a theorem in the environment.  Let's say I already know the name of that theorem, e.g. <code>true.intro</code>.  How do I apply it?</li>
<li><code>apply (f h)</code> where <code>f h</code> is an example of a compound term.  Again, let's say I know how to find <code>f</code> and <code>h</code> and they are either in the local context or the environment.</li>
</ol>
<p>If (3) is much harder, I am happy with solutions to (1) or (2).  Do the same basic ideas apply for tactics which takes lists of terms like <code>rw</code> or <code>simp</code>?</p>
<p>*When I say "I am making an AI", what I really mean is that I am making a prototype of a tool which lets one control tactics from outside of Lean.  I'm trying to do it through Lean's IO and not the Lean server, hence the questions.  (See more <a href="#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/ML.20for.20Lean.3A.20How.20to.20do.20it.3F" title="#narrow/stream/219941-Machine-Learning.20for.20Theorem.20Proving/topic/ML.20for.20Lean.3A.20How.20to.20do.20it.3F">here</a> about this project.)</p>

<a name="187218455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Specify%20%60apply%60%20and%20other%20tactics%20inside%20a%20tactic/near/187218455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53839Specifyapplyandothertacticsinsideatactic.html#187218455">Reid Barton (Feb 02 2020 at 20:20)</a>:</h4>
<p>For 2, if I understand correctly, you could use <code> `[apply true.intro] </code></p>

<a name="187218541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Specify%20%60apply%60%20and%20other%20tactics%20inside%20a%20tactic/near/187218541" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/53839Specifyapplyandothertacticsinsideatactic.html#187218541">Reid Barton (Feb 02 2020 at 20:22)</a>:</h4>
<p>For 1, or more generally, you can just apply <code>tactic.apply</code> or even <code>tactic.interactive.apply</code> directly</p>


{% endraw %}

{% include archive_update.html %}