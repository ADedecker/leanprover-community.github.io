---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/99076342branch.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html">3.4.2 branch</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="164931772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164931772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164931772">Simon Hudon (May 05 2019 at 19:02)</a>:</h4>
<p>We don't use the tag anymore. We use a branch. We've tried over and over to delete the tag but people have a copy on their hard drive and keep pushing it</p>

<a name="164931778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164931778" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164931778">Simon Hudon (May 05 2019 at 19:02)</a>:</h4>
<p>The head of the <code>lean-3.4.2</code> branch is 19 hours old so it's up to date</p>

<a name="164933043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164933043" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164933043">Scott Morrison (May 05 2019 at 19:38)</a>:</h4>
<p>Oh, sorry, I meant branch rather than tag --- I guess I was expecting it to catch up to master more quickly. Is this just travis being slow? I'm curious that it has more work to do after the merge with master.</p>

<a name="164933201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164933201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164933201">Simon Hudon (May 05 2019 at 19:42)</a>:</h4>
<p>It's merged once a day</p>

<a name="164934462"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934462" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934462">Scott Morrison (May 05 2019 at 20:17)</a>:</h4>
<p>Would it be possible to merge more often? When PRs are coming in from other repositories, part of the workflow is:<br>
1) PR gets merged to mathlib<br>
2) Go back to other repository, <code>leanpkg upgrade</code>, <code>update-mathlib</code>, and fix up as required.<br>
3) Realise <code>update-mathlib</code> doesn't work yet, and committing the result of <code>leanpkg upgrade</code> will upset collaborators<br>
4) Decide to wait a day<br>
5) Forget what you're doing</p>

<a name="164934513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934513">Patrick Massot (May 05 2019 at 20:18)</a>:</h4>
<p>Scott, I'm a bit confused. I think the only reason why we don't update more often is because we wait for the hosting you promise you would be able to offer</p>

<a name="164934663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934663" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934663">Scott Morrison (May 05 2019 at 20:22)</a>:</h4>
<p>Ah, okay. The hosting is definitely available. The question is how to get stuff to it.</p>

<a name="164934665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934665">Scott Morrison (May 05 2019 at 20:22)</a>:</h4>
<p>I would prefer that travis doesn't have push access to my server.</p>

<a name="164934676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934676">Patrick Massot (May 05 2019 at 20:23)</a>:</h4>
<p>This is what I meant by waiting for hosting. I meant waiting for you to figure out how you want to do it</p>

<a name="164934724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934724">Scott Morrison (May 05 2019 at 20:24)</a>:</h4>
<p>So the options were:<br>
1) I can pay for amazon s3 hosting (as I already do, and this won't be much additional), but someone would have to write a script that posted stuff to it.<br>
2) I can run a cron job on my server that pulls something that travis produces.</p>

<a name="164934736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934736" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934736">Scott Morrison (May 05 2019 at 20:24)</a>:</h4>
<p>My scripting-fu, particularly once it involves pushing files around, is not very good, and I don't understand the travis workflow completely.</p>

<a name="164934745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934745">Scott Morrison (May 05 2019 at 20:25)</a>:</h4>
<p>So I wasn't thinking this was something on my todo list. I was waiting for someone to hand me a script to add to <code>cron</code> on my server. :-)</p>

<a name="164934810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934810" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934810">Patrick Massot (May 05 2019 at 20:26)</a>:</h4>
<p>I wonder if we are not complicating things by insisting we should reuse Travis work</p>

<a name="164934819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934819">Patrick Massot (May 05 2019 at 20:26)</a>:</h4>
<p>If you have computing power you could also compile on your end, and bypass Travis</p>

<a name="164934838"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164934838" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164934838">Patrick Massot (May 05 2019 at 20:27)</a>:</h4>
<p>Your machine can periodically ask GitHub for new commits (this is <em>trivial</em> compared to anything involving Travis)</p>

<a name="164939171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164939171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164939171">Scott Morrison (May 05 2019 at 22:19)</a>:</h4>
<p>OK: I propose that the following is the easiest to implement (but maybe wasteful of CPU time):</p>
<div class="codehilite"><pre><span></span>while (true)
  checkout all branches of leanprover-community/mathlib
  run `cache-olean --build-all`
  copy the contents of the `_cache` directory to a webserver
</pre></div>

<a name="164939174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164939174" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164939174">Scott Morrison (May 05 2019 at 22:19)</a>:</h4>
<p>That should be easy to implement (probably in four lines!)</p>

<a name="164939217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/3.4.2%20branch/near/164939217" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/99076342branch.html#164939217">Scott Morrison (May 05 2019 at 22:20)</a>:</h4>
<p>Is it actually useful? i.e. can someone work out what URL they need to fetch?</p>


{% endraw %}
