---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/141825kbb/47413hello.html
---

## Stream: [kbb](https://leanprover-community.github.io/archive/141825kbb/index.html)
### Topic: [hello](https://leanprover-community.github.io/archive/141825kbb/47413hello.html)

---

<base href="https://leanprover.zulipchat.com">
{% raw %}
#### [ Welcome Bot (Sep 11 2018 at 22:26)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758184):
<p>Welcome to <a class="stream" data-stream-id="141825" href="/#narrow/stream/141825-kbb">#kbb</a>.</p>

#### [ Patrick Massot (Sep 11 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758292):
<p>This is a test: can anyone hear me?</p>

#### [ Reid Barton (Sep 11 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758301):
<p>Yes</p>

#### [ Patrick Massot (Sep 11 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758347):
<p>Does anyone has another Zulip account and could check what is visible?</p>

#### [ Reid Barton (Sep 11 2018 at 22:28)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758350):
<p>I thought about this, but I'm not sure whether the stream would be visible to external people. Yeah</p>

#### [ Reid Barton (Sep 11 2018 at 22:29)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758362):
<p>Or, just remove me temporarily.</p>

#### [ Patrick Massot (Sep 11 2018 at 22:29)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758428):
<p>Funnily, I don't seem to be allowed to do that</p>

#### [ Simon Hudon (Sep 11 2018 at 22:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758563):
<p>I see you</p>

#### [ Patrick Massot (Sep 11 2018 at 22:32)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758631):
<p>I'm creating another account</p>

#### [ Simon Hudon (Sep 11 2018 at 22:32)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758642):
<p>Also: this is a great idea</p>

#### [ Simon Hudon (Sep 11 2018 at 22:33)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758677):
<p>Did you need the help of an administrator to create this stream?</p>

#### [ Patrick Massot (Sep 11 2018 at 22:33)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758727):
<p>No</p>

#### [ Patrick Massot (Sep 11 2018 at 22:34)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758783):
<p>I think this stream is safe</p>

#### [ Patrick Massot (Sep 11 2018 at 22:34)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758814):
<p>The point is that group PM is not suitable for what we were doing. That generates too many notifications</p>

#### [ Simon Hudon (Sep 11 2018 at 22:35)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758822):
<p>Amen</p>

#### [ Patrick Massot (Sep 11 2018 at 22:36)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758908):
<p>Reid, do you see things here?</p>

#### [ Patrick Massot (Sep 11 2018 at 22:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133758983):
<p>Reid should be back in</p>

#### [ Reid Barton (Sep 11 2018 at 22:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759031):
<p>Yep, I am now.</p>

#### [ Patrick Massot (Sep 11 2018 at 22:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759034):
<p>And should see the full history, which is another advantage compared to group PM</p>

#### [ Reid Barton (Sep 11 2018 at 22:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759035):
<p>Indeed I can</p>

#### [ Patrick Massot (Sep 11 2018 at 22:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759037):
<p>(this was an option when creating the stream)</p>

#### [ Patrick Massot (Sep 11 2018 at 22:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759059):
<p>Ok, let's stop using the group PM and its endless series of emails and notification popups</p>

#### [ Patrick Massot (Sep 11 2018 at 22:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759082):
<blockquote>
<p>Did you need the help of an administrator to create this stream?</p>
</blockquote>
<p>No</p>

#### [ Patrick Massot (Sep 11 2018 at 22:41)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133759203):
<p>What's the story of <code>fast_matrix</code>? Is it fast to compute because it uses <code>vector</code>? Or is it only fast to type because of the notation?</p>

#### [ Johan Commelin (Sep 12 2018 at 04:22)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133773618):
<blockquote>
<p>What's the story of <code>fast_matrix</code>? Is it fast to compute because it uses <code>vector</code>? Or is it only fast to type because of the notation?</p>
</blockquote>
<p>Shouldn't this go into a new thread <span class="emoji emoji-1f923" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>

#### [ Johan Commelin (Sep 12 2018 at 04:24)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133773678):
<p>To answer your question: <code>fast_matrix</code> is now obsolete, since <span class="user-mention" data-user-id="120536">@Jack Crawford</span> pushed an implementation that is a lot more fleshed out. His implementation is both supposed to be faster to compute with and easier to type. You can use the equation compiler to grab the <code>a b c d</code> out of a <code>2x2</code> matrix, which makes for readable definitions.</p>

#### [ Johan Commelin (Sep 12 2018 at 04:25)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133773689):
<p>Also: very good idea to create a private stream. I didn't know this was possible. We should have done that 1 week ago.</p>

#### [ Johan Commelin (Sep 12 2018 at 04:26)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/133773735):
<p>The cool side effect is that we can give Kevin access, and he can read through the history of all of our discussions <span class="emoji emoji-1f606" title="lol">:lol:</span></p>

#### [ Kenny Lau (Sep 16 2018 at 10:48)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134046203):
<p>ok so we have 4 days left</p>

#### [ Kenny Lau (Sep 16 2018 at 10:48)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134046204):
<p>can we come up with a realistic list of goals</p>

#### [ Kenny Lau (Sep 16 2018 at 10:48)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134046205):
<p>or a list of realistic goals?</p>

#### [ Patrick Massot (Sep 16 2018 at 18:08)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134059705):
<p>Mario, do you see anything in this repo that could hope to get into mathlib?</p>

#### [ Johan Commelin (Sep 17 2018 at 06:03)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134078972):
<p>Like I said, I'll be gone on Wednesday, so I can only contribute today and tomorrow.</p>

#### [ Johan Commelin (Sep 17 2018 at 06:04)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134079018):
<p>I think either: we start cleaning up; or we focus on the Hecke operator (on the complex vector space (=module <span class="emoji emoji-1f606" title="lol">:lol:</span>) of modular forms.</p>

#### [ Johan Commelin (Sep 17 2018 at 06:04)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134079020):
<p>This second option will probably force us to clean up other stuff as well.</p>

#### [ Johan Commelin (Sep 17 2018 at 06:05)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134079029):
<p>Otoh, we could also leave the modular form part of the repo as it is.</p>

#### [ Johan Commelin (Sep 17 2018 at 06:05)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134079032):
<p>And then we could focus all our time on <code>exp</code> and friends.</p>

#### [ Johan Commelin (Sep 18 2018 at 08:41)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134148818):
<p><span class="emoji emoji-1f514" title="bell">:bell:</span> We have 99 commits in the <code>kbb</code> repository! Well done to everyone who contributed!</p>

#### [ Patrick Massot (Sep 18 2018 at 10:52)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134153709):
<p>What's the status of the Hecke operator file? I don't even understand the maths here. What is the meaning of the first displayed formula at <a href="https://en.wikipedia.org/wiki/Hecke_operator#Explicit_formula" target="_blank" title="https://en.wikipedia.org/wiki/Hecke_operator#Explicit_formula">https://en.wikipedia.org/wiki/Hecke_operator#Explicit_formula</a>? Is each term in the sum meant to be well defined? Or only the sum? If I naively try to change (a b c d) by multiplication by a element of SL2Z and use the weight formula for f, I don't seem to get the same term.</p>

#### [ Johan Commelin (Sep 18 2018 at 11:04)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154192):
<p>You should get the same term, right? Or did I mess something up. I was quite convinced that every term in the sum was well-defined.</p>

#### [ Johan Commelin (Sep 18 2018 at 11:05)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154220):
<p>But maybe we should just delete this file... I think I aimed to high.</p>

#### [ Patrick Massot (Sep 18 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154275):
<p>I don't understand the wikipedia page, so you don't need to mess up anything</p>

#### [ Patrick Massot (Sep 18 2018 at 11:06)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154286):
<p>What is the pen and paper proof that each term in the sum is well-defined?</p>

#### [ Patrick Massot (Sep 18 2018 at 11:07)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154293):
<p>I must be missing something obvious</p>

#### [ Johan Commelin (Sep 18 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154358):
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>c</mi><mi>z</mi><mo>+</mo><mi>d</mi><msup><mo>)</mo><mrow><mo>−</mo><mi>k</mi></mrow></msup><mi>f</mi><mo>(</mo><mfrac><mrow><mi>a</mi><mi>z</mi><mo>+</mo><mi>b</mi></mrow><mrow><mi>c</mi><mi>z</mi><mo>+</mo><mi>d</mi></mrow></mfrac><mo>)</mo><mo>=</mo><mo>(</mo><mi>c</mi><mi>z</mi><mo>+</mo><mi>d</mi><msup><mo>)</mo><mrow><mo>−</mo><mi>k</mi></mrow></msup><mi>f</mi><mo>(</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>a</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mi>z</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(cz + d)^{-k} f(\frac{az + b}{cz + d}) = (cz + d)^{-k} f(\begin{pmatrix} a &amp; b \\ c &amp; d \end{pmatrix}z)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.45em;"></span><span class="strut bottom" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="base"><span class="mopen">(</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mbin">+</span><span class="mord mathit">d</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">c</span><span class="mord mathit mtight" style="margin-right:0.04398em;">z</span><span class="mbin mtight">+</span><span class="mord mathit mtight">d</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">a</span><span class="mord mathit mtight" style="margin-right:0.04398em;">z</span><span class="mbin mtight">+</span><span class="mord mathit mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mrel">=</span><span class="mopen">(</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mbin">+</span><span class="mord mathit">d</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathit mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">a</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">b</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>, is that right?</p>

#### [ Patrick Massot (Sep 18 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154363):
<p>yes</p>

#### [ Johan Commelin (Sep 18 2018 at 11:08)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154371):
<p>So now we take another representative: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>a</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>d</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M\begin{pmatrix}a &amp; b \\ c &amp; d \end{pmatrix}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:1.45em;"></span><span class="strut bottom" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">a</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">b</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></p>

#### [ Patrick Massot (Sep 18 2018 at 11:09)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154396):
<p>The trouble is that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo>↦</mo><mo>(</mo><mi>c</mi><mi>z</mi><mo>+</mo><mi>d</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">a, b, c, d \mapsto  (cz+d)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit">a</span><span class="mpunct">,</span><span class="mord mathit">b</span><span class="mpunct">,</span><span class="mord mathit">c</span><span class="mpunct">,</span><span class="mord mathit">d</span><span class="mrel">↦</span><span class="mopen">(</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:0.04398em;">z</span><span class="mbin">+</span><span class="mord mathit">d</span><span class="mclose">)</span></span></span></span> is not a group morphism</p>

#### [ Johan Commelin (Sep 18 2018 at 11:10)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154440):
<p>Hmm, I'm also getting myself confused.</p>

#### [ Patrick Massot (Sep 18 2018 at 11:11)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154477):
<p>If that were a group morphism then everything would be obviously ok</p>

#### [ Patrick Massot (Sep 18 2018 at 11:12)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154523):
<p>Too bad we can't ask Kevin</p>

#### [ Reid Barton (Sep 18 2018 at 11:13)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154565):
<p>It shouldn't be a group morphism, it should be a 1-cocycle, or something. Right? Because <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.04398em;">z</span></span></span></span> is changing too</p>

#### [ Patrick Massot (Sep 18 2018 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154612):
<p>oh yes, z is changing</p>

#### [ Patrick Massot (Sep 18 2018 at 11:14)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154613):
<p>I think it's not changing enough on my paper</p>

#### [ Patrick Massot (Sep 18 2018 at 11:18)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154825):
<p>Ok, it works now</p>

#### [ Patrick Massot (Sep 18 2018 at 11:19)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154829):
<p>You can continue to do number theory, it's alright</p>

#### [ Patrick Massot (Sep 18 2018 at 11:19)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154857):
<p>It was only a stupid copy-paste mistake</p>

#### [ Johan Commelin (Sep 18 2018 at 11:20)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154934):
<p>It also works on my paper</p>

#### [ Johan Commelin (Sep 18 2018 at 11:20)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154945):
<p>So, we've proven it! Let's move on to the next maths theorem (-;</p>

#### [ Patrick Massot (Sep 18 2018 at 11:20)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154949):
<p>It shouldn't be that hard to Lean (modulo those f***ing cast and coes)</p>

#### [ Johan Commelin (Sep 18 2018 at 11:21)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154962):
<p>Right, Kenny did a lot of useful stuff (-;</p>

#### [ Johan Commelin (Sep 18 2018 at 11:21)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154965):
<p>But all those actions of matrices on each other, and on the upper half plane...</p>

#### [ Johan Commelin (Sep 18 2018 at 11:21)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134154969):
<p>That's going to be quite a pain.</p>

#### [ Johan Commelin (Sep 18 2018 at 11:25)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134155112):
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Are you willing to take a shot at it?</p>

#### [ Patrick Massot (Sep 18 2018 at 11:25)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134155121):
<p>I may try in the afternoon</p>

#### [ Patrick Massot (Sep 18 2018 at 11:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156129):
<p>I cleaned up a tiny bit but several things are weird. First I cannot sorry the proof. Lean complains there are remaining meta-variables, but I don't see where. And I have an hypothesis <code>H: A ≈ B</code> that I found no way to destruct into the existence of P in SL2 such that B = PA. This is not such a suprise because the beginning of the proof is really a mess</p>

#### [ Patrick Massot (Sep 18 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156173):
<p>I think this is a very bad start. <span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> could you have a look?</p>

#### [ Johan Commelin (Sep 18 2018 at 11:56)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156261):
<p>Right... my brain stopped working after I wrote the start of that file. Guess why...</p>

#### [ Johannes Hölzl (Sep 18 2018 at 12:04)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156613):
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> where should I look? I have no idea what a Hecke operator is. Did you push your commits, I don't see anything in kbb.</p>

#### [ Johan Commelin (Sep 18 2018 at 12:05)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156640):
<p>There is a file called <code>Hecke_operator</code> or something</p>

#### [ Johan Commelin (Sep 18 2018 at 12:05)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156648):
<p>The mathy definition is here: <a href="https://en.wikipedia.org/wiki/Hecke_operator#Explicit_formula" target="_blank" title="https://en.wikipedia.org/wiki/Hecke_operator#Explicit_formula">https://en.wikipedia.org/wiki/Hecke_operator#Explicit_formula</a></p>

#### [ Johan Commelin (Sep 18 2018 at 12:06)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156694):
<p>To prove that the sum is over a finite set, we need to use the stuff that you cleaned up.</p>

#### [ Johannes Hölzl (Sep 18 2018 at 12:07)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156734):
<p>Hm, the statements shouldn't change, besides <code>reduce_def</code> which is now <code>reduce_eq1</code>, <code>reduce_eq2, </code>reduce_eq3`.</p>

#### [ Johan Commelin (Sep 18 2018 at 12:12)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156921):
<p>Right, line 12 should be</p>
<div class="codehilite"><pre><span></span>  <span class="n">haveI</span> <span class="o">:=</span> <span class="n">SL2Z_M</span><span class="bp">.</span><span class="n">finiteness</span> <span class="n">m</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="n">h</span><span class="o">),</span>
</pre></div>

#### [ Patrick Massot (Sep 18 2018 at 12:13)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134156983):
<p>Crap. I forgot to push</p>

#### [ Patrick Massot (Sep 18 2018 at 12:14)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134157050):
<p>And I left my computer</p>

#### [ Patrick Massot (Sep 18 2018 at 12:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134157917):
<p>Fixed</p>

#### [ Patrick Massot (Sep 18 2018 at 12:40)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134157967):
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> Now you can have a look, sorry about the false start</p>

#### [ Johan Commelin (Sep 18 2018 at 12:52)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158356):
<p>I'm a bit scared about the fact that we only know that <code>SL2Z_H</code> is a group action.</p>

#### [ Johan Commelin (Sep 18 2018 at 12:52)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158362):
<p>It seems like we would want to know that <code>MAT2_H</code> is a monoid action.</p>

#### [ Patrick Massot (Sep 18 2018 at 12:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158374):
<p>Oh yes, we need that</p>

#### [ Johan Commelin (Sep 18 2018 at 12:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158376):
<p>But refactoring <code>SL2Z</code> into a subtype of <code>MAT2</code> give me a headache</p>

#### [ Patrick Massot (Sep 18 2018 at 12:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158378):
<p>I thought this was the reason you put det &gt; 0 everywhere instead of det = 1</p>

#### [ Johan Commelin (Sep 18 2018 at 12:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158379):
<p>Because that means we have to go through all of Kenny's code again</p>

#### [ Patrick Massot (Sep 18 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158385):
<p>And this is why I don't understand how term mode code could be easier to maintain</p>

#### [ Johan Commelin (Sep 18 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158428):
<p>They set things up in the correct way the first time.</p>

#### [ Patrick Massot (Sep 18 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158435):
<p>No, that's not what refactoring means</p>

#### [ Johan Commelin (Sep 18 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158436):
<p>Instead of me: I only get it right after 42 attemts.</p>

#### [ Johan Commelin (Sep 18 2018 at 12:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158439):
<p>You're right.</p>

#### [ Johan Commelin (Sep 18 2018 at 12:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158448):
<p>But I agree that it is really confusing that we can not unfold that equivalence between <code>A</code> and <code>B</code></p>

#### [ Johan Commelin (Sep 18 2018 at 12:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158453):
<p>After we have that, we could try to just battle on.</p>

#### [ Johan Commelin (Sep 18 2018 at 12:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134158464):
<p>Although it might be nicer to have the monoid action do some work for us</p>

#### [ Johan Commelin (Sep 18 2018 at 13:25)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134159698):
<p>Oh my goodness. If we want to generalise stuff to monoid actions there I'm so scared that everything breaks. I've learned a lesson: first try to think out some good API's.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:28)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134159883):
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> So we have two problems: (1) how do we unfold the equivalence in <code>hecke_operator.lean</code>.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:29)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134159892):
<p>By definition <code>A</code> and <code>B</code> are equivalent if there is an <code>M : SL2Z</code> such that <code>A = MB</code>.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:29)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134159900):
<p>We want to get that <code>M</code> out.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134159998):
<p>And (2), to get a readable (and workable) version of the Hecke operator, it would be good to have <code>A • z</code> where <code>A</code> is any 2x2-matrix with integer coefficients, and <code>z : ℍ</code>.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160047):
<p>In the end we will get <code>(M • B) • z</code>, and then we want to know that this is the same thing as <code>M • (B • z)</code></p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160057):
<p>So, first I fixed the basic definition. We currently had some missing goals (the anonymous constructor was outside tactic mode, so some type class instances where missing)</p>

#### [ Johan Commelin (Sep 18 2018 at 13:35)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160259):
<p>Ok, I guess that helps a bit (-;</p>

#### [ Patrick Massot (Sep 18 2018 at 13:36)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160307):
<p>I suspected something like this</p>

#### [ Johan Commelin (Sep 18 2018 at 13:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160341):
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> Do you think it would be better if Möbius_transform turned into • notation?</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160401):
<p>Uh, overloading <code> • </code> could be problematic, at least annoying...</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160409):
<p>Why do we know that <code>A</code> an <code>B</code> are representatives?</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160410):
<p>so in<code>reps</code>?</p>

#### [ Johan Commelin (Sep 18 2018 at 13:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160415):
<p>No, we don't know that</p>

#### [ Patrick Massot (Sep 18 2018 at 13:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160419):
<p>We don't need that</p>

#### [ Johan Commelin (Sep 18 2018 at 13:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160421):
<p>They are merely "any representative"</p>

#### [ Patrick Massot (Sep 18 2018 at 13:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160427):
<p>This reps story is all used up in the finiteness fact</p>

#### [ Patrick Massot (Sep 18 2018 at 13:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160431):
<p>We won't use it again</p>

#### [ Patrick Massot (Sep 18 2018 at 13:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160434):
<p>in this proof</p>

#### [ Johan Commelin (Sep 18 2018 at 13:40)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160481):
<blockquote>
<p>We won't use it again</p>
</blockquote>
<p>We promise.</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:40)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160483):
<p>but we could use them to define the Hecke operator? Then we don't need to lift the quotients...</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:40)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160492):
<p>of course, later we need the proof anyway</p>

#### [ Johan Commelin (Sep 18 2018 at 13:40)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160497):
<p>Hmm, I suppose so.</p>

#### [ Patrick Massot (Sep 18 2018 at 13:41)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160506):
<p>That would be cheating</p>

#### [ Johan Commelin (Sep 18 2018 at 13:41)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160508):
<p>And "later" will be after the birthday party.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:43)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160594):
<p><span class="user-mention" data-user-id="110294">@Johannes Hölzl</span> Why would we be overloading <code>•</code>? The monoid action <code>MAT2 → ℍ → ℍ</code> can be an instance of <code>has_scalar</code> right?</p>

#### [ Johan Commelin (Sep 18 2018 at 13:43)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160604):
<p>We don't have <code>MAT2</code>, but I think every monoid action should be an instance of <code>has_scalar</code>.</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:43)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160605):
<p>ah, okay. I thought you wanted to add another <code>notation</code>...</p>

#### [ Patrick Massot (Sep 18 2018 at 13:43)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160610):
<p>It's interesting to know how far one should be allowed to go into definition cheating. Say I want to prove RH in Lean. I define the usual zeta, call it zeta', and then define zeta(z) to be zeta'(z) if z is not a surprising zero of zeta', and one otherwise. Then I prove RH, and all is left is proving my definition of zeta is equivalent to the usual one...</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:45)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160688):
<p>what do you mean you want t get the <code>M</code> out? Like <code>rintros A B ⟨M, eq⟩,</code> works...</p>

#### [ Johan Commelin (Sep 18 2018 at 13:45)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160695):
<p>I guess so</p>

#### [ Patrick Massot (Sep 18 2018 at 13:45)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160697):
<p>I think it works because of your previous fix</p>

#### [ Patrick Massot (Sep 18 2018 at 13:46)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160700):
<p>It definitely didn't work this morning</p>

#### [ Johan Commelin (Sep 18 2018 at 13:46)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160742):
<p>Good!</p>

#### [ Johan Commelin (Sep 18 2018 at 13:46)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160749):
<p>Because now we can <code>rw</code> along <code>eq</code>, and then the fight begins!</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:47)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160764):
<p>The current state is</p>
<div class="codehilite"><pre><span></span><span class="bp">...</span>
<span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="n">Mat</span> <span class="n">m</span><span class="o">,</span>
<span class="n">M</span> <span class="o">:</span> <span class="n">SL2Z</span><span class="o">,</span>
<span class="n">eq</span> <span class="o">:</span> <span class="n">SL2Z_M</span> <span class="n">m</span> <span class="n">M</span> <span class="n">A</span> <span class="bp">=</span> <span class="n">B</span><span class="o">,</span>
<span class="n">weight_f</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">M</span> <span class="o">:</span> <span class="n">SL2Z</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="o">:</span> <span class="o">{</span><span class="n">x</span> <span class="bp">//</span> <span class="n">x</span> <span class="err">∈</span> <span class="n">ℍ</span><span class="o">}),</span>
    <span class="n">f</span> <span class="bp">⟨</span><span class="err">«</span><span class="n">M</span><span class="err">ö</span><span class="n">bius_transform</span><span class="err">»</span> <span class="err">↑</span><span class="o">(</span><span class="n">M</span><span class="bp">.</span><span class="n">a</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">M</span><span class="bp">.</span><span class="n">b</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">M</span><span class="bp">.</span><span class="n">c</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">M</span><span class="bp">.</span><span class="n">d</span><span class="o">)</span> <span class="err">↑</span><span class="n">z</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">=</span>
      <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">M</span><span class="bp">.</span><span class="n">c</span><span class="o">)</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">z</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">M</span><span class="bp">.</span><span class="n">d</span><span class="o">))</span> <span class="err">^</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">f</span> <span class="n">z</span>
<span class="err">⊢</span> <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">A</span><span class="bp">.</span><span class="n">c</span><span class="o">)</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">z</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">A</span><span class="bp">.</span><span class="n">d</span><span class="o">))</span> <span class="err">^</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span>
      <span class="n">f</span> <span class="bp">⟨</span><span class="err">«</span><span class="n">M</span><span class="err">ö</span><span class="n">bius_transform</span><span class="err">»</span> <span class="err">↑</span><span class="o">(</span><span class="n">A</span><span class="bp">.</span><span class="n">a</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">A</span><span class="bp">.</span><span class="n">b</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">A</span><span class="bp">.</span><span class="n">c</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">A</span><span class="bp">.</span><span class="n">d</span><span class="o">)</span> <span class="err">↑</span><span class="n">z</span><span class="o">,</span> <span class="bp">_⟩</span> <span class="bp">=</span>
    <span class="mi">1</span> <span class="bp">/</span> <span class="o">(</span><span class="err">↑</span><span class="o">(</span><span class="n">B</span><span class="bp">.</span><span class="n">c</span><span class="o">)</span> <span class="bp">*</span> <span class="err">↑</span><span class="n">z</span> <span class="bp">+</span> <span class="err">↑</span><span class="o">(</span><span class="n">B</span><span class="bp">.</span><span class="n">d</span><span class="o">))</span> <span class="err">^</span> <span class="o">(</span><span class="n">k</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span>
      <span class="n">f</span> <span class="bp">⟨</span><span class="err">«</span><span class="n">M</span><span class="err">ö</span><span class="n">bius_transform</span><span class="err">»</span> <span class="err">↑</span><span class="o">(</span><span class="n">B</span><span class="bp">.</span><span class="n">a</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">B</span><span class="bp">.</span><span class="n">b</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">B</span><span class="bp">.</span><span class="n">c</span><span class="o">)</span> <span class="err">↑</span><span class="o">(</span><span class="n">B</span><span class="bp">.</span><span class="n">d</span><span class="o">)</span> <span class="err">↑</span><span class="n">z</span><span class="o">,</span> <span class="bp">_⟩</span>
</pre></div>


<p>Is this what you want?</p>

#### [ Patrick Massot (Sep 18 2018 at 13:47)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160780):
<p>Yep</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:47)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160800):
<p>ah, okay. Its in <code>kbb</code> now</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:50)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160898):
<p>by the way: it is surely good style to define <code>Möbius_transform</code> on <code>Mat m</code> instead fof integer tuples.</p>

#### [ Patrick Massot (Sep 18 2018 at 13:50)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160955):
<p>I hate this integer tuples thing. I don't understand why we don't use matrices everywhere</p>

#### [ Johan Commelin (Sep 18 2018 at 13:50)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160962):
<p>Right, so why don't we define it on <code>matrix (fin 2) (fin 2) R</code> where <code>R</code> is a subring of <code>ℝ</code>?</p>

#### [ Johan Commelin (Sep 18 2018 at 13:51)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160981):
<p>Also, can we have a coercion from <code>ℕ</code> to <code>fintype</code>, that sends <code>n</code> to <code>fin n</code>?</p>

#### [ Johan Commelin (Sep 18 2018 at 13:51)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134160986):
<p>Then stuff becomes even more readable (-;</p>

#### [ Johan Commelin (Sep 18 2018 at 13:52)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161039):
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> I think we should. But with an old version of matrices it was hard to actually write down examples.</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161089):
<p>Hm, having a coerion from <code>ℕ</code> to <code>Type</code> would be nice!</p>

#### [ Johannes Hölzl (Sep 18 2018 at 13:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161157):
<p>Ah, I see there is <code>SL2Z_H</code>. So maybe we want a similar form for <code>Mat m</code>?</p>

#### [ Johan Commelin (Sep 18 2018 at 13:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161158):
<p>It is in the repo, but I haven't pushed yet.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161173):
<p>Well, <code>MAT2</code> really. And afterwards we can restrict to subtypes.</p>

#### [ Johan Commelin (Sep 18 2018 at 13:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161174):
<p><code>Mat m</code> is a bad algebraic structure</p>

#### [ Johan Commelin (Sep 18 2018 at 13:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161183):
<p>It isn't a monoid</p>

#### [ Johan Commelin (Sep 18 2018 at 14:09)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161855):
<p>So, we have</p>
<div class="codehilite"><pre><span></span><span class="bp">@</span><span class="o">[</span><span class="n">simp</span><span class="o">]</span> <span class="kn">theorem</span> <span class="n">one_val_ne</span> <span class="o">{</span><span class="n">i</span> <span class="n">j</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">i</span> <span class="bp">≠</span> <span class="n">j</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">matrix</span> <span class="n">n</span> <span class="n">n</span> <span class="n">α</span><span class="o">)</span> <span class="n">i</span> <span class="n">j</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">simp</span> <span class="o">[</span><span class="n">one_val</span><span class="o">,</span> <span class="n">h</span><span class="o">]</span>
</pre></div>


<p>in the matrices file. I would like Lean to try and figure out on its own if <code>h</code> is satisfied. In <code>fin 2</code> it should know that <code>0 ≠ 1</code>.</p>

#### [ Johan Commelin (Sep 18 2018 at 14:09)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161860):
<p>Is this something that an <code>auto_param</code> like <code>dec_trivial</code> could do?</p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:09)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161865):
<p>Okay, I added <code>M_trans</code> anyway.</p>

#### [ Johan Commelin (Sep 18 2018 at 14:10)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161905):
<p>How do I need to change the statement?</p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:11)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161966):
<p>Either add a tactic: <code>dec_tac := ``[exact dec_trivial]</code> and use this: <code>(h : i ≠ j . dec_tac)</code></p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:11)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134161972):
<p>or use default parameter <code>(h : i ≠ j := dec_trivial)</code></p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:12)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162023):
<p>I don't know if the default parameter work. If <code>dec_trivial</code> gets evaluated too early it might not work</p>

#### [ Johan Commelin (Sep 18 2018 at 14:12)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162030):
<p>I'll try.</p>

#### [ Johan Commelin (Sep 18 2018 at 14:13)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162037):
<p>Ok, the <code>M_trans</code> is nice. So now we need to plug that into the definition of the Hecke operator.</p>

#### [ Johan Commelin (Sep 18 2018 at 14:15)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162127):
<p>It isn't happy about <code>meta def dec_tac : tactic unit := ``[exact dec_trivial]</code></p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:16)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162193):
<div class="codehilite"><pre><span></span><span class="n">meta</span> <span class="n">def</span> <span class="n">dec_tac</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">[</span><span class="n">exact</span> <span class="n">dec_trivial</span><span class="o">]</span>
</pre></div>


<p>maybe?</p>

#### [ Johan Commelin (Sep 18 2018 at 14:17)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162212):
<p>That worked</p>

#### [ Johan Commelin (Sep 18 2018 at 14:19)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162280):
<p>So now my goal is:</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">:</span> <span class="n">ℂ</span>
<span class="err">⊢</span> <span class="o">(</span><span class="n">z</span> <span class="bp">+</span> <span class="err">↑</span><span class="mi">0</span><span class="o">)</span> <span class="bp">/</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">+</span> <span class="err">↑</span><span class="mi">0</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>


<p>If Kevin saw that goal...</p>

#### [ Johan Commelin (Sep 18 2018 at 14:19)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162284):
<p><code>simp</code> didn't kill it.</p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:19)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162298):
<p>Does <code>unfold_coes</code> help?</p>

#### [ Johan Commelin (Sep 18 2018 at 14:21)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162386):
<p>Is that a tactic?</p>

#### [ Johannes Hölzl (Sep 18 2018 at 14:21)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162389):
<p>yes</p>

#### [ Johan Commelin (Sep 18 2018 at 14:24)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162554):
<p>It doesn't help enough...</p>

#### [ Johan Commelin (Sep 18 2018 at 14:25)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134162562):
<p>I'll go back to the Hecke operator for a moment.</p>

#### [ Johan Commelin (Sep 18 2018 at 16:59)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134171534):
<p>Ok guys... I'm gone for a week. I might be able to check Zulip now and then, but I won't be able to do any serious Leaning until next week on Thursday.</p>

#### [ Johan Commelin (Sep 18 2018 at 16:59)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134171542):
<p>I'm looking forward to Kevin's reaction on Friday</p>

#### [ Johan Commelin (Sep 18 2018 at 16:59)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134171549):
<p>Thanks for all your help so far! I really enjoyed it!</p>

#### [ Patrick Massot (Sep 18 2018 at 16:59)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134171554):
<p>Thanks for all your efforts</p>

#### [ Patrick Massot (Sep 18 2018 at 16:59)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134171562):
<p>But we still haven't decided what will happen on Friday</p>

#### [ Patrick Massot (Sep 19 2018 at 11:21)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221099):
<p>Seriously, what are we doing tomorrow? <span class="user-mention" data-user-id="110044">@Chris Hughes</span> will you see Kevin tomorrow?</p>

#### [ Johan Commelin (Sep 19 2018 at 11:28)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221346):
<p>Tomorrow is Thursday. I guess any cleaning up that we want to do should be done today or tomorrow. On Friday we give Kevin access to <code>kbb</code> and we PR the determinants file and the remainder of matrices.lean</p>

#### [ Johan Commelin (Sep 19 2018 at 11:29)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221361):
<p>I don't think there is much in the modular form files that is ready to merge.</p>

#### [ Chris Hughes (Sep 19 2018 at 11:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221427):
<p>What about sin and cos? We don't have pi yet, but we do have sin and cos.</p>

#### [ Patrick Massot (Sep 19 2018 at 11:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221434):
<p>I would veto the current definition of sin</p>

#### [ Patrick Massot (Sep 19 2018 at 11:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221437):
<p>unless it changed recently</p>

#### [ Chris Hughes (Sep 19 2018 at 11:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221441):
<p>How come?</p>

#### [ Johan Commelin (Sep 19 2018 at 11:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221442):
<p>What was wrong with it?</p>

#### [ Patrick Massot (Sep 19 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221456):
<p>Would you write this on a blackboard?</p>

#### [ Patrick Massot (Sep 19 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221457):
<p><code>def sin (z : ℂ) : ℂ := ((exp (-z * I) - exp (z * I)) * I) / 2</code></p>

#### [ Patrick Massot (Sep 19 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221458):
<p>come on</p>

#### [ Kenny Lau (Sep 19 2018 at 11:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221460):
<p>I don't see what's wrong with it</p>

#### [ Patrick Massot (Sep 19 2018 at 11:32)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221501):
<p>Is it the definition in the UK?</p>

#### [ Johan Commelin (Sep 19 2018 at 11:32)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221507):
<p>I think a PR on <code>exp</code> would be nice. Possibly including <code>cos</code> und <code>sin</code>. Hopefully that will induce a rampage by some Lean-fu experts to prove continuity.</p>

#### [ Johan Commelin (Sep 19 2018 at 11:32)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221514):
<p>I don't even know what definition of <code>sin</code> I saw. My training in analysis was terrible.</p>

#### [ Johan Commelin (Sep 19 2018 at 11:33)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221529):
<p>Possibly it was the analytic continuation of <code>real.sin</code></p>

#### [ Johan Commelin (Sep 19 2018 at 11:33)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221542):
<p>I don't know how <code>real.sin</code> was defined. Probably using angles etc...</p>

#### [ Chris Hughes (Sep 19 2018 at 11:33)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221543):
<p>I'm going to have a serious bash on continuity today. The definition I saw was <code>((exp (z * I) - exp (-z * I))) / (2 * I)</code></p>

#### [ Patrick Massot (Sep 19 2018 at 11:33)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221545):
<p>In France, <code>sin z = (exp (z * I) - exp (-z * I)) * I) / (2*I)</code></p>

#### [ Kenny Lau (Sep 19 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221591):
<p>is there any difference?</p>

#### [ Patrick Massot (Sep 19 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221595):
<p>Yes. One is the definition people expect to see, the other one could be a useful lemma if Chris needs it</p>

#### [ Chris Hughes (Sep 19 2018 at 11:34)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221598):
<p>I multiplied by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">-i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord">−</span><span class="mord mathit">i</span></span></span></span>, Patrick divided by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">i</span></span></span></span>.</p>

#### [ Patrick Massot (Sep 19 2018 at 11:35)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221622):
<p>Chris, why did you do that?</p>

#### [ Chris Hughes (Sep 19 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221668):
<p>It's easier to prove <code>sin (x + y)</code> because I have less division to deal with.</p>

#### [ Patrick Massot (Sep 19 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221671):
<p>Then you could use a lemma</p>

#### [ Patrick Massot (Sep 19 2018 at 11:36)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221679):
<p>Actually I don't understand why you use these proofs for sin(x+y) etc.</p>

#### [ Chris Hughes (Sep 19 2018 at 11:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221697):
<p>Which proofs should I use?</p>

#### [ Patrick Massot (Sep 19 2018 at 11:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221698):
<p>Why not taking real and imaginary parts of the equation exp(i(x+y)) = exp(ix)exp(iy)?</p>

#### [ Patrick Massot (Sep 19 2018 at 11:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221700):
<p>That's the real life proof</p>

#### [ Patrick Massot (Sep 19 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221757):
<p>But I guess you should rather prove continuity and try to get pi</p>

#### [ Patrick Massot (Sep 19 2018 at 11:38)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221767):
<p>And also answer my question: will you see Kevin tomorrow?</p>

#### [ Chris Hughes (Sep 19 2018 at 11:39)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221789):
<p>Yes.</p>

#### [ Johan Commelin (Sep 19 2018 at 11:42)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221877):
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> Why tomorrow? Don't you mean Friday? Or do you have some plan in mind?</p>

#### [ Chris Hughes (Sep 19 2018 at 11:43)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134221946):
<p>I won't see him on Friday.</p>

#### [ Johan Commelin (Sep 19 2018 at 11:44)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222018):
<p><span class="user-mention" data-user-id="110524">@Scott Morrison</span> Could you give Kevin access when it is Friday 09:00 your time? Because then it is 00:00 his time, I think.</p>

#### [ Scott Morrison (Sep 19 2018 at 11:44)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222025):
<p>Sure.</p>

#### [ Johan Commelin (Sep 19 2018 at 11:45)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222034):
<p>Nice <span class="emoji emoji-1f606" title="lol">:lol:</span></p>

#### [ Patrick Massot (Sep 19 2018 at 11:54)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222408):
<p>I meant Friday, sorry</p>

#### [ Johan Commelin (Sep 19 2018 at 11:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222422):
<p>And <span class="user-mention" data-user-id="110064">@Kenny Lau</span> isn't back in the UK at that point, I guess?</p>

#### [ Kenny Lau (Sep 19 2018 at 11:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222425):
<p>i'm not</p>

#### [ Johan Commelin (Sep 19 2018 at 11:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222428):
<p>Patrick, were you thinking of physically giving him some gift? A print-out of the files <span class="emoji emoji-1f606" title="lol">:lol:</span> ?</p>

#### [ Patrick Massot (Sep 19 2018 at 11:57)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222492):
<p>I wanted someone who could see his face and tell us.</p>

#### [ Johan Commelin (Sep 19 2018 at 11:58)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134222498):
<p>Agreed, that would be nice.</p>

#### [ Mario Carneiro (Sep 19 2018 at 18:17)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134252029):
<blockquote>
<p>Why not taking real and imaginary parts of the equation exp(i(x+y)) = exp(ix)exp(iy)?</p>
</blockquote>
<p>That only proves the addition formulas for sin and cos when the arguments are real</p>

#### [ Patrick Massot (Sep 19 2018 at 18:17)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134252043):
<p>oh yes</p>

#### [ Mario Carneiro (Sep 19 2018 at 18:18)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134252084):
<p>I don't think there is any substitute for just doing the algebra in the complex case</p>

#### [ Patrick Massot (Sep 19 2018 at 18:18)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134252094):
<p>I never thought about the complex case here</p>

#### [ Patrick Massot (Sep 19 2018 at 18:18)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134252096):
<p>crazy</p>

#### [ Reid Barton (Sep 19 2018 at 18:35)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134253196):
<p>no problem. then just show that two holomorphic functions which agree on the real line are equal <span class="emoji emoji-1f643" title="upside down">:upside_down:</span></p>

#### [ Patrick Massot (Sep 19 2018 at 18:53)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134254330):
<p>Great !</p>

#### [ Johan Commelin (Sep 21 2018 at 00:27)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134341776):
<p>This is so amazing! Awesome! That was an immense tour de force, Chris. Well done!</p>

#### [ Johan Commelin (Sep 21 2018 at 00:30)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134341931):
<p>I am about to go to bed. I'm sorry I won't be able to be online when Kevin gets his birthday present. I am sure that you guys will be able to break the surprise! I'll read up on it afterwards (-;</p>

#### [ Scott Morrison (Sep 21 2018 at 00:36)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134342239):
<p>I think the plan is that in 24 minutes I will add Kevin to the kbb repository.</p>

#### [ Johan Commelin (Sep 21 2018 at 00:48)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134342791):
<p><span class="user-mention" data-user-id="110524">@Scott Morrison</span> Yes, that's a good plan!</p>

#### [ Johan Commelin (Sep 21 2018 at 00:48)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134342811):
<p>You can also add him to this stream on Zulip, and you can write a happy birthday post in the general stream.</p>

#### [ Johan Commelin (Sep 21 2018 at 00:49)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134342828):
<p>I should really go to bed now. Tomorrow I'll have 4 hard math-talks waiting for me...</p>

#### [ Johan Commelin (Sep 21 2018 at 00:49)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134342841):
<p>Happy PR'ing (-;</p>

#### [ Kevin Buzzard (Sep 21 2018 at 01:10)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134343917):
<p>wtf?</p>

#### [ Johan Commelin (Sep 21 2018 at 07:15)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134357029):
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  We hope you will enjoy reading back through all our crazy conversations of the last 10 days. <span class="emoji emoji-1f61c" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>

#### [ Simon Hudon (Sep 21 2018 at 07:16)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134357076):
<p>Did we bash Kevin in any of it?</p>

#### [ Patrick Massot (Sep 21 2018 at 08:49)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134360286):
<p>I don't remember doing it more than on the regular streams</p>

#### [ Patrick Massot (Sep 21 2018 at 08:51)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134360344):
<p>Kevin: the conversation about this project started in group PM but then it was generating a huge mess of notification for everybody, and I eventually found out anybody could create private streams. So the story of this stream starts in the middle.</p>

#### [ Patrick Massot (Sep 21 2018 at 08:55)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134360501):
<p>I think it's fair to point out that Johan came with this idea, on September 4th.</p>

#### [ Patrick Massot (Sep 21 2018 at 08:57)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134360595):
<p>In order to understand the mess in the repository, it may be relevant to know that, beyond Johan's idea of a birthday pi, the unrealistic idea that I proposed was to formal abstract <a href="https://www.sciencedirect.com/science/article/pii/S0022314X96900396?via%3Dihub" target="_blank" title="https://www.sciencedirect.com/science/article/pii/S0022314X96900396?via%3Dihub">https://www.sciencedirect.com/science/article/pii/S0022314X96900396?via%3Dihub</a></p>

#### [ Kevin Buzzard (Sep 21 2018 at 13:07)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134370973):
<p>ROFL</p>

#### [ Kevin Buzzard (Sep 21 2018 at 13:09)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134371054):
<p>That is so funny. That is a fine abstract to formalise. It would be trivial if there was a half-decent API for modular forms, and Lean is perfect for that sort of thing.</p>

#### [ Kevin Buzzard (Sep 21 2018 at 13:11)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134371148):
<p>You could formalise a mathematically equivalent statement more easily -- the eigenvalues of a Hecke operator on a space of modular forms are the same as the eigenvalues of a corresponding Hecke operator on a certain group cohomology group, by a theorem of Eichler and Shimura. Formalising group cohomology would perhaps be easier than formalising modular forms -- I'm not really sure but it sounds easier to me. Group cohomology is just there waiting to be done.</p>

#### [ Kevin Buzzard (Sep 21 2018 at 13:13)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134371225):
<p>I wrote that paper after hearing a talk of Dinakar Ramakrishnan, when he mentioned that he had never seen a modular eigenform whose Hecke eigenvalues generated a non-solvable extension of the rationals. Talking to him afterwards it became clear that this was only because there were no computer programs to compute modular forms, and that we all knew exactly where to look. I took the trouble to look and there they were. Dinakar urged me to write it up.</p>

#### [ Patrick Massot (Sep 21 2018 at 13:25)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134371722):
<p>We are not so far away from having Hecke operators (they almost act on functions of a fixed weight, and it shouldn't be so hard to show they act on holomorphic functions and preserve boundedness at infinity). We also have characteristic polynomial, and Johannes has been working towards Galois groups. But we mostly gave up when Johan pointed out that we would need that modular forms of a fixed weight form a finite dimensional subspace of holomorphic functions (we do have a vector space structure on holomorphic functions on the upper half plane).</p>

#### [ Kevin Buzzard (Sep 22 2018 at 11:43)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134430430):
<p>aie, yes, finite-dimensionality is needed. A trivial consequence of the fact that the global sections of a line bundle on a compact Riemann surface are finite-dimensional, so <code>by maths_undergraduate</code> should do it. I'm going to try and build that tactic at Imperial.</p>
<p>Finite-dimensionality for the group cohomology would be a trivial consequence of the fact that a finite index subgroup of a finitely-generated group is finitely-generated, and the fact that SL(2,Z) is finitely-generated. I don't know how easy it is to prove the finite index result just by group theory, I am no algebraist. The proofs I know are topological. The group cohomology variant would be provably equal once we had something like Stokes' theorem.</p>

#### [ Johan Commelin (Sep 22 2018 at 12:31)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134431763):
<p>We have the fact that <code>S</code> and <code>T</code> generate <code>SL2Z</code> in your birthday repo <span class="emoji emoji-1f606" title="lol">:lol:</span></p>

#### [ Kevin Buzzard (Sep 22 2018 at 13:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134434395):
<p>Right. But for finite-dimensionality of the cohomology group for general levels we'll need that a finite index subgroup of a f.g. group is f.g. But I see what you're saying -- this is enough to prove that level 1 modular forms are finite-dimensional.</p>

#### [ Kevin Buzzard (Sep 22 2018 at 13:37)](https://leanprover.zulipchat.com/#narrow/stream/141825-kbb/topic/hello/near/134434419):
<p>There is some kind of subtlety which I have only recently become aware of, and again it was a comment of <span class="user-mention" data-user-id="110032">@Reid Barton</span> which clarified things for me. Without some general theory of global sections of line bundles on compact Riemann surfaces it's kind of a pain to prove that the space of modular forms is finite-dimensional. But it is finite-dimensional, so one can define the char poly of a Hecke operator to be "if the space is infinite-dimensional then 37, and if it's finite-dimensional then the char poly". This gives a sorry-free way of defining the char poly which is human-provably equivalent to the right thing. What one <em>cannot</em> do is to get away without defining the Hecke operator at all and just sorrying it -- because then the char poly has a sorry in too.</p>
<p>One of the things I realise I want now is for a bunch of mathematicians to come along and say "can you formalise theorem X or definition Y in Lean?" because questions such as that are ways of discovering what kind of an API a normal mathematician (perhaps with no Lean training) wants. Who cares about proofs, they are too hard. I know that Mario feels that a definition is pointless without an application. How about if the application is some statements of theorems or conjectures?</p>


{% endraw %}
